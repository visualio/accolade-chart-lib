var Ef=Object.defineProperty,kf=Object.defineProperties;var Cf=Object.getOwnPropertyDescriptors;var eo=Object.getOwnPropertySymbols;var Tf=Object.prototype.hasOwnProperty,Nf=Object.prototype.propertyIsEnumerable;var ro=(K,j,st)=>j in K?Ef(K,j,{enumerable:!0,configurable:!0,writable:!0,value:st}):K[j]=st,Mt=(K,j)=>{for(var st in j||(j={}))Tf.call(j,st)&&ro(K,st,j[st]);if(eo)for(var st of eo(j))Nf.call(j,st)&&ro(K,st,j[st]);return K},nn=(K,j)=>kf(K,Cf(j));(function(K,j){typeof exports=="object"&&typeof module!="undefined"?j(exports):typeof define=="function"&&define.amd?define(["exports"],j):(K=typeof globalThis!="undefined"?globalThis:K||self,j(K["accolade-chart-lib"]={}))})(this,function(K){"use strict";function j(t){return!isNaN(parseFloat(t))&&isFinite(t)}function st(t){const e=[[]];let n=0;return t.forEach(r=>{n+1===r?e[e.length-1].push(r):e.push([r]),n=r}),e.sort((r,i)=>i.length-r.length),e[0]}function io(t){return t[Object.keys(t)[Object.keys(t).length-1]]}function Xn(t){return Object.values(t).reduce((e,{values:n})=>{const r=Math.max(...Object.values(n).map(i=>i.length));return r>e?r:e},0)}function Xe({r:t,g:e,b:n,a:r,r2:i=255,g2:o=255,b2:a=255}){return{r:Math.round((1-r)*i+r*t),g:Math.round((1-r)*o+r*e),b:Math.round((1-r)*a+r*n)}}function oo(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const Xt=1.7556,ao=.54,so=.68*.5,Ve=.05,Be=.5,mt="'Gotham CE', 'Gotham', sans-serif",Et=20,Vn=Et*3,Ye={bottom:85,right:0,top:Et,left:0},rt={tick:"#dcdee6",label:"#000",line:"#808285",area:"#dcdee6",point:"#fff",doughnutStroke:"#eaf6fe",doughnutCenter:"#28225c"},Ge={start:{r:0,g:0,b:0,a:0},end:{r:0,g:0,b:0,a:0},border:{r:0,g:0,b:0,a:0}},lo=[{r:206,g:2,b:32},{r:227,g:6,b:19},{r:244,g:69,b:0},{r:249,g:116,b:8},{r:245,g:156,b:0},{r:253,g:195,b:0},{r:255,g:222,b:20},{r:65,g:192,b:240},{r:7,g:169,b:219},{r:12,g:139,b:188},{r:0,g:120,b:179},{r:25,g:97,b:155},{r:29,g:68,b:130},{r:21,g:43,b:122},{r:41,g:35,b:92},{r:167,g:169,b:172}].map(t=>({start:{r:255,g:255,b:255,a:1},end:nn(Mt({},Xe(nn(Mt({},t),{a:.5}))),{a:1}),border:nn(Mt({},t),{a:1})}));function uo(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function kt(t,e,n,r){this.message=t,this.expected=e,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,kt)}uo(kt,Error),kt.buildMessage=function(t,e){var n={literal:function(f){return'"'+i(f.text)+'"'},class:function(f){var p="",g;for(g=0;g<f.parts.length;g++)p+=f.parts[g]instanceof Array?o(f.parts[g][0])+"-"+o(f.parts[g][1]):o(f.parts[g]);return"["+(f.inverted?"^":"")+p+"]"},any:function(f){return"any character"},end:function(f){return"end of input"},other:function(f){return f.description}};function r(f){return f.charCodeAt(0).toString(16).toUpperCase()}function i(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+r(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+r(p)})}function o(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+r(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+r(p)})}function a(f){return n[f.type](f)}function s(f){var p=new Array(f.length),g,y;for(g=0;g<f.length;g++)p[g]=a(f[g]);if(p.sort(),p.length>0){for(g=1,y=1;g<p.length;g++)p[g-1]!==p[g]&&(p[y]=p[g],y++);p.length=y}switch(p.length){case 1:return p[0];case 2:return p[0]+" or "+p[1];default:return p.slice(0,-1).join(", ")+", or "+p[p.length-1]}}function c(f){return f?'"'+i(f)+'"':"end of input"}return"Expected "+s(t)+" but "+c(e)+" found."};function co(t,e){e=e!==void 0?e:{};var n={},r={svg_path:Gi},i=Gi,o=function(l){if(!l)return[];for(var u=[],m=0;m<l.length;m++)u=u.concat.apply(u,l[m]);var h=u[0];return h&&h.code=="m"&&(delete h.relative,h.code="M"),u},a=function(l,u){return Mf(l,u)},s=/^[Mm]/,c=nt(["M","m"],!1,!1),f=function(l,u,m){var h=Ht(l,[u]);return m&&(h=h.concat(Ht(l=="M"?"L":"l",m[1]))),h},p=/^[Zz]/,g=nt(["Z","z"],!1,!1),y=function(){return Ht("Z")},_=/^[Ll]/,$=nt(["L","l"],!1,!1),M=function(l,u){return Ht(l,u)},E=/^[Hh]/,L=nt(["H","h"],!1,!1),A=function(l,u){return Ht(l,u.map(function(m){return{x:m}}))},C=/^[Vv]/,R=nt(["V","v"],!1,!1),O=function(l,u){return Ht(l,u.map(function(m){return{y:m}}))},F=/^[Cc]/,I=nt(["C","c"],!1,!1),B=function(l,u,m){return{x1:l.x,y1:l.y,x2:u.x,y2:u.y,x:m.x,y:m.y}},H=/^[Ss]/,X=nt(["S","s"],!1,!1),T=function(l,u){return{x2:l.x,y2:l.y,x:u.x,y:u.y}},k=/^[Qq]/,N=nt(["Q","q"],!1,!1),G=function(l,u){return{x1:l.x,y1:l.y,x:u.x,y:u.y}},Q=/^[Tt]/,Z=nt(["T","t"],!1,!1),W=/^[Aa]/,b=nt(["A","a"],!1,!1),x=function(l,u,m,h,v,w){return{rx:l,ry:u,xAxisRotation:m,largeArc:h,sweep:v,x:w.x,y:w.y}},S=function(l,u){return{x:l,y:u}},q=function(l){return l*1},D=function(l){return l.join("")*1},J=/^[01]/,Y=nt(["0","1"],!1,!1),ct=function(l){return l=="1"},It=function(){return""},Qt=",",Jt=Vi(",",!1),zt=function(l){return l.join("")},tn=".",Hi=Vi(".",!1),Qc=/^[eE]/,Jc=nt(["e","E"],!1,!1),tf=/^[+\-]/,nf=nt(["+","-"],!1,!1),Di=/^[0-9]/,Xi=nt([["0","9"]],!1,!1),ef=function(l){return l.join("")},rf=/^[ \t\n\r]/,of=nt([" ","	",`
`,"\r"],!1,!1),d=0,In=[{line:1,column:1}],gt=0,Re=[],zn;if("startRule"in e){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=r[e.startRule]}function Vi(l,u){return{type:"literal",text:l,ignoreCase:u}}function nt(l,u,m){return{type:"class",parts:l,inverted:u,ignoreCase:m}}function af(){return{type:"end"}}function Bi(l){var u=In[l],m;if(u)return u;for(m=l-1;!In[m];)m--;for(u=In[m],u={line:u.line,column:u.column};m<l;)t.charCodeAt(m)===10?(u.line++,u.column=1):u.column++,m++;return In[l]=u,u}function Yi(l,u){var m=Bi(l),h=Bi(u);return{start:{offset:l,line:m.line,column:m.column},end:{offset:u,line:h.line,column:h.column}}}function U(l){d<gt||(d>gt&&(gt=d,Re=[]),Re.push(l))}function sf(l,u,m){return new kt(kt.buildMessage(l,u),l,u,m)}function Gi(){var l,u,m,h,v;for(l=d,u=[],m=P();m!==n;)u.push(m),m=P();if(u!==n)if(m=lf(),m===n&&(m=null),m!==n){for(h=[],v=P();v!==n;)h.push(v),v=P();h!==n?(u=o(m),l=u):(d=l,l=n)}else d=l,l=n;else d=l,l=n;return l}function lf(){var l,u,m,h,v,w;if(l=d,u=Se(),u!==n){for(m=[],h=d,v=[],w=P();w!==n;)v.push(w),w=P();for(v!==n?(w=Se(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);h!==n;){for(m.push(h),h=d,v=[],w=P();w!==n;)v.push(w),w=P();v!==n?(w=Se(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n)}m!==n?(u=a(u,m),l=u):(d=l,l=n)}else d=l,l=n;return l}function Se(){var l,u,m,h,v,w;if(l=d,u=uf(),u!==n){for(m=[],h=d,v=[],w=P();w!==n;)v.push(w),w=P();for(v!==n?(w=ji(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);h!==n;){for(m.push(h),h=d,v=[],w=P();w!==n;)v.push(w),w=P();v!==n?(w=ji(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n)}m!==n?(u=a(u,m),l=u):(d=l,l=n)}else d=l,l=n;return l}function ji(){var l;return l=cf(),l===n&&(l=ff(),l===n&&(l=hf(),l===n&&(l=pf(),l===n&&(l=df(),l===n&&(l=mf(),l===n&&(l=vf(),l===n&&(l=xf(),l===n&&(l=bf())))))))),l}function uf(){var l,u,m,h,v,w,Dt;if(l=d,s.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U(c)),u!==n){for(m=[],h=P();h!==n;)m.push(h),h=P();m!==n?(h=et(),h!==n?(v=d,w=V(),w===n&&(w=null),w!==n?(Dt=Ui(),Dt!==n?(w=[w,Dt],v=w):(d=v,v=n)):(d=v,v=n),v===n&&(v=null),v!==n?(u=f(u,h,v),l=u):(d=l,l=n)):(d=l,l=n)):(d=l,l=n)}else d=l,l=n;return l}function cf(){var l,u;return l=d,p.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U(g)),u!==n&&(u=y()),l=u,l}function ff(){var l,u,m,h;if(l=d,_.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U($)),u!==n){for(m=[],h=P();h!==n;)m.push(h),h=P();m!==n?(h=Ui(),h!==n?(u=M(u,h),l=u):(d=l,l=n)):(d=l,l=n)}else d=l,l=n;return l}function Ui(){var l,u,m,h,v,w;if(l=d,u=et(),u!==n){for(m=[],h=d,v=V(),v===n&&(v=null),v!==n?(w=et(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);h!==n;)m.push(h),h=d,v=V(),v===n&&(v=null),v!==n?(w=et(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);m!==n?(u=a(u,m),l=u):(d=l,l=n)}else d=l,l=n;return l}function hf(){var l,u,m,h;if(l=d,E.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U(L)),u!==n){for(m=[],h=P();h!==n;)m.push(h),h=P();m!==n?(h=Ki(),h!==n?(u=A(u,h),l=u):(d=l,l=n)):(d=l,l=n)}else d=l,l=n;return l}function Ki(){var l,u,m,h,v,w;if(l=d,u=qt(),u!==n){for(m=[],h=d,v=V(),v===n&&(v=null),v!==n?(w=qt(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);h!==n;)m.push(h),h=d,v=V(),v===n&&(v=null),v!==n?(w=qt(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);m!==n?(u=a(u,m),l=u):(d=l,l=n)}else d=l,l=n;return l}function pf(){var l,u,m,h;if(l=d,C.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U(R)),u!==n){for(m=[],h=P();h!==n;)m.push(h),h=P();m!==n?(h=Ki(),h!==n?(u=O(u,h),l=u):(d=l,l=n)):(d=l,l=n)}else d=l,l=n;return l}function df(){var l,u,m,h;if(l=d,F.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U(I)),u!==n){for(m=[],h=P();h!==n;)m.push(h),h=P();m!==n?(h=gf(),h!==n?(u=M(u,h),l=u):(d=l,l=n)):(d=l,l=n)}else d=l,l=n;return l}function gf(){var l,u,m,h,v,w;if(l=d,u=Oe(),u!==n){for(m=[],h=d,v=V(),v===n&&(v=null),v!==n?(w=Oe(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);h!==n;)m.push(h),h=d,v=V(),v===n&&(v=null),v!==n?(w=Oe(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);m!==n?(u=a(u,m),l=u):(d=l,l=n)}else d=l,l=n;return l}function Oe(){var l,u,m,h,v,w;return l=d,u=et(),u!==n?(m=V(),m===n&&(m=null),m!==n?(h=et(),h!==n?(v=V(),v===n&&(v=null),v!==n?(w=et(),w!==n?(u=B(u,h,w),l=u):(d=l,l=n)):(d=l,l=n)):(d=l,l=n)):(d=l,l=n)):(d=l,l=n),l}function mf(){var l,u,m,h;if(l=d,H.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U(X)),u!==n){for(m=[],h=P();h!==n;)m.push(h),h=P();m!==n?(h=yf(),h!==n?(u=M(u,h),l=u):(d=l,l=n)):(d=l,l=n)}else d=l,l=n;return l}function yf(){var l,u,m,h,v,w;if(l=d,u=Pe(),u!==n){for(m=[],h=d,v=V(),v===n&&(v=null),v!==n?(w=Pe(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);h!==n;)m.push(h),h=d,v=V(),v===n&&(v=null),v!==n?(w=Pe(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);m!==n?(u=a(u,m),l=u):(d=l,l=n)}else d=l,l=n;return l}function Pe(){var l,u,m,h;return l=d,u=et(),u!==n?(m=V(),m===n&&(m=null),m!==n?(h=et(),h!==n?(u=T(u,h),l=u):(d=l,l=n)):(d=l,l=n)):(d=l,l=n),l}function vf(){var l,u,m,h;if(l=d,k.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U(N)),u!==n){for(m=[],h=P();h!==n;)m.push(h),h=P();m!==n?(h=_f(),h!==n?(u=M(u,h),l=u):(d=l,l=n)):(d=l,l=n)}else d=l,l=n;return l}function _f(){var l,u,m,h,v,w;if(l=d,u=Fe(),u!==n){for(m=[],h=d,v=V(),v===n&&(v=null),v!==n?(w=Fe(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);h!==n;)m.push(h),h=d,v=V(),v===n&&(v=null),v!==n?(w=Fe(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);m!==n?(u=a(u,m),l=u):(d=l,l=n)}else d=l,l=n;return l}function Fe(){var l,u,m,h;return l=d,u=et(),u!==n?(m=V(),m===n&&(m=null),m!==n?(h=et(),h!==n?(u=G(u,h),l=u):(d=l,l=n)):(d=l,l=n)):(d=l,l=n),l}function xf(){var l,u,m,h;if(l=d,Q.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U(Z)),u!==n){for(m=[],h=P();h!==n;)m.push(h),h=P();m!==n?(h=wf(),h!==n?(u=M(u,h),l=u):(d=l,l=n)):(d=l,l=n)}else d=l,l=n;return l}function wf(){var l,u,m,h,v,w;if(l=d,u=et(),u!==n){for(m=[],h=d,v=V(),v===n&&(v=null),v!==n?(w=et(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);h!==n;)m.push(h),h=d,v=V(),v===n&&(v=null),v!==n?(w=et(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);m!==n?(u=a(u,m),l=u):(d=l,l=n)}else d=l,l=n;return l}function bf(){var l,u,m,h;if(l=d,W.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U(b)),u!==n){for(m=[],h=P();h!==n;)m.push(h),h=P();m!==n?(h=$f(),h!==n?(u=M(u,h),l=u):(d=l,l=n)):(d=l,l=n)}else d=l,l=n;return l}function $f(){var l,u,m,h,v,w;if(l=d,u=Ie(),u!==n){for(m=[],h=d,v=V(),v===n&&(v=null),v!==n?(w=Ie(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);h!==n;)m.push(h),h=d,v=V(),v===n&&(v=null),v!==n?(w=Ie(),w!==n?(v=[v,w],h=v):(d=h,h=n)):(d=h,h=n);m!==n?(u=a(u,m),l=u):(d=l,l=n)}else d=l,l=n;return l}function Ie(){var l,u,m,h,v,w,Dt,qe,Hn,He,Dn,De;return l=d,u=Zi(),u!==n?(m=V(),m===n&&(m=null),m!==n?(h=Zi(),h!==n?(v=V(),v===n&&(v=null),v!==n?(w=qt(),w!==n?(Dt=V(),Dt!==n?(qe=Wi(),qe!==n?(Hn=V(),Hn===n&&(Hn=null),Hn!==n?(He=Wi(),He!==n?(Dn=V(),Dn===n&&(Dn=null),Dn!==n?(De=et(),De!==n?(u=x(u,h,w,qe,He,De),l=u):(d=l,l=n)):(d=l,l=n)):(d=l,l=n)):(d=l,l=n)):(d=l,l=n)):(d=l,l=n)):(d=l,l=n)):(d=l,l=n)):(d=l,l=n)):(d=l,l=n)):(d=l,l=n),l}function et(){var l,u,m,h;return l=d,u=qt(),u!==n?(m=V(),m===n&&(m=null),m!==n?(h=qt(),h!==n?(u=S(u,h),l=u):(d=l,l=n)):(d=l,l=n)):(d=l,l=n),l}function Zi(){var l,u;return l=d,u=Ji(),u===n&&(u=At()),u!==n&&(u=q(u)),l=u,l}function qt(){var l,u,m,h;return l=d,u=d,m=ze(),m===n&&(m=null),m!==n?(h=Ji(),h!==n?(m=[m,h],u=m):(d=u,u=n)):(d=u,u=n),u===n&&(u=d,m=ze(),m===n&&(m=null),m!==n?(h=At(),h!==n?(m=[m,h],u=m):(d=u,u=n)):(d=u,u=n)),u!==n&&(u=D(u)),l=u,l}function Wi(){var l,u;return l=d,J.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U(Y)),u!==n&&(u=ct(u)),l=u,l}function V(){var l,u,m,h,v;if(l=d,u=[],m=P(),m!==n)for(;m!==n;)u.push(m),m=P();else u=n;if(u!==n)if(m=Qi(),m===n&&(m=null),m!==n){for(h=[],v=P();v!==n;)h.push(v),v=P();h!==n?(u=[u,m,h],l=u):(d=l,l=n)}else d=l,l=n;else d=l,l=n;if(l===n){if(l=d,u=d,m=Qi(),m!==n){for(h=[],v=P();v!==n;)h.push(v),v=P();h!==n?(m=[m,h],u=m):(d=u,u=n)}else d=u,u=n;u!==n&&(u=It()),l=u}return l}function Qi(){var l;return t.charCodeAt(d)===44?(l=Qt,d++):(l=n,U(Jt)),l}function Ji(){var l,u,m,h;return l=d,u=d,m=Af(),m!==n?(h=to(),h===n&&(h=null),h!==n?(m=[m,h],u=m):(d=u,u=n)):(d=u,u=n),u===n&&(u=d,m=At(),m!==n?(h=to(),h!==n?(m=[m,h],u=m):(d=u,u=n)):(d=u,u=n)),u!==n&&(u=zt(u)),l=u,l}function Af(){var l,u,m,h,v;return l=d,u=d,m=At(),m===n&&(m=null),m!==n?(t.charCodeAt(d)===46?(h=tn,d++):(h=n,U(Hi)),h!==n?(v=At(),v!==n?(m=[m,h,v],u=m):(d=u,u=n)):(d=u,u=n)):(d=u,u=n),u===n&&(u=d,m=At(),m!==n?(t.charCodeAt(d)===46?(h=tn,d++):(h=n,U(Hi)),h!==n?(m=[m,h],u=m):(d=u,u=n)):(d=u,u=n)),u!==n&&(u=zt(u)),l=u,l}function to(){var l,u,m,h,v;return l=d,u=d,Qc.test(t.charAt(d))?(m=t.charAt(d),d++):(m=n,U(Jc)),m!==n?(h=ze(),h===n&&(h=null),h!==n?(v=At(),v!==n?(m=[m,h,v],u=m):(d=u,u=n)):(d=u,u=n)):(d=u,u=n),u!==n&&(u=zt(u)),l=u,l}function ze(){var l;return tf.test(t.charAt(d))?(l=t.charAt(d),d++):(l=n,U(nf)),l}function At(){var l,u,m;if(l=d,u=[],Di.test(t.charAt(d))?(m=t.charAt(d),d++):(m=n,U(Xi)),m!==n)for(;m!==n;)u.push(m),Di.test(t.charAt(d))?(m=t.charAt(d),d++):(m=n,U(Xi));else u=n;return u!==n&&(u=ef(u)),l=u,l}function P(){var l,u;return l=d,rf.test(t.charAt(d))?(u=t.charAt(d),d++):(u=n,U(of)),u!==n&&(u=It()),l=u,l}function Mf(l,u){if(!u)return[l];for(var m=[l],h=0,v=u.length;h<v;h++)m[h+1]=u[h][1];return m}var qn={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var no in qn)qn[no.toUpperCase()]=qn[no];function Ht(l,u){u||(u=[{}]);for(var m=u.length;m--;){var h={code:l,command:qn[l]};l==l.toLowerCase()&&(h.relative=!0);for(var v in u[m])h[v]=u[m][v];u[m]=h}return u}if(zn=i(),zn!==n&&d===t.length)return zn;throw zn!==n&&d<t.length&&U(af()),sf(Re,gt<t.length?t.charAt(gt):null,gt<t.length?Yi(gt,gt+1):Yi(gt,gt))}var fo={SyntaxError:kt,parse:co},en=fo.parse;en.parseSVG=en,en.makeAbsolute=ho;var je=en;function ho(t){var e,n={x:0,y:0},r={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return t.forEach(function(i){i.command==="moveto"&&(e=i),i.x0=n.x,i.y0=n.y;for(var o in r)o in i&&(i[o]+=i.relative?i[r[o]]:0);"x"in i||(i.x=n.x),"y"in i||(i.y=n.y),i.relative=!1,i.code=i.code.toUpperCase(),i.command=="closepath"&&(i.x=e.x,i.y=e.y),n=i}),t}const Ue="line",Ke="bar",Ze="doughnut",po="table",go="originalSort",mo="keySort",yo="valueSort",vo="desc",We="cs",_o="en";var xo="[object Function]",wo=/^\[object .+?Constructor\]$/;function bo(t){return!!t&&typeof t=="object"}var Qe=Object.prototype,Je=Function.prototype.toString,$o=Qe.hasOwnProperty,Ao=Qe.toString,Mo=RegExp("^"+Je.call($o).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Eo(t,e){var n=t==null?void 0:t[e];return To(n)?n:void 0}function ko(t){return Co(t)&&Ao.call(t)==xo}function Co(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function To(t){return t==null?!1:ko(t)?Mo.test(Je.call(t)):bo(t)&&wo.test(t)}var No=Eo,Lo=9007199254740991,Ro="[object Arguments]",So="[object Function]",Oo="[object GeneratorFunction]",Bn=Object.prototype,Po=Bn.hasOwnProperty,tr=Bn.toString,Fo=Bn.propertyIsEnumerable;function Io(t){return qo(t)&&Po.call(t,"callee")&&(!Fo.call(t,"callee")||tr.call(t)==Ro)}function zo(t){return t!=null&&Do(t.length)&&!Ho(t)}function qo(t){return Vo(t)&&zo(t)}function Ho(t){var e=Xo(t)?tr.call(t):"";return e==So||e==Oo}function Do(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Lo}function Xo(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Vo(t){return!!t&&typeof t=="object"}var Bo=Io,Yo="[object Array]",Go="[object Function]",jo=/^\[object .+?Constructor\]$/;function nr(t){return!!t&&typeof t=="object"}var er=Object.prototype,rr=Function.prototype.toString,Uo=er.hasOwnProperty,ir=er.toString,Ko=RegExp("^"+rr.call(Uo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zo=Qo(Array,"isArray"),Wo=9007199254740991;function Qo(t,e){var n=t==null?void 0:t[e];return ra(n)?n:void 0}function Jo(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Wo}var ta=Zo||function(t){return nr(t)&&Jo(t.length)&&ir.call(t)==Yo};function na(t){return ea(t)&&ir.call(t)==Go}function ea(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ra(t){return t==null?!1:na(t)?Ko.test(rr.call(t)):nr(t)&&jo.test(t)}var ia=ta,oa=No,or=Bo,ar=ia,aa=/^\d+$/,sa=Object.prototype,sr=sa.hasOwnProperty,lr=oa(Object,"keys"),ur=9007199254740991;function la(t){return function(e){return e==null?void 0:e[t]}}var ua=la("length");function ca(t){return t!=null&&Yn(ua(t))}function cr(t,e){return t=typeof t=="number"||aa.test(t)?+t:-1,e=e==null?ur:e,t>-1&&t%1==0&&t<e}function Yn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ur}function fr(t){for(var e=ha(t),n=e.length,r=n&&t.length,i=!!r&&Yn(r)&&(ar(t)||or(t)),o=-1,a=[];++o<n;){var s=e[o];(i&&cr(s,r)||sr.call(t,s))&&a.push(s)}return a}function hr(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}var fa=lr?function(t){var e=t==null?void 0:t.constructor;return typeof e=="function"&&e.prototype===t||typeof t!="function"&&ca(t)?fr(t):hr(t)?lr(t):[]}:fr;function ha(t){if(t==null)return[];hr(t)||(t=Object(t));var e=t.length;e=e&&Yn(e)&&(ar(t)||or(t))&&e||0;for(var n=t.constructor,r=-1,i=typeof n=="function"&&n.prototype===t,o=Array(e),a=e>0;++r<e;)o[r]=r+"";for(var s in t)!(a&&cr(s,e))&&!(s=="constructor"&&(i||!sr.call(t,s)))&&o.push(s);return o}var pa=fa,da=pa;function ga(t){return ma(t)?t:Object(t)}function ma(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ya(t){t=ga(t);for(var e=-1,n=da(t),r=n.length,i=Array(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}var Ct=ya;function Gn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pr(t){let e=t,n=t,r=t;t.length!==2&&(e=(s,c)=>t(s)-c,n=Gn,r=(s,c)=>Gn(t(s),c));function i(s,c,f=0,p=s.length){if(f<p){if(n(c,c)!==0)return p;do{const g=f+p>>>1;r(s[g],c)<0?f=g+1:p=g}while(f<p)}return f}function o(s,c,f=0,p=s.length){if(f<p){if(n(c,c)!==0)return p;do{const g=f+p>>>1;r(s[g],c)<=0?f=g+1:p=g}while(f<p)}return f}function a(s,c,f=0,p=s.length){const g=i(s,c,f,p-1);return g>f&&e(s[g-1],c)>-e(s[g],c)?g-1:g}return{left:i,center:a,right:o}}function va(t){return t===null?NaN:+t}const _a=pr(Gn).right;pr(va).center;var xa=_a;class dr extends Map{constructor(e,n=$a){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(gr(this,e))}has(e){return super.has(gr(this,e))}set(e,n){return super.set(wa(this,e),n)}delete(e){return super.delete(ba(this,e))}}function gr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function wa({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ba({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $a(t){return t!==null&&typeof t=="object"?t.valueOf():t}var jn=Math.sqrt(50),Un=Math.sqrt(10),Kn=Math.sqrt(2);function Aa(t,e,n){var r,i=-1,o,a,s;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(s=mr(t,e,n))===0||!isFinite(s))return[];if(s>0){let c=Math.round(t/s),f=Math.round(e/s);for(c*s<t&&++c,f*s>e&&--f,a=new Array(o=f-c+1);++i<o;)a[i]=(c+i)*s}else{s=-s;let c=Math.round(t*s),f=Math.round(e*s);for(c/s<t&&++c,f/s>e&&--f,a=new Array(o=f-c+1);++i<o;)a[i]=(c+i)/s}return r&&a.reverse(),a}function mr(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=jn?10:o>=Un?5:o>=Kn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=jn?10:o>=Un?5:o>=Kn?2:1)}function Ma(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=jn?i*=10:o>=Un?i*=5:o>=Kn&&(i*=2),e<t?-i:i}function Ea(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ka(t){return t}var Zn=1,rn=2,Wn=3,on=4,yr=1e-6;function Ca(t){return"translate("+t+",0)"}function Ta(t){return"translate(0,"+t+")"}function Na(t){return e=>+t(e)}function La(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Ra(){return!this.__axis}function vr(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,c=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,f=t===Zn||t===on?-1:1,p=t===on||t===rn?"x":"y",g=t===Zn||t===Wn?Ca:Ta;function y(_){var $=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,M=i==null?e.tickFormat?e.tickFormat.apply(e,n):ka:i,E=Math.max(o,0)+s,L=e.range(),A=+L[0]+c,C=+L[L.length-1]+c,R=(e.bandwidth?La:Na)(e.copy(),c),O=_.selection?_.selection():_,F=O.selectAll(".domain").data([null]),I=O.selectAll(".tick").data($,e).order(),B=I.exit(),H=I.enter().append("g").attr("class","tick"),X=I.select("line"),T=I.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),I=I.merge(H),X=X.merge(H.append("line").attr("stroke","currentColor").attr(p+"2",f*o)),T=T.merge(H.append("text").attr("fill","currentColor").attr(p,f*E).attr("dy",t===Zn?"0em":t===Wn?"0.71em":"0.32em")),_!==O&&(F=F.transition(_),I=I.transition(_),X=X.transition(_),T=T.transition(_),B=B.transition(_).attr("opacity",yr).attr("transform",function(k){return isFinite(k=R(k))?g(k+c):this.getAttribute("transform")}),H.attr("opacity",yr).attr("transform",function(k){var N=this.parentNode.__axis;return g((N&&isFinite(N=N(k))?N:R(k))+c)})),B.remove(),F.attr("d",t===on||t===rn?a?"M"+f*a+","+A+"H"+c+"V"+C+"H"+f*a:"M"+c+","+A+"V"+C:a?"M"+A+","+f*a+"V"+c+"H"+C+"V"+f*a:"M"+A+","+c+"H"+C),I.attr("opacity",1).attr("transform",function(k){return g(R(k)+c)}),X.attr(p+"2",f*o),T.attr(p,f*E).text(M),O.filter(Ra).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===rn?"start":t===on?"end":"middle"),O.each(function(){this.__axis=R})}return y.scale=function(_){return arguments.length?(e=_,y):e},y.ticks=function(){return n=Array.from(arguments),y},y.tickArguments=function(_){return arguments.length?(n=_==null?[]:Array.from(_),y):n.slice()},y.tickValues=function(_){return arguments.length?(r=_==null?null:Array.from(_),y):r&&r.slice()},y.tickFormat=function(_){return arguments.length?(i=_,y):i},y.tickSize=function(_){return arguments.length?(o=a=+_,y):o},y.tickSizeInner=function(_){return arguments.length?(o=+_,y):o},y.tickSizeOuter=function(_){return arguments.length?(a=+_,y):a},y.tickPadding=function(_){return arguments.length?(s=+_,y):s},y.offset=function(_){return arguments.length?(c=+_,y):c},y}function Sa(t){return vr(rn,t)}function Oa(t){return vr(Wn,t)}var Pa={value:()=>{}};function _r(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new an(n)}function an(t){this._=t}function Fa(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}an.prototype=_r.prototype={constructor:an,on:function(t,e){var n=this._,r=Fa(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Ia(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=xr(n[i],t.name,e);else if(e==null)for(i in n)n[i]=xr(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new an(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Ia(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function xr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Pa,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Qn="http://www.w3.org/1999/xhtml",wr={svg:"http://www.w3.org/2000/svg",xhtml:Qn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),wr.hasOwnProperty(e)?{space:wr[e],local:t}:t}function za(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Qn&&e.documentElement.namespaceURI===Qn?e.createElement(t):e.createElementNS(n,t)}}function qa(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function br(t){var e=sn(t);return(e.local?qa:za)(e)}function Ha(){}function Jn(t){return t==null?Ha:function(){return this.querySelector(t)}}function Da(t){typeof t!="function"&&(t=Jn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),c,f,p=0;p<a;++p)(c=o[p])&&(f=t.call(c,c.__data__,p,o))&&("__data__"in c&&(f.__data__=c.__data__),s[p]=f);return new ot(r,this._parents)}function Xa(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Va(){return[]}function $r(t){return t==null?Va:function(){return this.querySelectorAll(t)}}function Ba(t){return function(){return Xa(t.apply(this,arguments))}}function Ya(t){typeof t=="function"?t=Ba(t):t=$r(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,c,f=0;f<s;++f)(c=a[f])&&(r.push(t.call(c,c.__data__,f,a)),i.push(c));return new ot(r,i)}function Ar(t){return function(){return this.matches(t)}}function Mr(t){return function(e){return e.matches(t)}}var Ga=Array.prototype.find;function ja(t){return function(){return Ga.call(this.children,t)}}function Ua(){return this.firstElementChild}function Ka(t){return this.select(t==null?Ua:ja(typeof t=="function"?t:Mr(t)))}var Za=Array.prototype.filter;function Wa(){return Array.from(this.children)}function Qa(t){return function(){return Za.call(this.children,t)}}function Ja(t){return this.selectAll(t==null?Wa:Qa(typeof t=="function"?t:Mr(t)))}function ts(t){typeof t!="function"&&(t=Ar(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],c,f=0;f<a;++f)(c=o[f])&&t.call(c,c.__data__,f,o)&&s.push(c);return new ot(r,this._parents)}function Er(t){return new Array(t.length)}function ns(){return new ot(this._enter||this._groups.map(Er),this._parents)}function ln(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ln.prototype={constructor:ln,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function es(t){return function(){return t}}function rs(t,e,n,r,i,o){for(var a=0,s,c=e.length,f=o.length;a<f;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new ln(t,o[a]);for(;a<c;++a)(s=e[a])&&(i[a]=s)}function is(t,e,n,r,i,o,a){var s,c,f=new Map,p=e.length,g=o.length,y=new Array(p),_;for(s=0;s<p;++s)(c=e[s])&&(y[s]=_=a.call(c,c.__data__,s,e)+"",f.has(_)?i[s]=c:f.set(_,c));for(s=0;s<g;++s)_=a.call(t,o[s],s,o)+"",(c=f.get(_))?(r[s]=c,c.__data__=o[s],f.delete(_)):n[s]=new ln(t,o[s]);for(s=0;s<p;++s)(c=e[s])&&f.get(y[s])===c&&(i[s]=c)}function os(t){return t.__data__}function as(t,e){if(!arguments.length)return Array.from(this,os);var n=e?is:rs,r=this._parents,i=this._groups;typeof t!="function"&&(t=es(t));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),f=0;f<o;++f){var p=r[f],g=i[f],y=g.length,_=ss(t.call(p,p&&p.__data__,f,r)),$=_.length,M=s[f]=new Array($),E=a[f]=new Array($),L=c[f]=new Array(y);n(p,g,M,E,L,_,e);for(var A=0,C=0,R,O;A<$;++A)if(R=M[A]){for(A>=C&&(C=A+1);!(O=E[C])&&++C<$;);R._next=O||null}}return a=new ot(a,r),a._enter=s,a._exit=c,a}function ss(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ls(){return new ot(this._exit||this._groups.map(Er),this._parents)}function us(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function cs(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var f=n[c],p=r[c],g=f.length,y=s[c]=new Array(g),_,$=0;$<g;++$)(_=f[$]||p[$])&&(y[$]=_);for(;c<i;++c)s[c]=n[c];return new ot(s,this._parents)}function fs(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function hs(t){t||(t=ps);function e(g,y){return g&&y?t(g.__data__,y.__data__):!g-!y}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,c=i[o]=new Array(s),f,p=0;p<s;++p)(f=a[p])&&(c[p]=f);c.sort(e)}return new ot(i,this._parents).order()}function ps(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ds(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function gs(){return Array.from(this)}function ms(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ys(){let t=0;for(const e of this)++t;return t}function vs(){return!this.node()}function _s(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function xs(t){return function(){this.removeAttribute(t)}}function ws(t){return function(){this.removeAttributeNS(t.space,t.local)}}function bs(t,e){return function(){this.setAttribute(t,e)}}function $s(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function As(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ms(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Es(t,e){var n=sn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ws:xs:typeof e=="function"?n.local?Ms:As:n.local?$s:bs)(n,e))}function kr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ks(t){return function(){this.style.removeProperty(t)}}function Cs(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ts(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ns(t,e,n){return arguments.length>1?this.each((e==null?ks:typeof e=="function"?Ts:Cs)(t,e,n==null?"":n)):Tt(this.node(),t)}function Tt(t,e){return t.style.getPropertyValue(e)||kr(t).getComputedStyle(t,null).getPropertyValue(e)}function Ls(t){return function(){delete this[t]}}function Rs(t,e){return function(){this[t]=e}}function Ss(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Os(t,e){return arguments.length>1?this.each((e==null?Ls:typeof e=="function"?Ss:Rs)(t,e)):this.node()[t]}function Cr(t){return t.trim().split(/^|\s+/)}function te(t){return t.classList||new Tr(t)}function Tr(t){this._node=t,this._names=Cr(t.getAttribute("class")||"")}Tr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Nr(t,e){for(var n=te(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Lr(t,e){for(var n=te(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ps(t){return function(){Nr(this,t)}}function Fs(t){return function(){Lr(this,t)}}function Is(t,e){return function(){(e.apply(this,arguments)?Nr:Lr)(this,t)}}function zs(t,e){var n=Cr(t+"");if(arguments.length<2){for(var r=te(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Is:e?Ps:Fs)(n,e))}function qs(){this.textContent=""}function Hs(t){return function(){this.textContent=t}}function Ds(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Xs(t){return arguments.length?this.each(t==null?qs:(typeof t=="function"?Ds:Hs)(t)):this.node().textContent}function Vs(){this.innerHTML=""}function Bs(t){return function(){this.innerHTML=t}}function Ys(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Gs(t){return arguments.length?this.each(t==null?Vs:(typeof t=="function"?Ys:Bs)(t)):this.node().innerHTML}function js(){this.nextSibling&&this.parentNode.appendChild(this)}function Us(){return this.each(js)}function Ks(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zs(){return this.each(Ks)}function Ws(t){var e=typeof t=="function"?t:br(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Qs(){return null}function Js(t,e){var n=typeof t=="function"?t:br(t),r=e==null?Qs:typeof e=="function"?e:Jn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function tl(){var t=this.parentNode;t&&t.removeChild(this)}function nl(){return this.each(tl)}function el(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rl(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function il(t){return this.select(t?rl:el)}function ol(t){return arguments.length?this.property("__data__",t):this.node().__data__}function al(t){return function(e){t.call(this,e,this.__data__)}}function sl(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ll(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function ul(t,e,n){return function(){var r=this.__on,i,o=al(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function cl(t,e,n){var r=sl(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,f=s.length,p;c<f;++c)for(i=0,p=s[c];i<o;++i)if((a=r[i]).type===p.type&&a.name===p.name)return p.value}return}for(s=e?ul:ll,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Rr(t,e,n){var r=kr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function fl(t,e){return function(){return Rr(this,t,e)}}function hl(t,e){return function(){return Rr(this,t,e.apply(this,arguments))}}function pl(t,e){return this.each((typeof e=="function"?hl:fl)(t,e))}function*dl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Sr=[null];function ot(t,e){this._groups=t,this._parents=e}function Nt(){return new ot([[document.documentElement]],Sr)}function gl(){return this}ot.prototype=Nt.prototype={constructor:ot,select:Da,selectAll:Ya,selectChild:Ka,selectChildren:Ja,filter:ts,data:as,enter:ns,exit:ls,join:us,merge:cs,selection:gl,order:fs,sort:hs,call:ds,nodes:gs,node:ms,size:ys,empty:vs,each:_s,attr:Es,style:Ns,property:Os,classed:zs,text:Xs,html:Gs,raise:Us,lower:Zs,append:Ws,insert:Js,remove:nl,clone:il,datum:ol,on:cl,dispatch:pl,[Symbol.iterator]:dl};function Or(t){return typeof t=="string"?new ot([[document.querySelector(t)]],[document.documentElement]):new ot([[t]],Sr)}function ne(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Vt(){}var Bt=.7,un=1/Bt,Lt="\\s*([+-]?\\d+)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ml=/^#([0-9a-f]{3,8})$/,yl=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),vl=new RegExp("^rgb\\("+[ft,ft,ft]+"\\)$"),_l=new RegExp("^rgba\\("+[Lt,Lt,Lt,Yt]+"\\)$"),xl=new RegExp("^rgba\\("+[ft,ft,ft,Yt]+"\\)$"),wl=new RegExp("^hsl\\("+[Yt,ft,ft]+"\\)$"),bl=new RegExp("^hsla\\("+[Yt,ft,ft,Yt]+"\\)$"),Fr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ne(Vt,_t,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ir,formatHex:Ir,formatHsl:$l,formatRgb:zr,toString:zr});function Ir(){return this.rgb().formatHex()}function $l(){return Vr(this).formatHsl()}function zr(){return this.rgb().formatRgb()}function _t(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ml.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?qr(e):n===3?new at(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?cn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?cn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yl.exec(t))?new at(e[1],e[2],e[3],1):(e=vl.exec(t))?new at(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_l.exec(t))?cn(e[1],e[2],e[3],e[4]):(e=xl.exec(t))?cn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wl.exec(t))?Xr(e[1],e[2]/100,e[3]/100,1):(e=bl.exec(t))?Xr(e[1],e[2]/100,e[3]/100,e[4]):Fr.hasOwnProperty(t)?qr(Fr[t]):t==="transparent"?new at(NaN,NaN,NaN,0):null}function qr(t){return new at(t>>16&255,t>>8&255,t&255,1)}function cn(t,e,n,r){return r<=0&&(t=e=n=NaN),new at(t,e,n,r)}function Al(t){return t instanceof Vt||(t=_t(t)),t?(t=t.rgb(),new at(t.r,t.g,t.b,t.opacity)):new at}function ee(t,e,n,r){return arguments.length===1?Al(t):new at(t,e,n,r==null?1:r)}function at(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ne(at,ee,Pr(Vt,{brighter:function(t){return t=t==null?un:Math.pow(un,t),new at(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Bt:Math.pow(Bt,t),new at(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hr,formatHex:Hr,formatRgb:Dr,toString:Dr}));function Hr(){return"#"+re(this.r)+re(this.g)+re(this.b)}function Dr(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function re(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Xr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ht(t,e,n,r)}function Vr(t){if(t instanceof ht)return new ht(t.h,t.s,t.l,t.opacity);if(t instanceof Vt||(t=_t(t)),!t)return new ht;if(t instanceof ht)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new ht(a,s,c,t.opacity)}function Ml(t,e,n,r){return arguments.length===1?Vr(t):new ht(t,e,n,r==null?1:r)}function ht(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ne(ht,Ml,Pr(Vt,{brighter:function(t){return t=t==null?un:Math.pow(un,t),new ht(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Bt:Math.pow(Bt,t),new ht(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new at(ie(t>=240?t-240:t+120,i,r),ie(t,i,r),ie(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function ie(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var oe=t=>()=>t;function El(t,e){return function(n){return t+n*e}}function kl(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Cl(t){return(t=+t)==1?Br:function(e,n){return n-e?kl(e,n,t):oe(isNaN(e)?n:e)}}function Br(t,e){var n=e-t;return n?El(t,n):oe(isNaN(t)?e:t)}var fn=function t(e){var n=Cl(e);function r(i,o){var a=n((i=ee(i)).r,(o=ee(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),f=Br(i.opacity,o.opacity);return function(p){return i.r=a(p),i.g=s(p),i.b=c(p),i.opacity=f(p),i+""}}return r.gamma=t,r}(1);function Yr(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Gr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function hn(t,e){return(Gr(e)?Yr:jr)(t,e)}function jr(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=pn(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Tl(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function lt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Nl(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=pn(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ae=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,se=new RegExp(ae.source,"g");function Ll(t){return function(){return t}}function Rl(t){return function(e){return t(e)+""}}function Ur(t,e){var n=ae.lastIndex=se.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(t=t+"",e=e+"";(r=ae.exec(t))&&(i=se.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:lt(r,i)})),n=se.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?Rl(c[0].x):Ll(e):(e=c.length,function(f){for(var p=0,g;p<e;++p)s[(g=c[p]).i]=g.x(f);return s.join("")})}function pn(t,e){var n=typeof e,r;return e==null||n==="boolean"?oe(e):(n==="number"?lt:n==="string"?(r=_t(e))?(e=r,fn):Ur:e instanceof _t?fn:e instanceof Date?Tl:Gr(e)?Yr:Array.isArray(e)?jr:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nl:lt)(t,e)}function Sl(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Kr=180/Math.PI,le={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zr(t,e,n,r,i,o){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Kr,skewX:Math.atan(c)*Kr,scaleX:a,scaleY:s}}var dn;function Ol(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?le:Zr(e.a,e.b,e.c,e.d,e.e,e.f)}function Pl(t){return t==null||(dn||(dn=document.createElementNS("http://www.w3.org/2000/svg","g")),dn.setAttribute("transform",t),!(t=dn.transform.baseVal.consolidate()))?le:(t=t.matrix,Zr(t.a,t.b,t.c,t.d,t.e,t.f))}function Wr(t,e,n,r){function i(f){return f.length?f.pop()+" ":""}function o(f,p,g,y,_,$){if(f!==g||p!==y){var M=_.push("translate(",null,e,null,n);$.push({i:M-4,x:lt(f,g)},{i:M-2,x:lt(p,y)})}else(g||y)&&_.push("translate("+g+e+y+n)}function a(f,p,g,y){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),y.push({i:g.push(i(g)+"rotate(",null,r)-2,x:lt(f,p)})):p&&g.push(i(g)+"rotate("+p+r)}function s(f,p,g,y){f!==p?y.push({i:g.push(i(g)+"skewX(",null,r)-2,x:lt(f,p)}):p&&g.push(i(g)+"skewX("+p+r)}function c(f,p,g,y,_,$){if(f!==g||p!==y){var M=_.push(i(_)+"scale(",null,",",null,")");$.push({i:M-4,x:lt(f,g)},{i:M-2,x:lt(p,y)})}else(g!==1||y!==1)&&_.push(i(_)+"scale("+g+","+y+")")}return function(f,p){var g=[],y=[];return f=t(f),p=t(p),o(f.translateX,f.translateY,p.translateX,p.translateY,g,y),a(f.rotate,p.rotate,g,y),s(f.skewX,p.skewX,g,y),c(f.scaleX,f.scaleY,p.scaleX,p.scaleY,g,y),f=p=null,function(_){for(var $=-1,M=y.length,E;++$<M;)g[(E=y[$]).i]=E.x(_);return g.join("")}}}var Fl=Wr(Ol,"px, ","px)","deg)"),Il=Wr(Pl,", ",")",")"),Rt=0,Gt=0,jt=0,Qr=1e3,gn,Ut,mn=0,xt=0,yn=0,Kt=typeof performance=="object"&&performance.now?performance:Date,Jr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ue(){return xt||(Jr(zl),xt=Kt.now()+yn)}function zl(){xt=0}function vn(){this._call=this._time=this._next=null}vn.prototype=ti.prototype={constructor:vn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ue():+n)+(e==null?0:+e),!this._next&&Ut!==this&&(Ut?Ut._next=this:gn=this,Ut=this),this._call=t,this._time=n,ce()},stop:function(){this._call&&(this._call=null,this._time=1/0,ce())}};function ti(t,e,n){var r=new vn;return r.restart(t,e,n),r}function ql(){ue(),++Rt;for(var t=gn,e;t;)(e=xt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Rt}function ni(){xt=(mn=Kt.now())+yn,Rt=Gt=0;try{ql()}finally{Rt=0,Dl(),xt=0}}function Hl(){var t=Kt.now(),e=t-mn;e>Qr&&(yn-=e,mn=t)}function Dl(){for(var t,e=gn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:gn=n);Ut=t,ce(r)}function ce(t){if(!Rt){Gt&&(Gt=clearTimeout(Gt));var e=t-xt;e>24?(t<1/0&&(Gt=setTimeout(ni,t-Kt.now()-yn)),jt&&(jt=clearInterval(jt))):(jt||(mn=Kt.now(),jt=setInterval(Hl,Qr)),Rt=1,Jr(ni))}}function ei(t,e,n){var r=new vn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Xl=_r("start","end","cancel","interrupt"),Vl=[],ri=0,ii=1,fe=2,_n=3,oi=4,he=5,xn=6;function wn(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Bl(t,n,{name:e,index:r,group:i,on:Xl,tween:Vl,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ri})}function pe(t,e){var n=ut(t,e);if(n.state>ri)throw new Error("too late; already scheduled");return n}function pt(t,e){var n=ut(t,e);if(n.state>_n)throw new Error("too late; already running");return n}function ut(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Bl(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ti(o,0,n.time);function o(f){n.state=ii,n.timer.restart(a,n.delay,n.time),n.delay<=f&&a(f-n.delay)}function a(f){var p,g,y,_;if(n.state!==ii)return c();for(p in r)if(_=r[p],_.name===n.name){if(_.state===_n)return ei(a);_.state===oi?(_.state=xn,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete r[p]):+p<e&&(_.state=xn,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete r[p])}if(ei(function(){n.state===_n&&(n.state=oi,n.timer.restart(s,n.delay,n.time),s(f))}),n.state=fe,n.on.call("start",t,t.__data__,n.index,n.group),n.state===fe){for(n.state=_n,i=new Array(y=n.tween.length),p=0,g=-1;p<y;++p)(_=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(i[++g]=_);i.length=g+1}}function s(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(c),n.state=he,1),g=-1,y=i.length;++g<y;)i[g].call(t,p);n.state===he&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=xn,n.timer.stop(),delete r[e];for(var f in r)return;delete t.__transition}}function Yl(t,e){var n=t.__transition,r,i,o=!0,a;if(!!n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>fe&&r.state<he,r.state=xn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Gl(t){return this.each(function(){Yl(this,t)})}function jl(t,e){var n,r;return function(){var i=pt(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Ul(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=pt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},c=0,f=i.length;c<f;++c)if(i[c].name===e){i[c]=s;break}c===f&&i.push(s)}o.tween=i}}function Kl(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ut(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?jl:Ul)(n,t,e))}function de(t,e,n){var r=t._id;return t.each(function(){var i=pt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ut(i,r).value[e]}}function ai(t,e){var n;return(typeof e=="number"?lt:e instanceof _t?fn:(n=_t(e))?(e=n,fn):Ur)(t,e)}function Zl(t){return function(){this.removeAttribute(t)}}function Wl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ql(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Jl(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function tu(t,e,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s)))}}function nu(t,e,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s)))}}function eu(t,e){var n=sn(t),r=n==="transform"?Il:ai;return this.attrTween(t,typeof e=="function"?(n.local?nu:tu)(n,r,de(this,"attr."+t,e)):e==null?(n.local?Wl:Zl)(n):(n.local?Jl:Ql)(n,r,e))}function ru(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function iu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ou(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&iu(t,o)),n}return i._value=e,i}function au(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ru(t,o)),n}return i._value=e,i}function su(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=sn(t);return this.tween(n,(r.local?ou:au)(r,e))}function lu(t,e){return function(){pe(this,t).delay=+e.apply(this,arguments)}}function uu(t,e){return e=+e,function(){pe(this,t).delay=e}}function cu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?lu:uu)(e,t)):ut(this.node(),e).delay}function fu(t,e){return function(){pt(this,t).duration=+e.apply(this,arguments)}}function hu(t,e){return e=+e,function(){pt(this,t).duration=e}}function pu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?fu:hu)(e,t)):ut(this.node(),e).duration}function du(t,e){if(typeof e!="function")throw new Error;return function(){pt(this,t).ease=e}}function gu(t){var e=this._id;return arguments.length?this.each(du(e,t)):ut(this.node(),e).ease}function mu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;pt(this,t).ease=n}}function yu(t){if(typeof t!="function")throw new Error;return this.each(mu(this._id,t))}function vu(t){typeof t!="function"&&(t=Ar(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],c,f=0;f<a;++f)(c=o[f])&&t.call(c,c.__data__,f,o)&&s.push(c);return new yt(r,this._parents,this._name,this._id)}function _u(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c=e[s],f=n[s],p=c.length,g=a[s]=new Array(p),y,_=0;_<p;++_)(y=c[_]||f[_])&&(g[_]=y);for(;s<r;++s)a[s]=e[s];return new yt(a,this._parents,this._name,this._id)}function xu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function wu(t,e,n){var r,i,o=xu(e)?pe:pt;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function bu(t,e){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(t):this.each(wu(n,t,e))}function $u(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Au(){return this.on("end.remove",$u(this._id))}function Mu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Jn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],c=s.length,f=o[a]=new Array(c),p,g,y=0;y<c;++y)(p=s[y])&&(g=t.call(p,p.__data__,y,s))&&("__data__"in p&&(g.__data__=p.__data__),f[y]=g,wn(f[y],e,n,y,f,ut(p,n)));return new yt(o,this._parents,e,n)}function Eu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=$r(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c=r[s],f=c.length,p,g=0;g<f;++g)if(p=c[g]){for(var y=t.call(p,p.__data__,g,c),_,$=ut(p,n),M=0,E=y.length;M<E;++M)(_=y[M])&&wn(_,e,n,M,y,$);o.push(y),a.push(p)}return new yt(o,a,e,n)}var ku=Nt.prototype.constructor;function Cu(){return new ku(this._groups,this._parents)}function Tu(t,e){var n,r,i;return function(){var o=Tt(this,t),a=(this.style.removeProperty(t),Tt(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function si(t){return function(){this.style.removeProperty(t)}}function Nu(t,e,n){var r,i=n+"",o;return function(){var a=Tt(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function Lu(t,e,n){var r,i,o;return function(){var a=Tt(this,t),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(t),Tt(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=e(r=a,s))}}function Ru(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var c=pt(this,t),f=c.on,p=c.value[o]==null?s||(s=si(e)):void 0;(f!==n||i!==p)&&(r=(n=f).copy()).on(a,i=p),c.on=r}}function Su(t,e,n){var r=(t+="")==="transform"?Fl:ai;return e==null?this.styleTween(t,Tu(t,r)).on("end.style."+t,si(t)):typeof e=="function"?this.styleTween(t,Lu(t,r,de(this,"style."+t,e))).each(Ru(this._id,t)):this.styleTween(t,Nu(t,r,e),n).on("end.style."+t,null)}function Ou(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Pu(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Ou(t,a,n)),r}return o._value=e,o}function Fu(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Pu(t,e,n==null?"":n))}function Iu(t){return function(){this.textContent=t}}function zu(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function qu(t){return this.tween("text",typeof t=="function"?zu(de(this,"text",t)):Iu(t==null?"":t+""))}function Hu(t){return function(e){this.textContent=t.call(this,e)}}function Du(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Hu(i)),e}return r._value=t,r}function Xu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Du(t))}function Vu(){for(var t=this._name,e=this._id,n=li(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,f=0;f<s;++f)if(c=a[f]){var p=ut(c,e);wn(c,t,n,f,a,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new yt(r,this._parents,t,n)}function Bu(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--i==0&&o()}};n.each(function(){var f=pt(this,r),p=f.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),f.on=e}),i===0&&o()})}var Yu=0;function yt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function bn(t){return Nt().transition(t)}function li(){return++Yu}var vt=Nt.prototype;yt.prototype=bn.prototype={constructor:yt,select:Mu,selectAll:Eu,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:vu,merge:_u,selection:Cu,transition:Vu,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:bu,attr:eu,attrTween:su,style:Su,styleTween:Fu,text:qu,textTween:Xu,remove:Au,tween:Kl,delay:cu,duration:pu,ease:gu,easeVarying:yu,end:Bu,[Symbol.iterator]:vt[Symbol.iterator]};function Gu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ju={time:null,delay:0,duration:250,ease:Gu};function Uu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ku(t){var e,n;t instanceof yt?(e=t._id,t=t._name):(e=li(),(n=ju).time=ue(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,f=0;f<s;++f)(c=a[f])&&wn(c,t,e,f,a,n||Uu(c,e));return new yt(r,this._parents,t,e)}Nt.prototype.interrupt=Gl,Nt.prototype.transition=Ku;const ge=Math.PI,me=2*ge,wt=1e-6,Zu=me-wt;function ye(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function $n(){return new ye}ye.prototype=$n.prototype={constructor:ye,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,c=r-e,f=o-t,p=a-e,g=f*f+p*p;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(g>wt)if(!(Math.abs(p*s-c*f)>wt)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var y=n-o,_=r-a,$=s*s+c*c,M=y*y+_*_,E=Math.sqrt($),L=Math.sqrt(g),A=i*Math.tan((ge-Math.acos(($+g-M)/(2*E*L)))/2),C=A/L,R=A/E;Math.abs(C-1)>wt&&(this._+="L"+(t+C*f)+","+(e+C*p)),this._+="A"+i+","+i+",0,0,"+ +(p*y>f*_)+","+(this._x1=t+R*s)+","+(this._y1=e+R*c)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var a=n*Math.cos(r),s=n*Math.sin(r),c=t+a,f=e+s,p=1^o,g=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+f:(Math.abs(this._x1-c)>wt||Math.abs(this._y1-f)>wt)&&(this._+="L"+c+","+f),!!n&&(g<0&&(g=g%me+me),g>Zu?this._+="A"+n+","+n+",0,1,"+p+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+p+","+(this._x1=c)+","+(this._y1=f):g>wt&&(this._+="A"+n+","+n+",0,"+ +(g>=ge)+","+p+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Wu(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function An(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function St(t){return t=An(Math.abs(t)),t?t[1]:NaN}function Qu(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),o.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Ju(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var tc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mn(t){if(!(e=tc.exec(t)))throw new Error("invalid format: "+t);var e;return new ve({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mn.prototype=ve.prototype;function ve(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ve.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nc(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ui;function ec(t,e){var n=An(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ui=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+An(t,Math.max(0,e+o-1))[0]}function ci(t,e){var n=An(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var fi={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Wu,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ci(t*100,e),r:ci,s:ec,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hi(t){return t}var pi=Array.prototype.map,di=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function rc(t){var e=t.grouping===void 0||t.thousands===void 0?hi:Qu(pi.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?hi:Ju(pi.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(g){g=Mn(g);var y=g.fill,_=g.align,$=g.sign,M=g.symbol,E=g.zero,L=g.width,A=g.comma,C=g.precision,R=g.trim,O=g.type;O==="n"?(A=!0,O="g"):fi[O]||(C===void 0&&(C=12),R=!0,O="g"),(E||y==="0"&&_==="=")&&(E=!0,y="0",_="=");var F=M==="$"?n:M==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",I=M==="$"?r:/[%p]/.test(O)?a:"",B=fi[O],H=/[defgprs%]/.test(O);C=C===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function X(T){var k=F,N=I,G,Q,Z;if(O==="c")N=B(T)+N,T="";else{T=+T;var W=T<0||1/T<0;if(T=isNaN(T)?c:B(Math.abs(T),C),R&&(T=nc(T)),W&&+T==0&&$!=="+"&&(W=!1),k=(W?$==="("?$:s:$==="-"||$==="("?"":$)+k,N=(O==="s"?di[8+ui/3]:"")+N+(W&&$==="("?")":""),H){for(G=-1,Q=T.length;++G<Q;)if(Z=T.charCodeAt(G),48>Z||Z>57){N=(Z===46?i+T.slice(G+1):T.slice(G))+N,T=T.slice(0,G);break}}}A&&!E&&(T=e(T,1/0));var b=k.length+T.length+N.length,x=b<L?new Array(L-b+1).join(y):"";switch(A&&E&&(T=e(x+T,x.length?L-N.length:1/0),x=""),_){case"<":T=k+T+N+x;break;case"=":T=k+x+T+N;break;case"^":T=x.slice(0,b=x.length>>1)+k+T+N+x.slice(b);break;default:T=x+k+T+N;break}return o(T)}return X.toString=function(){return g+""},X}function p(g,y){var _=f((g=Mn(g),g.type="f",g)),$=Math.max(-8,Math.min(8,Math.floor(St(y)/3)))*3,M=Math.pow(10,-$),E=di[8+$/3];return function(L){return _(M*L)+E}}return{format:f,formatPrefix:p}}var En,Ot,gi;mi({thousands:",",grouping:[3],currency:["$",""]});function mi(t){return En=rc(t),Ot=En.format,gi=En.formatPrefix,En}function ic(t){return Math.max(0,-St(Math.abs(t)))}function oc(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(St(e)/3)))*3-St(Math.abs(t)))}function ac(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,St(e)-St(t))+1}function _e(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const yi=Symbol("implicit");function vi(){var t=new dr,e=[],n=[],r=yi;function i(o){let a=t.get(o);if(a===void 0){if(r!==yi)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new dr;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return vi(e,n).unknown(r)},_e.apply(i,arguments),i}function _i(){var t=vi().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,c=0,f=0,p=.5;delete t.unknown;function g(){var y=e().length,_=i<r,$=_?i:r,M=_?r:i;o=(M-$)/Math.max(1,y-c+f*2),s&&(o=Math.floor(o)),$+=(M-$-o*(y-c))*p,a=o*(1-c),s&&($=Math.round($),a=Math.round(a));var E=Ea(y).map(function(L){return $+o*L});return n(_?E.reverse():E)}return t.domain=function(y){return arguments.length?(e(y),g()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,g()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,s=!0,g()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(y){return arguments.length?(s=!!y,g()):s},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),g()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),g()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,g()):f},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),g()):p},t.copy=function(){return _i(e(),[r,i]).round(s).paddingInner(c).paddingOuter(f).align(p)},_e.apply(g(),arguments)}function sc(t){return function(){return t}}function lc(t){return+t}var xi=[0,1];function Pt(t){return t}function xe(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:sc(isNaN(e)?NaN:.5)}function uc(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function cc(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=xe(i,r),o=n(a,o)):(r=xe(r,i),o=n(o,a)),function(s){return o(r(s))}}function fc(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=xe(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var c=xa(t,s,1,r)-1;return o[c](i[c](s))}}function hc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pc(){var t=xi,e=xi,n=pn,r,i,o,a=Pt,s,c,f;function p(){var y=Math.min(t.length,e.length);return a!==Pt&&(a=uc(t[0],t[y-1])),s=y>2?fc:cc,c=f=null,g}function g(y){return y==null||isNaN(y=+y)?o:(c||(c=s(t.map(r),e,n)))(r(a(y)))}return g.invert=function(y){return a(i((f||(f=s(e,t.map(r),lt)))(y)))},g.domain=function(y){return arguments.length?(t=Array.from(y,lc),p()):t.slice()},g.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},g.rangeRound=function(y){return e=Array.from(y),n=Sl,p()},g.clamp=function(y){return arguments.length?(a=y?!0:Pt,p()):a!==Pt},g.interpolate=function(y){return arguments.length?(n=y,p()):n},g.unknown=function(y){return arguments.length?(o=y,g):o},function(y,_){return r=y,i=_,p()}}function dc(){return pc()(Pt,Pt)}function gc(t,e,n,r){var i=Ma(t,e,n),o;switch(r=Mn(r==null?",f":r),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=oc(i,a))&&(r.precision=o),gi(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ac(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ic(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ot(r)}function mc(t){var e=t.domain;return t.ticks=function(n){var r=e();return Aa(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return gc(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],c,f,p=10;for(s<a&&(f=a,a=s,s=f,f=i,i=o,o=f);p-- >0;){if(f=mr(a,s,n),f===c)return r[i]=a,r[o]=s,e(r);if(f>0)a=Math.floor(a/f)*f,s=Math.ceil(s/f)*f;else if(f<0)a=Math.ceil(a*f)/f,s=Math.floor(s*f)/f;else break;c=f}return t},t}function wi(){var t=dc();return t.copy=function(){return hc(t,wi())},_e.apply(t,arguments),mc(t)}function z(t){return function(){return t}}var bi=Math.abs,tt=Math.atan2,bt=Math.cos,yc=Math.max,we=Math.min,dt=Math.sin,Ft=Math.sqrt,it=1e-12,Zt=Math.PI,kn=Zt/2,Cn=2*Zt;function vc(t){return t>1?0:t<-1?Zt:Math.acos(t)}function $i(t){return t>=1?kn:t<=-1?-kn:Math.asin(t)}function _c(t){return t.innerRadius}function xc(t){return t.outerRadius}function wc(t){return t.startAngle}function bc(t){return t.endAngle}function $c(t){return t&&t.padAngle}function Ac(t,e,n,r,i,o,a,s){var c=n-t,f=r-e,p=a-i,g=s-o,y=g*c-p*f;if(!(y*y<it))return y=(p*(e-o)-g*(t-i))/y,[t+y*c,e+y*f]}function Tn(t,e,n,r,i,o,a){var s=t-n,c=e-r,f=(a?o:-o)/Ft(s*s+c*c),p=f*c,g=-f*s,y=t+p,_=e+g,$=n+p,M=r+g,E=(y+$)/2,L=(_+M)/2,A=$-y,C=M-_,R=A*A+C*C,O=i-o,F=y*M-$*_,I=(C<0?-1:1)*Ft(yc(0,O*O*R-F*F)),B=(F*C-A*I)/R,H=(-F*A-C*I)/R,X=(F*C+A*I)/R,T=(-F*A+C*I)/R,k=B-E,N=H-L,G=X-E,Q=T-L;return k*k+N*N>G*G+Q*Q&&(B=X,H=T),{cx:B,cy:H,x01:-p,y01:-g,x11:B*(i/O-1),y11:H*(i/O-1)}}function Mc(){var t=_c,e=xc,n=z(0),r=null,i=wc,o=bc,a=$c,s=null;function c(){var f,p,g=+t.apply(this,arguments),y=+e.apply(this,arguments),_=i.apply(this,arguments)-kn,$=o.apply(this,arguments)-kn,M=bi($-_),E=$>_;if(s||(s=f=$n()),y<g&&(p=y,y=g,g=p),!(y>it))s.moveTo(0,0);else if(M>Cn-it)s.moveTo(y*bt(_),y*dt(_)),s.arc(0,0,y,_,$,!E),g>it&&(s.moveTo(g*bt($),g*dt($)),s.arc(0,0,g,$,_,E));else{var L=_,A=$,C=_,R=$,O=M,F=M,I=a.apply(this,arguments)/2,B=I>it&&(r?+r.apply(this,arguments):Ft(g*g+y*y)),H=we(bi(y-g)/2,+n.apply(this,arguments)),X=H,T=H,k,N;if(B>it){var G=$i(B/g*dt(I)),Q=$i(B/y*dt(I));(O-=G*2)>it?(G*=E?1:-1,C+=G,R-=G):(O=0,C=R=(_+$)/2),(F-=Q*2)>it?(Q*=E?1:-1,L+=Q,A-=Q):(F=0,L=A=(_+$)/2)}var Z=y*bt(L),W=y*dt(L),b=g*bt(R),x=g*dt(R);if(H>it){var S=y*bt(A),q=y*dt(A),D=g*bt(C),J=g*dt(C),Y;if(M<Zt&&(Y=Ac(Z,W,D,J,S,q,b,x))){var ct=Z-Y[0],It=W-Y[1],Qt=S-Y[0],Jt=q-Y[1],zt=1/dt(vc((ct*Qt+It*Jt)/(Ft(ct*ct+It*It)*Ft(Qt*Qt+Jt*Jt)))/2),tn=Ft(Y[0]*Y[0]+Y[1]*Y[1]);X=we(H,(g-tn)/(zt-1)),T=we(H,(y-tn)/(zt+1))}}F>it?T>it?(k=Tn(D,J,Z,W,y,T,E),N=Tn(S,q,b,x,y,T,E),s.moveTo(k.cx+k.x01,k.cy+k.y01),T<H?s.arc(k.cx,k.cy,T,tt(k.y01,k.x01),tt(N.y01,N.x01),!E):(s.arc(k.cx,k.cy,T,tt(k.y01,k.x01),tt(k.y11,k.x11),!E),s.arc(0,0,y,tt(k.cy+k.y11,k.cx+k.x11),tt(N.cy+N.y11,N.cx+N.x11),!E),s.arc(N.cx,N.cy,T,tt(N.y11,N.x11),tt(N.y01,N.x01),!E))):(s.moveTo(Z,W),s.arc(0,0,y,L,A,!E)):s.moveTo(Z,W),!(g>it)||!(O>it)?s.lineTo(b,x):X>it?(k=Tn(b,x,S,q,g,-X,E),N=Tn(Z,W,D,J,g,-X,E),s.lineTo(k.cx+k.x01,k.cy+k.y01),X<H?s.arc(k.cx,k.cy,X,tt(k.y01,k.x01),tt(N.y01,N.x01),!E):(s.arc(k.cx,k.cy,X,tt(k.y01,k.x01),tt(k.y11,k.x11),!E),s.arc(0,0,g,tt(k.cy+k.y11,k.cx+k.x11),tt(N.cy+N.y11,N.cx+N.x11),E),s.arc(N.cx,N.cy,X,tt(N.y11,N.x11),tt(N.y01,N.x01),!E))):s.arc(0,0,g,R,C,E)}if(s.closePath(),f)return s=null,f+""||null}return c.centroid=function(){var f=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,p=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Zt/2;return[bt(p)*f,dt(p)*f]},c.innerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:z(+f),c):t},c.outerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:z(+f),c):e},c.cornerRadius=function(f){return arguments.length?(n=typeof f=="function"?f:z(+f),c):n},c.padRadius=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:z(+f),c):r},c.startAngle=function(f){return arguments.length?(i=typeof f=="function"?f:z(+f),c):i},c.endAngle=function(f){return arguments.length?(o=typeof f=="function"?f:z(+f),c):o},c.padAngle=function(f){return arguments.length?(a=typeof f=="function"?f:z(+f),c):a},c.context=function(f){return arguments.length?(s=f==null?null:f,c):s},c}function be(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ai(t){this._context=t}Ai.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nn(t){return new Ai(t)}function Mi(t){return t[0]}function Ei(t){return t[1]}function Ln(t,e){var n=z(!0),r=null,i=Nn,o=null;t=typeof t=="function"?t:t===void 0?Mi:z(t),e=typeof e=="function"?e:e===void 0?Ei:z(e);function a(s){var c,f=(s=be(s)).length,p,g=!1,y;for(r==null&&(o=i(y=$n())),c=0;c<=f;++c)!(c<f&&n(p=s[c],c,s))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(p,c,s),+e(p,c,s));if(y)return o=null,y+""||null}return a.x=function(s){return arguments.length?(t=typeof s=="function"?s:z(+s),a):t},a.y=function(s){return arguments.length?(e=typeof s=="function"?s:z(+s),a):e},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:z(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),a):i},a.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),a):r},a}function $e(t,e,n){var r=null,i=z(!0),o=null,a=Nn,s=null;t=typeof t=="function"?t:t===void 0?Mi:z(+t),e=typeof e=="function"?e:z(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Ei:z(+n);function c(p){var g,y,_,$=(p=be(p)).length,M,E=!1,L,A=new Array($),C=new Array($);for(o==null&&(s=a(L=$n())),g=0;g<=$;++g){if(!(g<$&&i(M=p[g],g,p))===E)if(E=!E)y=g,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),_=g-1;_>=y;--_)s.point(A[_],C[_]);s.lineEnd(),s.areaEnd()}E&&(A[g]=+t(M,g,p),C[g]=+e(M,g,p),s.point(r?+r(M,g,p):A[g],n?+n(M,g,p):C[g]))}if(L)return s=null,L+""||null}function f(){return Ln().defined(i).curve(a).context(o)}return c.x=function(p){return arguments.length?(t=typeof p=="function"?p:z(+p),r=null,c):t},c.x0=function(p){return arguments.length?(t=typeof p=="function"?p:z(+p),c):t},c.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:z(+p),c):r},c.y=function(p){return arguments.length?(e=typeof p=="function"?p:z(+p),n=null,c):e},c.y0=function(p){return arguments.length?(e=typeof p=="function"?p:z(+p),c):e},c.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:z(+p),c):n},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(n)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(p){return arguments.length?(i=typeof p=="function"?p:z(!!p),c):i},c.curve=function(p){return arguments.length?(a=p,o!=null&&(s=a(o)),c):a},c.context=function(p){return arguments.length?(p==null?o=s=null:s=a(o=p),c):o},c}function Ec(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function kc(t){return t}function Cc(){var t=kc,e=Ec,n=null,r=z(0),i=z(Cn),o=z(0);function a(s){var c,f=(s=be(s)).length,p,g,y=0,_=new Array(f),$=new Array(f),M=+r.apply(this,arguments),E=Math.min(Cn,Math.max(-Cn,i.apply(this,arguments)-M)),L,A=Math.min(Math.abs(E)/f,o.apply(this,arguments)),C=A*(E<0?-1:1),R;for(c=0;c<f;++c)(R=$[_[c]=c]=+t(s[c],c,s))>0&&(y+=R);for(e!=null?_.sort(function(O,F){return e($[O],$[F])}):n!=null&&_.sort(function(O,F){return n(s[O],s[F])}),c=0,g=y?(E-f*C)/y:0;c<f;++c,M=L)p=_[c],R=$[p],L=M+(R>0?R*g:0)+C,$[p]={data:s[p],index:c,value:R,startAngle:M,endAngle:L,padAngle:A};return $}return a.value=function(s){return arguments.length?(t=typeof s=="function"?s:z(+s),a):t},a.sortValues=function(s){return arguments.length?(e=s,n=null,a):e},a.sort=function(s){return arguments.length?(n=s,e=null,a):n},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:z(+s),a):r},a.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:z(+s),a):i},a.padAngle=function(s){return arguments.length?(o=typeof s=="function"?s:z(+s),a):o},a}function ki(t){return t<0?-1:1}function Ci(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(ki(o)+ki(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Ti(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ae(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Rn(t){this._context=t}Rn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ae(this,this._t0,Ti(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ae(this,Ti(this,n=Ci(this,t,e)),n);break;default:Ae(this,this._t0,n=Ci(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(Rn.prototype).point=function(t,e){Rn.prototype.point.call(this,e,t)};function Sn(t){return new Rn(t)}function Tc({chart:t,set:e,xScale:n,yScale:r,colors:i,cols:o,labels:a,width:s,height:c,unit:f}){const p=bn().duration(1e3),g=(x,S)=>500+S*100;qi(t,a,s,c,Xn(e.map(([,x])=>({values:[x]}))));const y=$e().curve(Nn).x(([x])=>n(x)+n.bandwidth()/3*2).y1(([,x])=>r(x)).y0(()=>c),_=t.selectAll(".area").data([1]);_.exit().remove(),_.enter().append("path").attr("class","area").attr("fill",rt.area).attr("opacity",.5).merge(_).transition(p).delay(2e3).attrTween("d",()=>{const x=hn(e.map(()=>0),e.map(([,S])=>S));return S=>y(x(S).map((q,D)=>[e[D][0],q]))});const M=t.selectAll(".bar").data(e,([x])=>x);M.exit().remove();const E=M.enter().append("g").attr("font-family",mt).attr("class","bar");M.merge(E);const L=([x,S],q)=>Uc(n(x),q==="init"?c:r(S),n.bandwidth(),c),A=([x])=>{const S=o[x].colors,{end:q}=i[S],{r:D,g:J,b:Y}=Xe(q);return`rgb(${D}, ${J}, ${Y})`};E.append("path").attr("class","bar__color").attr("fill",A).attr("d",x=>L(x,"init")).transition(p).delay(g).attr("d",L),E.merge(M.select(".bar__color").attr("fill",A).transition(p).attr("d",L));const C=Ln().curve(Nn).x(([x])=>n(x)+n.bandwidth()/3*2).y(([,x])=>r(x)),R=t.selectAll(".line").data([1]);R.exit().remove(),R.enter().append("path").attr("class","line").attr("fill","none").attr("stroke",rt.line).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",2).merge(R).transition(p).delay(2e3).attrTween("d",()=>{const x=hn(e.map(()=>0),e.map(([,S])=>S));return S=>C(x(S).map((q,D)=>[e[D][0],q]))});const F=([x,S],q)=>jc(n(x),q==="init"?c:r(S),n.bandwidth()),I=([x],S=!1)=>{const q=o[x].colors,{border:{r:D,g:J,b:Y,a:ct}}=i[q];return S===!0?ct:`rgb(${D}, ${J}, ${Y})`};E.append("path").attr("class","bar__symbol").attr("fill",x=>I(x)).attr("fill-opacity",x=>I(x,!0)).attr("d",x=>F(x,"init")).transition(p).delay(g).attr("d",F).attr("fill",I),E.merge(M.select(".bar__symbol").transition(p).attr("d",F).attr("fill",I));const B=([x])=>n(x)+n.bandwidth()/2,H=()=>n.bandwidth()*so,X=()=>H()*-1/20,T=([,x])=>(x?r(x):c)-Zc(n.bandwidth())+H()/5*2;E.append("text").attr("class","bar__text").attr("fill","white").attr("text-anchor","middle").attr("font-weight","bold").text(x=>Fn(x).value).attr("font-size",H).attr("letter-spacing",X).attr("font-family",mt).attr("x",B).attr("y",()=>T([])).transition(p).delay(g).attr("y",T),E.merge(M.select(".bar__text").text(x=>Fn(x).value).transition(p).attr("font-size",H).attr("x",B).attr("y",T));const k=()=>n.bandwidth()/4,N=([x])=>n(x)+n.bandwidth()/3*2,G=([,x],S)=>(S==="init"?c:r(x))-n.bandwidth()*ao+k()/5*3;E.append("text").attr("class","bar__units").attr("fill","white").attr("text-anchor","middle").attr("font-weight","bold").text(x=>f||Fn(x).unit).attr("font-size",k).attr("x",N).attr("y",x=>G(x,"init")).transition(p).delay(g).attr("y",G).attr("font-size",k),E.merge(M.select(".bar__units").text(x=>f||Fn(x).unit).transition(p).attr("x",N).attr("y",G).attr("font-size",k));const Q=()=>n.bandwidth()*Ve,Z=([x])=>n(x)+n.bandwidth()*2/3-Q()/2,W=t.selectAll(".point").data(e,([x])=>x);W.exit().remove(),W.enter().append("circle").attr("class","point").attr("stroke-width",2).attr("stroke",rt.line).attr("fill",rt.point).merge(W).transition(p).attr("cx",Z).attr("r",()=>Q()).attr("cy",([,x])=>r(x))}function Nc({chart:t,colors:e,t:n,set:r,xScale:i,idPrefix:o}){const a=r.map(([,{colors:A}])=>[A,e[A]]),s=t.select("defs"),c=s.selectAll(".gradient").data(a,([A])=>A);c.exit().remove();const f=c.enter().append("linearGradient").attr("class","gradient").attr("gradientTransform",`rotate(${-15})`).attr("id",([A])=>`${o}-gradient-line-${A}`).attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");c.merge(f);const p=([,{start:{r:A,g:C,b:R}}])=>`rgb(${A}, ${C}, ${R})`,g=([,{end:{r:A,g:C,b:R}}])=>`rgb(${A}, ${C}, ${R})`,y=([,{start:{a:A}}])=>A,_=([,{end:{a:A}}])=>A;f.append("stop").attr("class","gradient__start").attr("offset","20%").attr("stop-color",p).attr("stop-opacity",y).transition(n).attr("stop-color",p).attr("stop-opacity",y),f.merge(c.select(".gradient__start").transition(n).attr("stop-color",p)).attr("stop-opacity",y),f.append("stop").attr("class","gradient__end").attr("offset","100%").attr("stop-color",g).attr("stop-opacity",_).transition(n).attr("stop-color",g).attr("stop-opacity",_),f.merge(c.select(".gradient__end").transition(n).attr("stop-color",g)).attr("stop-opacity",_);const $=s.selectAll(".clip").data(r,([A])=>A);$.exit().remove();const M=$.enter().append("clipPath").attr("class","clip").attr("id",([A])=>`${o}-clip${A}`);$.merge(M);const E=([,{values:A}])=>Ni(A,i).width,L=([,{values:A}])=>Ni(A,i).x;M.append("rect").attr("class","clip__shape").attr("width",E).attr("x",L).attr("height",5e3).attr("y",0).transition(n).attr("width",E).attr("x",L),M.merge($.select(".clip__shape").transition(n).attr("width",E).attr("x",L))}function Ni(t,e){let n=0;const r={};for(const s in t){n+=1;const c=t[s];j(c)&&(r[n]=s)}const i=st(Object.keys(r).map(parseFloat)),[o,a]=[i[0],i[i.length-1]];return i.length?{x:e(r[o])+e.bandwidth()/2,width:e(r[a])-e(r[o])}:{x:0,width:0}}function Lc({chart:t,set:e,xScale:n,yScale:r,colors:i,labels:o,height:a,width:s,locale:c,cols:f}){Le(c);const p=oo(),g=e[0][1],y=b=>b==="1",_=Math.min(...e.reduce((b,[,{values:x}])=>b.concat(Object.values(x)),[]).filter(j)),$=bn().duration(1e3);Nc({chart:t,colors:i,t:$,set:e,xScale:n,idPrefix:p}),qi(t,o,s,a,Xn(e.map(([,b])=>b)));const M=t.select(".topLeftLabel").selectAll(".topLabels").data(e,([b])=>b);M.exit().remove(),M.enter().append("tspan").attr("class","topLabels").merge(M).html(([,{values:b,name:x,colors:S}])=>{const{border:{r:q,g:D,b:J}}=i[S],Y=`rgb(${q}, ${D}, ${J})`;return x?`
                    <tspan y="10" fill="${Y}" stroke="${Y}" stroke-width="10" font-size="30">\u2022</tspan>
                    <tspan y="5" dx="10" font-size="12">${x}</tspan>
                    <tspan dx="5" font-weight="bold" font-size="12">${Ot(",")(io(b))}</tspan>
            `:""}).attr("dx",(b,x)=>x>0?20:-50);const L=$e().curve(Sn).x(([b])=>n(b)+n.bandwidth()/2).y0(()=>r(_)).y1(([,b])=>r(b)),A=$e().curve(Sn).x(([b])=>n(b)+n.bandwidth()/2).y0(([b])=>r(g.values[b])).y1(([b,x])=>r(x||g.values[b])),C=t.selectAll(".area").data(e,([b])=>b);C.exit().remove(),C.enter().append("path").attr("class","area").attr("fill-opacity",0).merge(C).attr("fill",([,{colors:b}])=>`url(#${p}-gradient-line-${b})`).attr("clip-path",([b])=>!y(b)&&`url(#${p}-clip${b})`).transition($).attrTween("d",([b,{values:x}])=>{const S=Ct(x),q=hn(S.map(()=>0),S.map(([,D])=>D));return D=>(y(b)?L:A)(q(D).map((Y,ct)=>[S[ct][0],Y]))}).transition().attr("fill-opacity",1);const O=Ln().curve(Sn).x(([b])=>n(b)+n.bandwidth()/2).y(([,b])=>r(b)),F=Ln().curve(Sn).x(([b])=>n(b)+n.bandwidth()/2).y(([b,x])=>r(x||g.values[b])),I=t.selectAll(".line").data(e.sort(([b])=>y(b)?1:-1),([b])=>b);I.exit().remove(),I.enter().append("path").attr("class","line").attr("fill","none").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",2).merge(I).attr("clip-path",([b])=>!y(b)&&`url(#clip${b})`).transition($).attr("stroke",([,{colors:b}])=>{const{border:{r:x,g:S,b:q}}=i[b];return`rgb(${x}, ${S}, ${q})`}).attrTween("d",([b,{values:x}])=>{const S=Ct(x),q=hn(S.map(()=>_),S.map(([,D])=>D));return D=>(y(b)?O:F)(q(D).map((Y,ct)=>[S[ct][0],Y]))});const H=()=>n.bandwidth()*Ve,X=([,b])=>n(b)+n.bandwidth()/2-H()/2+4,T=Or("body").append("div").attr("class","tooltip").style("position","absolute").style("left","0").style("top","0").style("opacity","0").style("width","280px").style("pointer-events","none").style("z-index","500"),k=Object.entries(f).filter(([,{annotation:b}])=>b).map(([b,{annotation:x}])=>[b,x,Math.max(...e.map(([,{values:S}])=>S[b]).filter(S=>S))]),N=t.selectAll(".annotation").data(k);N.exit().remove(),N.enter().append("line").attr("class","annotation").attr("stroke-width",2).attr("fill",rt.point).merge(N).transition($).attr("x1",([b])=>X([0,b])).attr("y1",a).attr("x2",([b])=>X([0,b])).attr("y2",([,,b])=>r(b)+H()).attr("stroke","black");const Q=e.sort(([b])=>y(b)?1:-1).reduce((b,[x,{values:S}])=>b.concat(Ct(S).map(q=>[x,...q])),[]).filter(([,,b])=>b),Z=t.selectAll(".point").data(Q,([b,x])=>b+x);Z.exit().remove(),Z.enter().append("circle").attr("class","point").attr("stroke-width",2).attr("fill",rt.point).merge(Z).transition($).attr("r",()=>H()).attr("cx",X).attr("cy",([,,b])=>r(b)).attr("stroke",([b])=>{const[,{colors:x}]=e.find(([J])=>J===b),{border:{r:S,g:q,b:D}}=i[x];return`rgb(${S}, ${q}, ${D})`}),t.selectAll(".annotation-area").data(k).enter().append("rect").attr("class","annotation-area").attr("fill","transparent").attr("x",([b])=>n(b)+n.bandwidth()/2-14).attr("y",([,,b])=>r(b)-14).attr("width",28).attr("height",([,,b])=>a-r(b)+14).on("mouseover",(b,[x,[S,...q]])=>T.style("opacity","1").html(`
                    <table>
                        <caption>${f[x].value}</caption>
                        <thead>
                            <tr>
                                ${S.map(D=>`<th>${D}</th>`).join("")}
                            </tr>
                        </thead>
                        <tbody>
                            ${q.map(D=>`
                                <tr>${D.map(J=>`<td>${J}</td>`).join("")}</tr>
                            `).join("")}
                        </tbody>
                    </table>
                `)).on("mousemove",(b,[,x])=>T.style("left",`${event.pageX}px`).style("top",`${event.pageY}px`)).on("mouseout",()=>T.style("opacity","0"))}function Rc({chart:t,set:e,colors:n,cols:r,width:i,sortDirection:o,sortType:a}){const s=bn().duration(1e3).delay(1e3),c=Cc().value(([,A])=>A).sort(null)(e.sort(Ii(a,o,r)).map(A=>A)),f=i/2,p=f*.55,g=Mc().innerRadius(p).outerRadius(f),y=(A,C)=>{const R=nn(Mt({},A),{data:[A.data[0],0],endAngle:0,padAngle:0,startAngle:0,value:0}),O=pn(R,A);return function(F){const I=O(F);return g(I,C)}},_=t.selectAll(".doughnut").data([1]).enter().append("g").attr("class","doughnut").attr("transform",`translate(${i/2}, ${i/2})`),$=t.select(".doughnut").selectAll(".arc").data(c,({data:[A]})=>A);$.exit().remove(),$.enter().append("path").attr("class","arc").merge($).transition(s).attrTween("d",y).attr("fill",(A,C)=>{const[R]=e[C],{colors:O}=r[R],{border:{r:F,g:I,b:B}}=n[O];return`rgb(${F}, ${I}, ${B})`});const E=_.selectAll(".center").data([1]);E.enter().append("circle").attr("class","center").attr("stroke","white").attr("stroke-width",60).attr("stroke-opacity",.8).attr("cx",0).attr("cy",0).attr("fill","none").attr("r",0).merge(E).transition().duration(500).attr("r",p)}function Li(t,{cols:e,rows:n,colors:r,isTransposed:i}){const[o,a]=i?Sc(e,n):[e,n];Ic(t),Oc(t,o),Pc(t,a,o,r)}function Sc(t,e){const[[n,r],...i]=Object.entries(t),o=Mt({0:r},Object.fromEntries(Object.entries(e).map(([s,{values:c,colors:f}])=>[s,{colors:f,value:c[n]}]))),a=Object.fromEntries(i.map(([s,{value:c,colors:f}])=>[s,{colors:f,values:Mt({0:c},Object.fromEntries(Object.entries(e).map(([p,{values:g}])=>[p,g[s]])))}]));return[o,a]}function Oc(t,e){const n=document.createElement("thead"),r=document.createElement("tr");let i=0;for(const o in e){i+=1;const a=document.createElement("th");a.innerHTML=e[o].value.replace("|","<br>"),r.appendChild(a),i===1&&r.appendChild(a.cloneNode(!0))}n.appendChild(r),t.appendChild(n)}function Pc(t,e,n,r){const i=document.createElement("tbody"),o=Fc(r),a=Object.values(n);let s=0;for(const c in e){s+=1;const f=document.createElement("tr"),{values:p,colors:g}=e[c];if(Object.values(p).every(_=>!_))continue;let y=0;for(const _ in p){const{colors:$}=a[y];y+=1;const M=document.createElement("td");o(M,g,$,s%2==0),M.innerHTML=p[_].replace("|","<br>"),f.appendChild(M),y===1&&f.appendChild(M.cloneNode(!0))}i.appendChild(f)}t.appendChild(i)}function Fc(t){return t?(e,n,r,i)=>{const{start:o,border:a}=t[n]||Ge,{start:s,end:c,border:f}=t[r]||Ge;o.a&&(e.style.backgroundColor=`rgba(${o.r},${o.g},${o.b},${o.a})`),i&&c.a?e.style.backgroundColor=`rgba(${c.r},${c.g},${c.b},${c.a})`:s.a&&(e.style.backgroundColor=`rgba(${s.r},${s.g},${s.b},${s.a})`),a.a&&(e.style.color=`rgba(${a.r},${a.g},${a.b},${a.a})`),f.a&&(e.style.color=`rgba(${f.r},${f.g},${f.b},${f.a})`)}:()=>null}function Ic(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Me(t,e){const n=8,r=e.scrollLeft,i=e.scrollWidth-e.offsetWidth,o=t<0?0:t>i?i:t;if(Math.abs(r-o)>1){const a=Math.abs(r-o),s=r>o?-1:1;e.scrollLeft=e.scrollLeft+s*(a>n?a/n:1),window.requestAnimationFrame(()=>Me(o,e)),window.canClick=!1}else window.canClick=!0}function zc(t,e,n){e.scrollLeft=e.scrollWidth,window.canClick=!0;const r=document.createElement("div");r.className="table-header";const i=document.createElement("button");i.innerText="\u2190",i.className="hidden",i.addEventListener("click",()=>{window.canClick&&Me(e.scrollLeft-n,e)});const o=document.createElement("button");o.innerText="\u2192",o.className="hidden",o.addEventListener("click",()=>{window.canClick&&Me(e.scrollLeft+n,e)});const a=document.createElement("span");a.innerText=t,r.appendChild(i),r.appendChild(a),r.appendChild(o);const s=qc(i,o);return e.addEventListener("scroll",({target:c})=>s(c)),s(e),r}function qc(t,e){return n=>{t.classList.toggle("hidden",Math.abs(n.scrollLeft)<2),e.classList.toggle("hidden",Math.abs(n.scrollLeft+n.offsetWidth-n.scrollWidth)<2)}}function Ee(t){return t===Ke}function $t(t){return t===Ze}function Wt(t){return t===Ue}function Hc(t){return t===Ke||t===Ze||t===Ue}function Dc(t){return t===po}function ke(t){return t.width-Ri(t)}function On(t){return t.height-Vc(t)}function Ri({rows:t,chartType:e,verticalLabel:n}){return $t(e)?0:Xn(t)*Et*Be+(n?Vn:0)}function Xc({chartType:t}){return $t(t)?0:Ye.top}function Vc({chartType:t}){return $t(t)?0:Ye.bottom+Vn}function Pn({chartType:t,rows:e},n=!0){if(Wt(t)){if(!n)return Ct(e);const i={};return Object.keys(e).forEach(o=>{Object.keys(e[o].values).forEach(a=>{i[a]=parseInt(i[a],10)>e[o].values[a]?i[a]:e[o].values[a]})}),Ct(i)}const[r]=Object.keys(e);return Ct(e[r].values)}function Bc(t,e){const n=Pn(e),r=Si(n,e),i=Oi(n,e),a=t.append("svg").attr("viewBox",`0 0 ${e.width} ${e.height}`).attr("fontStyle","normal").attr("fontFamily",mt).append("g").attr("transform",`translate(${Ri(e)}, ${Xc(e)})`);return a.append("g").attr("class","axis axis--y").call(i),a.append("g").attr("class","axis axis--x").attr("transform",`translate(0, ${On(e)})`).call(r),a.append("defs"),a}function Si(t,e){if($t(e.chartType))return()=>null;const n=Te(t,e);return r=>{const i=Oa(n).tickSize(0);r.call(i),r.select(".domain").remove();const o=r.selectAll(".tick text").attr("font-size",Et).attr("font-family",mt).attr("dy",16).attr("fill",rt.label).text("");o.append("tspan").attr("dy","1.4em").attr("x","0").text(a=>Ce(e.cols[a].value,e.locale,0)),o.append("tspan").attr("dy","1.4em").attr("x","0").text(a=>Ce(e.cols[a].value,e.locale,1)),o.append("tspan").attr("dy","1.4em").attr("x","0").text(a=>Ce(e.cols[a].value,e.locale,2))}}function Ce(t,e,n){const[r,i,o,a]=t.split(/\.|\s|\.\s|\.&nbsp;|&nbsp;/).filter(Boolean);return[r,i,o].every(c=>parseInt(c,10))?(e==="cs"?[`${r}. ${i}.`,o,a]:[`${r}.${i}.`,o,a])[n]:[r,i,o,a][n]}function Oi(t,e){if(Le(e.locale),$t(e.chartType))return()=>null;const n=Pi(t,e),r=ke(e);return i=>{const o=Sa(n).tickSize(r).tickPadding(0);i.call(o),i.select(".domain").remove(),i.selectAll(".tick line").attr("opacity",a=>a>Math.max(...t.map(([,s])=>s))?0:1).attr("stroke",rt.tick),i.selectAll(".tick text").text(a=>Ot(",")(a)).attr("opacity",a=>a>Math.max(...t.map(([,s])=>s))?0:1).attr("font-size",Et).attr("font-family",mt).attr("fill",rt.label).attr("x",-10).attr("dy",6).attr("text-anchor","end")}}function Te(t,e){return _i().domain(t.map(([n])=>n)).rangeRound([0,ke(e)]).padding(Ee(e.chartType)?.33:0)}function Pi(t,e){const{rows:n,chartType:r}=e,i=Object.values(n).reduce((c,f)=>c.concat(Object.values(f.values)),[]).filter(j);let o=1;if(Ee(r)){const f=Te(t,e).bandwidth()*Xt,p=On(e);o=(p+f)/p*1.1}else Wt(r)&&(o=1.05);const a=Wt(r)?Math.min(...i):0,s=Math.max(...i)*o;return wi().domain([a,s]).range([On(e),0])}function Fi(t,e,n){Le(e.locale);const{chartType:r,horizontalLabel:i,verticalLabel:o,sortDirection:a,sortType:s}=e,c={set:Pn(e,!Wt(r)),height:On(e),width:ke(e),xScale:Te(t,e),yScale:Pi(t,e),colors:e.colors,cols:e.cols,unit:e.unit,locale:e.locale,labels:{horizontalLabel:i,verticalLabel:o},sortDirection:a,sortType:s,chart:n};return Ee(r)?Tc(c):Wt(r)?Lc(c):$t(r)?Rc(c):!0}function Ne({title:t,subtitle:e},n){if(!t&&!e)return;const r=document.createElement("header");r.className="header";const i=document.createElement("h1"),o=document.createElement("h2");i.innerHTML=t,e.split("|").forEach(a=>{const s=document.createElement("span");s.innerHTML=a.trim(),o.appendChild(s)}),r.appendChild(i),r.appendChild(o),n.insertAdjacentElement("afterbegin",r)}function Ii(t,e,n){const r=e===vo;return([i,o],[a,s])=>t===go?r?-1:1:t===yo?(o-s)*(r?-1:1):t===mo?(n[i].value>n[a].value?1:-1)*(r?-1:1):-1}function zi(t,{cols:e,colors:n,unit:r,displayLegend:i,sortType:o,sortDirection:a,locale:s},c){if(i===!1)return!1;const f=document.createElement("footer");return f.className="footer",t.sort(Ii(o,a,e)).forEach(([p,g])=>{const{colors:y,value:_}=e[p],{border:{r:$,g:M,b:E}}=n[y],L=document.createElement("div");L.className="line";const A=document.createElement("div");A.className="color",A.style.backgroundColor=`rgb(${$}, ${M}, ${E})`;const C=document.createElement("div");C.className="value",C.innerHTML=`${Ot("")(g)}${r?`${r==="%"&&s==="en"?"":"&nbsp;"}${r}`:""}`;const R=document.createElement("div");R.className="label",R.innerHTML=_,L.appendChild(A),L.appendChild(R),L.appendChild(C),f.appendChild(L)}),c.insertAdjacentElement("beforeend",f),!0}function Fn([,t]){const[,e,n]=/([^a-zA-Z]*)([a-zA-Z]?)/g.exec(Ot("~s")(t)),r=t<0?"-":"+";return{value:e,unit:n,sign:r}}const Yc="M9.2 5.3H6.6C6.5 5.1 6.5 4.9 6.4 4.8L3.8 0.3C3.5 -0.1 3.2 -0.1 3 0.3L0.4 4.8C0.2 5.2 0 5.8 0 6.2V11.4C0 11.8 0.3 12.2 0.8 12.2H3.4C3.5 12.4 3.5 12.6 3.6 12.7L6.2 17.2C6.4 17.6 6.7 17.6 7 17.2L9.6 12.7C9.8 12.3 10 11.7 10 11.3V6.1C10 5.7 9.7 5.3 9.2 5.3",Gc=je.makeAbsolute(je.parseSVG(Yc));function jc(t,e,n){return Kc(Gc,o=>o*n/10+t,o=>o*n/10+e-n*Xt).join("")}function Uc(t,e,n,r){return[`M${t} ${e-n*Xt/2}`,`L${t} ${r}`,`L${t+n} ${r}`,`L${t+n} ${e-n*Xt/2}`,"Z"].join(" ")}function Kc(t,e,n){return t.map(r=>{switch(r.code){case"M":return`M${e(r.x)} ${n(r.y)}`;case"C":return`C${e(r.x1)} ${n(r.y1)} ${e(r.x2)} ${n(r.y2)} ${e(r.x)} ${n(r.y)}`;case"L":return`L${e(r.x)} ${n(r.y)}`;case"V":return`V${n(r.y)}`;case"H":return`H${e(r.x)}`;default:return""}}).filter(r=>r)}function Zc(t){return t*Xt/2}function qi(t,e,n,r,i){const o=t.selectAll(".verticalLabel").data([1]),a=-1*(i+1)*Et*Be;o.enter().append("text").attr("class","verticalLabel").attr("x",a).attr("transform",`rotate(-90, ${a}, ${r})`).attr("y",r).attr("font-family",mt).attr("fill",rt.label).attr("fill-opacity",0).merge(o).text(e.verticalLabel).transition().duration(1e3).attr("fill-opacity",1),t.selectAll(".topLeftLabel").data([1]).enter().append("text").attr("class","topLeftLabel").attr("x",0).attr("y",0).attr("font-family",mt).attr("fill",rt.label),t.selectAll(".topRightLabel").data([1]).enter().append("text").attr("class","topRightLabel").attr("x",n-20).attr("y",0).attr("font-family",mt).attr("fill",rt.label).attr("fill-opacity",1).attr("text-anchor","end");const p=t.selectAll(".bottomRightLabel").data([1]);p.enter().append("text").attr("class","bottomRightLabel").attr("x",n-20).attr("y",r+Vn*1.75).attr("font-family",mt).attr("fill",rt.label).attr("text-anchor","end").merge(p).text(e.horizontalLabel).transition().duration(1e3).attr("fill-opacity",.5)}function Le(t){const e={[We]:{decimal:",",thousands:" ",grouping:[3],currency:[""," K\u010D"]},[_o]:{decimal:".",thousands:",",grouping:[3],currency:["\xA3",""]}};return mi(e[t]||e[We])}function Wc(t,e){if(Hc(e.chartType)){e.height=$t(e.chartType)?e.width:e.height;const n=Or(t).attr("class",`renderer ${e.chartType}-chart ${e.orientation}`),r=Bc(n,e),i=Pn(e);return Fi(i,e,r),Ne(e,t),zi(i,e,t),o=>{const a=Pn(o);r.select(".axis--y").call(Oi(a,o)),r.select(".axis--x").call(Si(a,o)),Fi(a,o,r),t.querySelector("header")&&t.querySelector("header").remove(),Ne(o,t),t.querySelector("footer")&&t.querySelector("footer").remove(),zi(a,o,t)}}else if(Dc(e.chartType)){t.classList.add("table");const n=document.createElement("table");n.className="table";const r=document.createElement("div");r.className="table-wrapper",Ne(e,t),Li(n,e),r.appendChild(n),t.appendChild(r);const i=.75*window.innerWidth,o=zc(e.tableTitle,r,i);return t.insertBefore(o,r),[...n.querySelectorAll("tr")].forEach(s=>{const c=[...s.children].map(f=>f.getBoundingClientRect().height);s.style.setProperty("--cellHeight",`${Math.max(...c)}px`)}),s=>{Li(n,s)}}}var Of="";K.colorSets=lo,K.colors=rt,K.default=Wc,Object.defineProperty(K,"__esModule",{value:!0}),K[Symbol.toStringTag]="Module"});
