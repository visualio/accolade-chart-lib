var Hh=Object.defineProperty,zh=Object.defineProperties;var Vh=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var qo=Object.prototype.hasOwnProperty,Bo=Object.prototype.propertyIsEnumerable;var Xo=(X,W,nt)=>W in X?Hh(X,W,{enumerable:!0,configurable:!0,writable:!0,value:nt}):X[W]=nt,J=(X,W)=>{for(var nt in W||(W={}))qo.call(W,nt)&&Xo(X,nt,W[nt]);if(oe)for(var nt of oe(W))Bo.call(W,nt)&&Xo(X,nt,W[nt]);return X},ut=(X,W)=>zh(X,Vh(W));var ur=(X,W)=>{var nt={};for(var ft in X)qo.call(X,ft)&&W.indexOf(ft)<0&&(nt[ft]=X[ft]);if(X!=null&&oe)for(var ft of oe(X))W.indexOf(ft)<0&&Bo.call(X,ft)&&(nt[ft]=X[ft]);return nt};(function(X,W){typeof exports=="object"&&typeof module!="undefined"?W(exports):typeof define=="function"&&define.amd?define(["exports"],W):(X=typeof globalThis!="undefined"?globalThis:X||self,W(X["accolade-chart-lib"]={}))})(this,function(X){"use strict";function W(t){return!isNaN(parseFloat(t))&&isFinite(t)}function nt(t){const e=[[]];let n=0;return t.forEach(r=>{n+1===r?e[e.length-1].push(r):e.push([r]),n=r}),e.sort((r,i)=>i.length-r.length),e[0]}function ft(t){return t[Object.keys(t)[Object.keys(t).length-1]]}function se(t){return Object.values(t).reduce((e,{values:n})=>{const r=Math.max(...Object.values(n).map(i=>i.length));return r>e?r:e},0)}function fr({r:t,g:e,b:n,a:r,r2:i=255,g2:o=255,b2:s=255}){return{r:Math.round((1-r)*i+r*t),g:Math.round((1-r)*o+r*e),b:Math.round((1-r)*s+r*n)}}function Yo(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const Kt=1.7556,jo=.54,Go=.68*.5,hr=.05,pr=.5,_t="'Gotham CE', 'Gotham', sans-serif",St=20,ae=St*3,dr={bottom:85,right:0,top:St,left:0},ot={tick:"#dcdee6",label:"#000",line:"#808285",area:"#dcdee6",point:"#fff",doughnutStroke:"#eaf6fe",doughnutCenter:"#28225c"},gr={start:{r:0,g:0,b:0,a:0},end:{r:0,g:0,b:0,a:0},border:{r:0,g:0,b:0,a:0}},Wo=[{r:206,g:2,b:32},{r:227,g:6,b:19},{r:244,g:69,b:0},{r:249,g:116,b:8},{r:245,g:156,b:0},{r:253,g:195,b:0},{r:255,g:222,b:20},{r:65,g:192,b:240},{r:7,g:169,b:219},{r:12,g:139,b:188},{r:0,g:120,b:179},{r:25,g:97,b:155},{r:29,g:68,b:130},{r:21,g:43,b:122},{r:41,g:35,b:92},{r:167,g:169,b:172}].map(t=>({start:{r:255,g:255,b:255,a:1},end:ut(J({},fr(ut(J({},t),{a:.5}))),{a:1}),border:ut(J({},t),{a:1})}));function Uo(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function Pt(t,e,n,r){this.message=t,this.expected=e,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Pt)}Uo(Pt,Error),Pt.buildMessage=function(t,e){var n={literal:function(u){return'"'+i(u.text)+'"'},class:function(u){var h="",d;for(d=0;d<u.parts.length;d++)h+=u.parts[d]instanceof Array?o(u.parts[d][0])+"-"+o(u.parts[d][1]):o(u.parts[d]);return"["+(u.inverted?"^":"")+h+"]"},any:function(u){return"any character"},end:function(u){return"end of input"},other:function(u){return u.description}};function r(u){return u.charCodeAt(0).toString(16).toUpperCase()}function i(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+r(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+r(h)})}function o(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+r(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+r(h)})}function s(u){return n[u.type](u)}function a(u){var h=new Array(u.length),d,m;for(d=0;d<u.length;d++)h[d]=s(u[d]);if(h.sort(),h.length>0){for(d=1,m=1;d<h.length;d++)h[d-1]!==h[d]&&(h[m]=h[d],m++);h.length=m}switch(h.length){case 1:return h[0];case 2:return h[0]+" or "+h[1];default:return h.slice(0,-1).join(", ")+", or "+h[h.length-1]}}function c(u){return u?'"'+i(u)+'"':"end of input"}return"Expected "+a(t)+" but "+c(e)+" found."};function Ko(t,e){e=e!==void 0?e:{};var n={},r={svg_path:Ro},i=Ro,o=function(l){if(!l)return[];for(var f=[],y=0;y<l.length;y++)f=f.concat.apply(f,l[y]);var p=f[0];return p&&p.code=="m"&&(delete p.relative,p.code="M"),f},s=function(l,f){return Dh(l,f)},a=/^[Mm]/,c=rt(["M","m"],!1,!1),u=function(l,f,y){var p=Wt(l,[f]);return y&&(p=p.concat(Wt(l=="M"?"L":"l",y[1]))),p},h=/^[Zz]/,d=rt(["Z","z"],!1,!1),m=function(){return Wt("Z")},x=/^[Ll]/,w=rt(["L","l"],!1,!1),E=function(l,f){return Wt(l,f)},C=/^[Hh]/,N=rt(["H","h"],!1,!1),b=function(l,f){return Wt(l,f.map(function(y){return{x:y}}))},M=/^[Vv]/,T=rt(["V","v"],!1,!1),O=function(l,f){return Wt(l,f.map(function(y){return{y}}))},P=/^[Cc]/,F=rt(["C","c"],!1,!1),q=function(l,f,y){return{x1:l.x,y1:l.y,x2:f.x,y2:f.y,x:y.x,y:y.y}},I=/^[Ss]/,D=rt(["S","s"],!1,!1),L=function(l,f){return{x2:l.x,y2:l.y,x:f.x,y:f.y}},k=/^[Qq]/,R=rt(["Q","q"],!1,!1),Y=function(l,f){return{x1:l.x,y1:l.y,x:f.x,y:f.y}},U=/^[Tt]/,K=rt(["T","t"],!1,!1),tt=/^[Aa]/,A=rt(["A","a"],!1,!1),_=function(l,f,y,p,v,$){return{rx:l,ry:f,xAxisRotation:y,largeArc:p,sweep:v,x:$.x,y:$.y}},S=function(l,f){return{x:l,y:f}},H=function(l){return l*1},B=function(l){return l.join("")*1},Q=/^[01]/,G=rt(["0","1"],!1,!1),ct=function(l){return l=="1"},dt=function(){return""},fn=",",hn=To(",",!1),jt=function(l){return l.join("")},pn=".",Co=To(".",!1),hh=/^[eE]/,ph=rt(["e","E"],!1,!1),dh=/^[+\-]/,gh=rt(["+","-"],!1,!1),Mo=/^[0-9]/,ko=rt([["0","9"]],!1,!1),mh=function(l){return l.join("")},yh=/^[ \t\n\r]/,vh=rt([" ","	",`
`,"\r"],!1,!1),g=0,te=[{line:1,column:1}],wt=0,tr=[],ne;if("startRule"in e){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=r[e.startRule]}function To(l,f){return{type:"literal",text:l,ignoreCase:f}}function rt(l,f,y){return{type:"class",parts:l,inverted:f,ignoreCase:y}}function xh(){return{type:"end"}}function No(l){var f=te[l],y;if(f)return f;for(y=l-1;!te[y];)y--;for(f=te[y],f={line:f.line,column:f.column};y<l;)t.charCodeAt(y)===10?(f.line++,f.column=1):f.column++,y++;return te[l]=f,f}function Lo(l,f){var y=No(l),p=No(f);return{start:{offset:l,line:y.line,column:y.column},end:{offset:f,line:p.line,column:p.column}}}function Z(l){g<wt||(g>wt&&(wt=g,tr=[]),tr.push(l))}function wh(l,f,y){return new Pt(Pt.buildMessage(l,f),l,f,y)}function Ro(){var l,f,y,p,v;for(l=g,f=[],y=z();y!==n;)f.push(y),y=z();if(f!==n)if(y=_h(),y===n&&(y=null),y!==n){for(p=[],v=z();v!==n;)p.push(v),v=z();p!==n?(f=o(y),l=f):(g=l,l=n)}else g=l,l=n;else g=l,l=n;return l}function _h(){var l,f,y,p,v,$;if(l=g,f=nr(),f!==n){for(y=[],p=g,v=[],$=z();$!==n;)v.push($),$=z();for(v!==n?($=nr(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);p!==n;){for(y.push(p),p=g,v=[],$=z();$!==n;)v.push($),$=z();v!==n?($=nr(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n)}y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function nr(){var l,f,y,p,v,$;if(l=g,f=bh(),f!==n){for(y=[],p=g,v=[],$=z();$!==n;)v.push($),$=z();for(v!==n?($=Oo(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);p!==n;){for(y.push(p),p=g,v=[],$=z();$!==n;)v.push($),$=z();v!==n?($=Oo(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n)}y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function Oo(){var l;return l=Ah(),l===n&&(l=$h(),l===n&&(l=Eh(),l===n&&(l=Ch(),l===n&&(l=Mh(),l===n&&(l=Th(),l===n&&(l=Lh(),l===n&&(l=Oh(),l===n&&(l=Ph())))))))),l}function bh(){var l,f,y,p,v,$,Ut;if(l=g,a.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(c)),f!==n){for(y=[],p=z();p!==n;)y.push(p),p=z();y!==n?(p=it(),p!==n?(v=g,$=j(),$===n&&($=null),$!==n?(Ut=So(),Ut!==n?($=[$,Ut],v=$):(g=v,v=n)):(g=v,v=n),v===n&&(v=null),v!==n?(f=u(f,p,v),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Ah(){var l,f;return l=g,h.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(d)),f!==n&&(f=m()),l=f,l}function $h(){var l,f,y,p;if(l=g,x.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(w)),f!==n){for(y=[],p=z();p!==n;)y.push(p),p=z();y!==n?(p=So(),p!==n?(f=E(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function So(){var l,f,y,p,v,$;if(l=g,f=it(),f!==n){for(y=[],p=g,v=j(),v===n&&(v=null),v!==n?($=it(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=j(),v===n&&(v=null),v!==n?($=it(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function Eh(){var l,f,y,p;if(l=g,C.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(N)),f!==n){for(y=[],p=z();p!==n;)y.push(p),p=z();y!==n?(p=Po(),p!==n?(f=b(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Po(){var l,f,y,p,v,$;if(l=g,f=Gt(),f!==n){for(y=[],p=g,v=j(),v===n&&(v=null),v!==n?($=Gt(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=j(),v===n&&(v=null),v!==n?($=Gt(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function Ch(){var l,f,y,p;if(l=g,M.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(T)),f!==n){for(y=[],p=z();p!==n;)y.push(p),p=z();y!==n?(p=Po(),p!==n?(f=O(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Mh(){var l,f,y,p;if(l=g,P.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(F)),f!==n){for(y=[],p=z();p!==n;)y.push(p),p=z();y!==n?(p=kh(),p!==n?(f=E(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function kh(){var l,f,y,p,v,$;if(l=g,f=er(),f!==n){for(y=[],p=g,v=j(),v===n&&(v=null),v!==n?($=er(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=j(),v===n&&(v=null),v!==n?($=er(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function er(){var l,f,y,p,v,$;return l=g,f=it(),f!==n?(y=j(),y===n&&(y=null),y!==n?(p=it(),p!==n?(v=j(),v===n&&(v=null),v!==n?($=it(),$!==n?(f=q(f,p,$),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n),l}function Th(){var l,f,y,p;if(l=g,I.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(D)),f!==n){for(y=[],p=z();p!==n;)y.push(p),p=z();y!==n?(p=Nh(),p!==n?(f=E(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Nh(){var l,f,y,p,v,$;if(l=g,f=rr(),f!==n){for(y=[],p=g,v=j(),v===n&&(v=null),v!==n?($=rr(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=j(),v===n&&(v=null),v!==n?($=rr(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function rr(){var l,f,y,p;return l=g,f=it(),f!==n?(y=j(),y===n&&(y=null),y!==n?(p=it(),p!==n?(f=L(f,p),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n),l}function Lh(){var l,f,y,p;if(l=g,k.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(R)),f!==n){for(y=[],p=z();p!==n;)y.push(p),p=z();y!==n?(p=Rh(),p!==n?(f=E(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Rh(){var l,f,y,p,v,$;if(l=g,f=ir(),f!==n){for(y=[],p=g,v=j(),v===n&&(v=null),v!==n?($=ir(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=j(),v===n&&(v=null),v!==n?($=ir(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function ir(){var l,f,y,p;return l=g,f=it(),f!==n?(y=j(),y===n&&(y=null),y!==n?(p=it(),p!==n?(f=Y(f,p),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n),l}function Oh(){var l,f,y,p;if(l=g,U.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(K)),f!==n){for(y=[],p=z();p!==n;)y.push(p),p=z();y!==n?(p=Sh(),p!==n?(f=E(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Sh(){var l,f,y,p,v,$;if(l=g,f=it(),f!==n){for(y=[],p=g,v=j(),v===n&&(v=null),v!==n?($=it(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=j(),v===n&&(v=null),v!==n?($=it(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function Ph(){var l,f,y,p;if(l=g,tt.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(A)),f!==n){for(y=[],p=z();p!==n;)y.push(p),p=z();y!==n?(p=Fh(),p!==n?(f=E(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Fh(){var l,f,y,p,v,$;if(l=g,f=or(),f!==n){for(y=[],p=g,v=j(),v===n&&(v=null),v!==n?($=or(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=j(),v===n&&(v=null),v!==n?($=or(),$!==n?(v=[v,$],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function or(){var l,f,y,p,v,$,Ut,ar,re,lr,ie,cr;return l=g,f=Fo(),f!==n?(y=j(),y===n&&(y=null),y!==n?(p=Fo(),p!==n?(v=j(),v===n&&(v=null),v!==n?($=Gt(),$!==n?(Ut=j(),Ut!==n?(ar=Io(),ar!==n?(re=j(),re===n&&(re=null),re!==n?(lr=Io(),lr!==n?(ie=j(),ie===n&&(ie=null),ie!==n?(cr=it(),cr!==n?(f=_(f,p,$,ar,lr,cr),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n),l}function it(){var l,f,y,p;return l=g,f=Gt(),f!==n?(y=j(),y===n&&(y=null),y!==n?(p=Gt(),p!==n?(f=S(f,p),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n),l}function Fo(){var l,f;return l=g,f=Ho(),f===n&&(f=Ot()),f!==n&&(f=H(f)),l=f,l}function Gt(){var l,f,y,p;return l=g,f=g,y=sr(),y===n&&(y=null),y!==n?(p=Ho(),p!==n?(y=[y,p],f=y):(g=f,f=n)):(g=f,f=n),f===n&&(f=g,y=sr(),y===n&&(y=null),y!==n?(p=Ot(),p!==n?(y=[y,p],f=y):(g=f,f=n)):(g=f,f=n)),f!==n&&(f=B(f)),l=f,l}function Io(){var l,f;return l=g,Q.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(G)),f!==n&&(f=ct(f)),l=f,l}function j(){var l,f,y,p,v;if(l=g,f=[],y=z(),y!==n)for(;y!==n;)f.push(y),y=z();else f=n;if(f!==n)if(y=Do(),y===n&&(y=null),y!==n){for(p=[],v=z();v!==n;)p.push(v),v=z();p!==n?(f=[f,y,p],l=f):(g=l,l=n)}else g=l,l=n;else g=l,l=n;if(l===n){if(l=g,f=g,y=Do(),y!==n){for(p=[],v=z();v!==n;)p.push(v),v=z();p!==n?(y=[y,p],f=y):(g=f,f=n)}else g=f,f=n;f!==n&&(f=dt()),l=f}return l}function Do(){var l;return t.charCodeAt(g)===44?(l=fn,g++):(l=n,Z(hn)),l}function Ho(){var l,f,y,p;return l=g,f=g,y=Ih(),y!==n?(p=zo(),p===n&&(p=null),p!==n?(y=[y,p],f=y):(g=f,f=n)):(g=f,f=n),f===n&&(f=g,y=Ot(),y!==n?(p=zo(),p!==n?(y=[y,p],f=y):(g=f,f=n)):(g=f,f=n)),f!==n&&(f=jt(f)),l=f,l}function Ih(){var l,f,y,p,v;return l=g,f=g,y=Ot(),y===n&&(y=null),y!==n?(t.charCodeAt(g)===46?(p=pn,g++):(p=n,Z(Co)),p!==n?(v=Ot(),v!==n?(y=[y,p,v],f=y):(g=f,f=n)):(g=f,f=n)):(g=f,f=n),f===n&&(f=g,y=Ot(),y!==n?(t.charCodeAt(g)===46?(p=pn,g++):(p=n,Z(Co)),p!==n?(y=[y,p],f=y):(g=f,f=n)):(g=f,f=n)),f!==n&&(f=jt(f)),l=f,l}function zo(){var l,f,y,p,v;return l=g,f=g,hh.test(t.charAt(g))?(y=t.charAt(g),g++):(y=n,Z(ph)),y!==n?(p=sr(),p===n&&(p=null),p!==n?(v=Ot(),v!==n?(y=[y,p,v],f=y):(g=f,f=n)):(g=f,f=n)):(g=f,f=n),f!==n&&(f=jt(f)),l=f,l}function sr(){var l;return dh.test(t.charAt(g))?(l=t.charAt(g),g++):(l=n,Z(gh)),l}function Ot(){var l,f,y;if(l=g,f=[],Mo.test(t.charAt(g))?(y=t.charAt(g),g++):(y=n,Z(ko)),y!==n)for(;y!==n;)f.push(y),Mo.test(t.charAt(g))?(y=t.charAt(g),g++):(y=n,Z(ko));else f=n;return f!==n&&(f=mh(f)),l=f,l}function z(){var l,f;return l=g,yh.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,Z(vh)),f!==n&&(f=dt()),l=f,l}function Dh(l,f){if(!f)return[l];for(var y=[l],p=0,v=f.length;p<v;p++)y[p+1]=f[p][1];return y}var ee={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var Vo in ee)ee[Vo.toUpperCase()]=ee[Vo];function Wt(l,f){f||(f=[{}]);for(var y=f.length;y--;){var p={code:l,command:ee[l]};l==l.toLowerCase()&&(p.relative=!0);for(var v in f[y])p[v]=f[y][v];f[y]=p}return f}if(ne=i(),ne!==n&&g===t.length)return ne;throw ne!==n&&g<t.length&&Z(xh()),wh(tr,wt<t.length?t.charAt(wt):null,wt<t.length?Lo(wt,wt+1):Lo(wt,wt))}var Zo={SyntaxError:Pt,parse:Ko},dn=Zo.parse;dn.parseSVG=dn,dn.makeAbsolute=Qo;var mr=dn;function Qo(t){var e,n={x:0,y:0},r={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return t.forEach(function(i){i.command==="moveto"&&(e=i),i.x0=n.x,i.y0=n.y;for(var o in r)o in i&&(i[o]+=i.relative?i[r[o]]:0);"x"in i||(i.x=n.x),"y"in i||(i.y=n.y),i.relative=!1,i.code=i.code.toUpperCase(),i.command=="closepath"&&(i.x=e.x,i.y=e.y),n=i}),t}const yr="line",vr="bar",xr="doughnut",Jo="table",ts="originalSort",ns="keySort",es="valueSort",rs="desc",wr="cs",is="en";var os="[object Function]",ss=/^\[object .+?Constructor\]$/;function as(t){return!!t&&typeof t=="object"}var _r=Object.prototype,br=Function.prototype.toString,ls=_r.hasOwnProperty,cs=_r.toString,us=RegExp("^"+br.call(ls).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fs(t,e){var n=t==null?void 0:t[e];return ds(n)?n:void 0}function hs(t){return ps(t)&&cs.call(t)==os}function ps(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ds(t){return t==null?!1:hs(t)?us.test(br.call(t)):as(t)&&ss.test(t)}var gs=fs,ms=9007199254740991,ys="[object Arguments]",vs="[object Function]",xs="[object GeneratorFunction]",le=Object.prototype,ws=le.hasOwnProperty,Ar=le.toString,_s=le.propertyIsEnumerable;function bs(t){return $s(t)&&ws.call(t,"callee")&&(!_s.call(t,"callee")||Ar.call(t)==ys)}function As(t){return t!=null&&Cs(t.length)&&!Es(t)}function $s(t){return ks(t)&&As(t)}function Es(t){var e=Ms(t)?Ar.call(t):"";return e==vs||e==xs}function Cs(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ms}function Ms(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ks(t){return!!t&&typeof t=="object"}var Ts=bs,Ns="[object Array]",Ls="[object Function]",Rs=/^\[object .+?Constructor\]$/;function $r(t){return!!t&&typeof t=="object"}var Er=Object.prototype,Cr=Function.prototype.toString,Os=Er.hasOwnProperty,Mr=Er.toString,Ss=RegExp("^"+Cr.call(Os).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ps=Is(Array,"isArray"),Fs=9007199254740991;function Is(t,e){var n=t==null?void 0:t[e];return qs(n)?n:void 0}function Ds(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Fs}var Hs=Ps||function(t){return $r(t)&&Ds(t.length)&&Mr.call(t)==Ns};function zs(t){return Vs(t)&&Mr.call(t)==Ls}function Vs(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function qs(t){return t==null?!1:zs(t)?Ss.test(Cr.call(t)):$r(t)&&Rs.test(t)}var Bs=Hs,Xs=gs,kr=Ts,Tr=Bs,Ys=/^\d+$/,js=Object.prototype,Nr=js.hasOwnProperty,Lr=Xs(Object,"keys"),Rr=9007199254740991;function Gs(t){return function(e){return e==null?void 0:e[t]}}var Ws=Gs("length");function Us(t){return t!=null&&ce(Ws(t))}function Or(t,e){return t=typeof t=="number"||Ys.test(t)?+t:-1,e=e==null?Rr:e,t>-1&&t%1==0&&t<e}function ce(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Rr}function Sr(t){for(var e=Zs(t),n=e.length,r=n&&t.length,i=!!r&&ce(r)&&(Tr(t)||kr(t)),o=-1,s=[];++o<n;){var a=e[o];(i&&Or(a,r)||Nr.call(t,a))&&s.push(a)}return s}function Pr(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}var Ks=Lr?function(t){var e=t==null?void 0:t.constructor;return typeof e=="function"&&e.prototype===t||typeof t!="function"&&Us(t)?Sr(t):Pr(t)?Lr(t):[]}:Sr;function Zs(t){if(t==null)return[];Pr(t)||(t=Object(t));var e=t.length;e=e&&ce(e)&&(Tr(t)||kr(t))&&e||0;for(var n=t.constructor,r=-1,i=typeof n=="function"&&n.prototype===t,o=Array(e),s=e>0;++r<e;)o[r]=r+"";for(var a in t)!(s&&Or(a,e))&&!(a=="constructor"&&(i||!Nr.call(t,a)))&&o.push(a);return o}var Qs=Ks,Js=Qs;function ta(t){return na(t)?t:Object(t)}function na(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ea(t){t=ta(t);for(var e=-1,n=Js(t),r=n.length,i=Array(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}var Ft=ea;function ue(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fr(t){let e=t,n=t,r=t;t.length!==2&&(e=(a,c)=>t(a)-c,n=ue,r=(a,c)=>ue(t(a),c));function i(a,c,u=0,h=a.length){if(u<h){if(n(c,c)!==0)return h;do{const d=u+h>>>1;r(a[d],c)<0?u=d+1:h=d}while(u<h)}return u}function o(a,c,u=0,h=a.length){if(u<h){if(n(c,c)!==0)return h;do{const d=u+h>>>1;r(a[d],c)<=0?u=d+1:h=d}while(u<h)}return u}function s(a,c,u=0,h=a.length){const d=i(a,c,u,h-1);return d>u&&e(a[d-1],c)>-e(a[d],c)?d-1:d}return{left:i,center:s,right:o}}function ra(t){return t===null?NaN:+t}const ia=Fr(ue).right;Fr(ra).center;var oa=ia;class Ir extends Map{constructor(e,n=la){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Dr(this,e))}has(e){return super.has(Dr(this,e))}set(e,n){return super.set(sa(this,e),n)}delete(e){return super.delete(aa(this,e))}}function Dr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function sa({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function aa({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function la(t){return t!==null&&typeof t=="object"?t.valueOf():t}var fe=Math.sqrt(50),he=Math.sqrt(10),pe=Math.sqrt(2);function ca(t,e,n){var r,i=-1,o,s,a;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(a=Hr(t,e,n))===0||!isFinite(a))return[];if(a>0){let c=Math.round(t/a),u=Math.round(e/a);for(c*a<t&&++c,u*a>e&&--u,s=new Array(o=u-c+1);++i<o;)s[i]=(c+i)*a}else{a=-a;let c=Math.round(t*a),u=Math.round(e*a);for(c/a<t&&++c,u/a>e&&--u,s=new Array(o=u-c+1);++i<o;)s[i]=(c+i)/a}return r&&s.reverse(),s}function Hr(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=fe?10:o>=he?5:o>=pe?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=fe?10:o>=he?5:o>=pe?2:1)}function ua(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=fe?i*=10:o>=he?i*=5:o>=pe&&(i*=2),e<t?-i:i}function fa(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ha(t){return t}var de=1,gn=2,ge=3,mn=4,zr=1e-6;function pa(t){return"translate("+t+",0)"}function da(t){return"translate(0,"+t+")"}function ga(t){return e=>+t(e)}function ma(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ya(){return!this.__axis}function Vr(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,c=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,u=t===de||t===mn?-1:1,h=t===mn||t===gn?"x":"y",d=t===de||t===ge?pa:da;function m(x){var w=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,E=i==null?e.tickFormat?e.tickFormat.apply(e,n):ha:i,C=Math.max(o,0)+a,N=e.range(),b=+N[0]+c,M=+N[N.length-1]+c,T=(e.bandwidth?ma:ga)(e.copy(),c),O=x.selection?x.selection():x,P=O.selectAll(".domain").data([null]),F=O.selectAll(".tick").data(w,e).order(),q=F.exit(),I=F.enter().append("g").attr("class","tick"),D=F.select("line"),L=F.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(I),D=D.merge(I.append("line").attr("stroke","currentColor").attr(h+"2",u*o)),L=L.merge(I.append("text").attr("fill","currentColor").attr(h,u*C).attr("dy",t===de?"0em":t===ge?"0.71em":"0.32em")),x!==O&&(P=P.transition(x),F=F.transition(x),D=D.transition(x),L=L.transition(x),q=q.transition(x).attr("opacity",zr).attr("transform",function(k){return isFinite(k=T(k))?d(k+c):this.getAttribute("transform")}),I.attr("opacity",zr).attr("transform",function(k){var R=this.parentNode.__axis;return d((R&&isFinite(R=R(k))?R:T(k))+c)})),q.remove(),P.attr("d",t===mn||t===gn?s?"M"+u*s+","+b+"H"+c+"V"+M+"H"+u*s:"M"+c+","+b+"V"+M:s?"M"+b+","+u*s+"V"+c+"H"+M+"V"+u*s:"M"+b+","+c+"H"+M),F.attr("opacity",1).attr("transform",function(k){return d(T(k)+c)}),D.attr(h+"2",u*o),L.attr(h,u*C).text(E),O.filter(ya).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===gn?"start":t===mn?"end":"middle"),O.each(function(){this.__axis=T})}return m.scale=function(x){return arguments.length?(e=x,m):e},m.ticks=function(){return n=Array.from(arguments),m},m.tickArguments=function(x){return arguments.length?(n=x==null?[]:Array.from(x),m):n.slice()},m.tickValues=function(x){return arguments.length?(r=x==null?null:Array.from(x),m):r&&r.slice()},m.tickFormat=function(x){return arguments.length?(i=x,m):i},m.tickSize=function(x){return arguments.length?(o=s=+x,m):o},m.tickSizeInner=function(x){return arguments.length?(o=+x,m):o},m.tickSizeOuter=function(x){return arguments.length?(s=+x,m):s},m.tickPadding=function(x){return arguments.length?(a=+x,m):a},m.offset=function(x){return arguments.length?(c=+x,m):c},m}function va(t){return Vr(gn,t)}function xa(t){return Vr(ge,t)}var wa={value:()=>{}};function qr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new yn(n)}function yn(t){this._=t}function _a(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}yn.prototype=qr.prototype={constructor:yn,on:function(t,e){var n=this._,r=_a(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=ba(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Br(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Br(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function ba(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Br(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=wa,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var me="http://www.w3.org/1999/xhtml",Xr={svg:"http://www.w3.org/2000/svg",xhtml:me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Xr.hasOwnProperty(e)?{space:Xr[e],local:t}:t}function Aa(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===me&&e.documentElement.namespaceURI===me?e.createElement(t):e.createElementNS(n,t)}}function $a(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Yr(t){var e=vn(t);return(e.local?$a:Aa)(e)}function Ea(){}function ye(t){return t==null?Ea:function(){return this.querySelector(t)}}function Ca(t){typeof t!="function"&&(t=ye(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),c,u,h=0;h<s;++h)(c=o[h])&&(u=t.call(c,c.__data__,h,o))&&("__data__"in c&&(u.__data__=c.__data__),a[h]=u);return new at(r,this._parents)}function Ma(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ka(){return[]}function jr(t){return t==null?ka:function(){return this.querySelectorAll(t)}}function Ta(t){return function(){return Ma(t.apply(this,arguments))}}function Na(t){typeof t=="function"?t=Ta(t):t=jr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(r.push(t.call(c,c.__data__,u,s)),i.push(c));return new at(r,i)}function Gr(t){return function(){return this.matches(t)}}function Wr(t){return function(e){return e.matches(t)}}var La=Array.prototype.find;function Ra(t){return function(){return La.call(this.children,t)}}function Oa(){return this.firstElementChild}function Sa(t){return this.select(t==null?Oa:Ra(typeof t=="function"?t:Wr(t)))}var Pa=Array.prototype.filter;function Fa(){return Array.from(this.children)}function Ia(t){return function(){return Pa.call(this.children,t)}}function Da(t){return this.selectAll(t==null?Fa:Ia(typeof t=="function"?t:Wr(t)))}function Ha(t){typeof t!="function"&&(t=Gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new at(r,this._parents)}function Ur(t){return new Array(t.length)}function za(){return new at(this._enter||this._groups.map(Ur),this._parents)}function xn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}xn.prototype={constructor:xn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Va(t){return function(){return t}}function qa(t,e,n,r,i,o){for(var s=0,a,c=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new xn(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function Ba(t,e,n,r,i,o,s){var a,c,u=new Map,h=e.length,d=o.length,m=new Array(h),x;for(a=0;a<h;++a)(c=e[a])&&(m[a]=x=s.call(c,c.__data__,a,e)+"",u.has(x)?i[a]=c:u.set(x,c));for(a=0;a<d;++a)x=s.call(t,o[a],a,o)+"",(c=u.get(x))?(r[a]=c,c.__data__=o[a],u.delete(x)):n[a]=new xn(t,o[a]);for(a=0;a<h;++a)(c=e[a])&&u.get(m[a])===c&&(i[a]=c)}function Xa(t){return t.__data__}function Ya(t,e){if(!arguments.length)return Array.from(this,Xa);var n=e?Ba:qa,r=this._parents,i=this._groups;typeof t!="function"&&(t=Va(t));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var h=r[u],d=i[u],m=d.length,x=ja(t.call(h,h&&h.__data__,u,r)),w=x.length,E=a[u]=new Array(w),C=s[u]=new Array(w),N=c[u]=new Array(m);n(h,d,E,C,N,x,e);for(var b=0,M=0,T,O;b<w;++b)if(T=E[b]){for(b>=M&&(M=b+1);!(O=C[M])&&++M<w;);T._next=O||null}}return s=new at(s,r),s._enter=a,s._exit=c,s}function ja(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ga(){return new at(this._exit||this._groups.map(Ur),this._parents)}function Wa(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Ua(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u=n[c],h=r[c],d=u.length,m=a[c]=new Array(d),x,w=0;w<d;++w)(x=u[w]||h[w])&&(m[w]=x);for(;c<i;++c)a[c]=n[c];return new at(a,this._parents)}function Ka(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Za(t){t||(t=Qa);function e(d,m){return d&&m?t(d.__data__,m.__data__):!d-!m}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,c=i[o]=new Array(a),u,h=0;h<a;++h)(u=s[h])&&(c[h]=u);c.sort(e)}return new at(i,this._parents).order()}function Qa(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ja(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function tl(){return Array.from(this)}function nl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function el(){let t=0;for(const e of this)++t;return t}function rl(){return!this.node()}function il(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function ol(t){return function(){this.removeAttribute(t)}}function sl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function al(t,e){return function(){this.setAttribute(t,e)}}function ll(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function cl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ul(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function fl(t,e){var n=vn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?sl:ol:typeof e=="function"?n.local?ul:cl:n.local?ll:al)(n,e))}function Kr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function hl(t){return function(){this.style.removeProperty(t)}}function pl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function dl(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function gl(t,e,n){return arguments.length>1?this.each((e==null?hl:typeof e=="function"?dl:pl)(t,e,n==null?"":n)):It(this.node(),t)}function It(t,e){return t.style.getPropertyValue(e)||Kr(t).getComputedStyle(t,null).getPropertyValue(e)}function ml(t){return function(){delete this[t]}}function yl(t,e){return function(){this[t]=e}}function vl(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function xl(t,e){return arguments.length>1?this.each((e==null?ml:typeof e=="function"?vl:yl)(t,e)):this.node()[t]}function Zr(t){return t.trim().split(/^|\s+/)}function ve(t){return t.classList||new Qr(t)}function Qr(t){this._node=t,this._names=Zr(t.getAttribute("class")||"")}Qr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Jr(t,e){for(var n=ve(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ti(t,e){for(var n=ve(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function wl(t){return function(){Jr(this,t)}}function _l(t){return function(){ti(this,t)}}function bl(t,e){return function(){(e.apply(this,arguments)?Jr:ti)(this,t)}}function Al(t,e){var n=Zr(t+"");if(arguments.length<2){for(var r=ve(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?bl:e?wl:_l)(n,e))}function $l(){this.textContent=""}function El(t){return function(){this.textContent=t}}function Cl(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Ml(t){return arguments.length?this.each(t==null?$l:(typeof t=="function"?Cl:El)(t)):this.node().textContent}function kl(){this.innerHTML=""}function Tl(t){return function(){this.innerHTML=t}}function Nl(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Ll(t){return arguments.length?this.each(t==null?kl:(typeof t=="function"?Nl:Tl)(t)):this.node().innerHTML}function Rl(){this.nextSibling&&this.parentNode.appendChild(this)}function Ol(){return this.each(Rl)}function Sl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pl(){return this.each(Sl)}function Fl(t){var e=typeof t=="function"?t:Yr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Il(){return null}function Dl(t,e){var n=typeof t=="function"?t:Yr(t),r=e==null?Il:typeof e=="function"?e:ye(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Hl(){var t=this.parentNode;t&&t.removeChild(this)}function zl(){return this.each(Hl)}function Vl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ql(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bl(t){return this.select(t?ql:Vl)}function Xl(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Yl(t){return function(e){t.call(this,e,this.__data__)}}function jl(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Gl(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Wl(t,e,n){return function(){var r=this.__on,i,o=Yl(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Ul(t,e,n){var r=jl(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,h;c<u;++c)for(i=0,h=a[c];i<o;++i)if((s=r[i]).type===h.type&&s.name===h.name)return h.value}return}for(a=e?Wl:Gl,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function ni(t,e,n){var r=Kr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Kl(t,e){return function(){return ni(this,t,e)}}function Zl(t,e){return function(){return ni(this,t,e.apply(this,arguments))}}function Ql(t,e){return this.each((typeof e=="function"?Zl:Kl)(t,e))}function*Jl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var ei=[null];function at(t,e){this._groups=t,this._parents=e}function Dt(){return new at([[document.documentElement]],ei)}function tc(){return this}at.prototype=Dt.prototype={constructor:at,select:Ca,selectAll:Na,selectChild:Sa,selectChildren:Da,filter:Ha,data:Ya,enter:za,exit:Ga,join:Wa,merge:Ua,selection:tc,order:Ka,sort:Za,call:Ja,nodes:tl,node:nl,size:el,empty:rl,each:il,attr:fl,style:gl,property:xl,classed:Al,text:Ml,html:Ll,raise:Ol,lower:Pl,append:Fl,insert:Dl,remove:zl,clone:Bl,datum:Xl,on:Ul,dispatch:Ql,[Symbol.iterator]:Jl};function ri(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],ei)}function xe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ii(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zt(){}var Qt=.7,wn=1/Qt,Ht="\\s*([+-]?\\d+)\\s*",Jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",gt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nc=/^#([0-9a-f]{3,8})$/,ec=new RegExp("^rgb\\("+[Ht,Ht,Ht]+"\\)$"),rc=new RegExp("^rgb\\("+[gt,gt,gt]+"\\)$"),ic=new RegExp("^rgba\\("+[Ht,Ht,Ht,Jt]+"\\)$"),oc=new RegExp("^rgba\\("+[gt,gt,gt,Jt]+"\\)$"),sc=new RegExp("^hsl\\("+[Jt,gt,gt]+"\\)$"),ac=new RegExp("^hsla\\("+[Jt,gt,gt,Jt]+"\\)$"),oi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xe(Zt,Mt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:si,formatHex:si,formatHsl:lc,formatRgb:ai,toString:ai});function si(){return this.rgb().formatHex()}function lc(){return hi(this).formatHsl()}function ai(){return this.rgb().formatRgb()}function Mt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nc.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?li(e):n===3?new lt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?_n(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?_n(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ec.exec(t))?new lt(e[1],e[2],e[3],1):(e=rc.exec(t))?new lt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ic.exec(t))?_n(e[1],e[2],e[3],e[4]):(e=oc.exec(t))?_n(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sc.exec(t))?fi(e[1],e[2]/100,e[3]/100,1):(e=ac.exec(t))?fi(e[1],e[2]/100,e[3]/100,e[4]):oi.hasOwnProperty(t)?li(oi[t]):t==="transparent"?new lt(NaN,NaN,NaN,0):null}function li(t){return new lt(t>>16&255,t>>8&255,t&255,1)}function _n(t,e,n,r){return r<=0&&(t=e=n=NaN),new lt(t,e,n,r)}function cc(t){return t instanceof Zt||(t=Mt(t)),t?(t=t.rgb(),new lt(t.r,t.g,t.b,t.opacity)):new lt}function we(t,e,n,r){return arguments.length===1?cc(t):new lt(t,e,n,r==null?1:r)}function lt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xe(lt,we,ii(Zt,{brighter:function(t){return t=t==null?wn:Math.pow(wn,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Qt:Math.pow(Qt,t),new lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ci,formatHex:ci,formatRgb:ui,toString:ui}));function ci(){return"#"+_e(this.r)+_e(this.g)+_e(this.b)}function ui(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function _e(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function fi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new mt(t,e,n,r)}function hi(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);if(t instanceof Zt||(t=Mt(t)),!t)return new mt;if(t instanceof mt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new mt(s,a,c,t.opacity)}function uc(t,e,n,r){return arguments.length===1?hi(t):new mt(t,e,n,r==null?1:r)}function mt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xe(mt,uc,ii(Zt,{brighter:function(t){return t=t==null?wn:Math.pow(wn,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Qt:Math.pow(Qt,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new lt(be(t>=240?t-240:t+120,i,r),be(t,i,r),be(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function be(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var Ae=t=>()=>t;function fc(t,e){return function(n){return t+n*e}}function hc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function pc(t){return(t=+t)==1?pi:function(e,n){return n-e?hc(e,n,t):Ae(isNaN(e)?n:e)}}function pi(t,e){var n=e-t;return n?fc(t,n):Ae(isNaN(t)?e:t)}var bn=function t(e){var n=pc(e);function r(i,o){var s=n((i=we(i)).r,(o=we(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=pi(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=a(h),i.b=c(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function di(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function gi(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function An(t,e){return(gi(e)?di:mi)(t,e)}function mi(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=$n(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function dc(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ht(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function gc(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=$n(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var $e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ee=new RegExp($e.source,"g");function mc(t){return function(){return t}}function yc(t){return function(e){return t(e)+""}}function yi(t,e){var n=$e.lastIndex=Ee.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(r=$e.exec(t))&&(i=Ee.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:ht(r,i)})),n=Ee.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?yc(c[0].x):mc(e):(e=c.length,function(u){for(var h=0,d;h<e;++h)a[(d=c[h]).i]=d.x(u);return a.join("")})}function $n(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ae(e):(n==="number"?ht:n==="string"?(r=Mt(e))?(e=r,bn):yi:e instanceof Mt?bn:e instanceof Date?dc:gi(e)?di:Array.isArray(e)?mi:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?gc:ht)(t,e)}function vc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var vi=180/Math.PI,Ce={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xi(t,e,n,r,i,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*vi,skewX:Math.atan(c)*vi,scaleX:s,scaleY:a}}var En;function xc(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ce:xi(e.a,e.b,e.c,e.d,e.e,e.f)}function wc(t){return t==null||(En||(En=document.createElementNS("http://www.w3.org/2000/svg","g")),En.setAttribute("transform",t),!(t=En.transform.baseVal.consolidate()))?Ce:(t=t.matrix,xi(t.a,t.b,t.c,t.d,t.e,t.f))}function wi(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,h,d,m,x,w){if(u!==d||h!==m){var E=x.push("translate(",null,e,null,n);w.push({i:E-4,x:ht(u,d)},{i:E-2,x:ht(h,m)})}else(d||m)&&x.push("translate("+d+e+m+n)}function s(u,h,d,m){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),m.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ht(u,h)})):h&&d.push(i(d)+"rotate("+h+r)}function a(u,h,d,m){u!==h?m.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ht(u,h)}):h&&d.push(i(d)+"skewX("+h+r)}function c(u,h,d,m,x,w){if(u!==d||h!==m){var E=x.push(i(x)+"scale(",null,",",null,")");w.push({i:E-4,x:ht(u,d)},{i:E-2,x:ht(h,m)})}else(d!==1||m!==1)&&x.push(i(x)+"scale("+d+","+m+")")}return function(u,h){var d=[],m=[];return u=t(u),h=t(h),o(u.translateX,u.translateY,h.translateX,h.translateY,d,m),s(u.rotate,h.rotate,d,m),a(u.skewX,h.skewX,d,m),c(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,m),u=h=null,function(x){for(var w=-1,E=m.length,C;++w<E;)d[(C=m[w]).i]=C.x(x);return d.join("")}}}var _c=wi(xc,"px, ","px)","deg)"),bc=wi(wc,", ",")",")"),zt=0,tn=0,nn=0,_i=1e3,Cn,en,Mn=0,kt=0,kn=0,rn=typeof performance=="object"&&performance.now?performance:Date,bi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Me(){return kt||(bi(Ac),kt=rn.now()+kn)}function Ac(){kt=0}function Tn(){this._call=this._time=this._next=null}Tn.prototype=Ai.prototype={constructor:Tn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Me():+n)+(e==null?0:+e),!this._next&&en!==this&&(en?en._next=this:Cn=this,en=this),this._call=t,this._time=n,ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,ke())}};function Ai(t,e,n){var r=new Tn;return r.restart(t,e,n),r}function $c(){Me(),++zt;for(var t=Cn,e;t;)(e=kt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--zt}function $i(){kt=(Mn=rn.now())+kn,zt=tn=0;try{$c()}finally{zt=0,Cc(),kt=0}}function Ec(){var t=rn.now(),e=t-Mn;e>_i&&(kn-=e,Mn=t)}function Cc(){for(var t,e=Cn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Cn=n);en=t,ke(r)}function ke(t){if(!zt){tn&&(tn=clearTimeout(tn));var e=t-kt;e>24?(t<1/0&&(tn=setTimeout($i,t-rn.now()-kn)),nn&&(nn=clearInterval(nn))):(nn||(Mn=rn.now(),nn=setInterval(Ec,_i)),zt=1,bi($i))}}function Ei(t,e,n){var r=new Tn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Mc=qr("start","end","cancel","interrupt"),kc=[],Ci=0,Mi=1,Te=2,Nn=3,ki=4,Ne=5,Ln=6;function Rn(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Tc(t,n,{name:e,index:r,group:i,on:Mc,tween:kc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ci})}function Le(t,e){var n=pt(t,e);if(n.state>Ci)throw new Error("too late; already scheduled");return n}function yt(t,e){var n=pt(t,e);if(n.state>Nn)throw new Error("too late; already running");return n}function pt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Tc(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Ai(o,0,n.time);function o(u){n.state=Mi,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var h,d,m,x;if(n.state!==Mi)return c();for(h in r)if(x=r[h],x.name===n.name){if(x.state===Nn)return Ei(s);x.state===ki?(x.state=Ln,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[h]):+h<e&&(x.state=Ln,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[h])}if(Ei(function(){n.state===Nn&&(n.state=ki,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Te,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Te){for(n.state=Nn,i=new Array(m=n.tween.length),h=0,d=-1;h<m;++h)(x=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=x);i.length=d+1}}function a(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Ne,1),d=-1,m=i.length;++d<m;)i[d].call(t,h);n.state===Ne&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=Ln,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Nc(t,e){var n=t.__transition,r,i,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Te&&r.state<Ne,r.state=Ln,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Lc(t){return this.each(function(){Nc(this,t)})}function Rc(t,e){var n,r;return function(){var i=yt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Oc(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=yt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function Sc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=pt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Rc:Oc)(n,t,e))}function Re(t,e,n){var r=t._id;return t.each(function(){var i=yt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return pt(i,r).value[e]}}function Ti(t,e){var n;return(typeof e=="number"?ht:e instanceof Mt?bn:(n=Mt(e))?(e=n,bn):yi)(t,e)}function Pc(t){return function(){this.removeAttribute(t)}}function Fc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ic(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Dc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Hc(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function zc(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function Vc(t,e){var n=vn(t),r=n==="transform"?bc:Ti;return this.attrTween(t,typeof e=="function"?(n.local?zc:Hc)(n,r,Re(this,"attr."+t,e)):e==null?(n.local?Fc:Pc)(n):(n.local?Dc:Ic)(n,r,e))}function qc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Bc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Xc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Bc(t,o)),n}return i._value=e,i}function Yc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&qc(t,o)),n}return i._value=e,i}function jc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=vn(t);return this.tween(n,(r.local?Xc:Yc)(r,e))}function Gc(t,e){return function(){Le(this,t).delay=+e.apply(this,arguments)}}function Wc(t,e){return e=+e,function(){Le(this,t).delay=e}}function Uc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Gc:Wc)(e,t)):pt(this.node(),e).delay}function Kc(t,e){return function(){yt(this,t).duration=+e.apply(this,arguments)}}function Zc(t,e){return e=+e,function(){yt(this,t).duration=e}}function Qc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Kc:Zc)(e,t)):pt(this.node(),e).duration}function Jc(t,e){if(typeof e!="function")throw new Error;return function(){yt(this,t).ease=e}}function tu(t){var e=this._id;return arguments.length?this.each(Jc(e,t)):pt(this.node(),e).ease}function nu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;yt(this,t).ease=n}}function eu(t){if(typeof t!="function")throw new Error;return this.each(nu(this._id,t))}function ru(t){typeof t!="function"&&(t=Gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new bt(r,this._parents,this._name,this._id)}function iu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c=e[a],u=n[a],h=c.length,d=s[a]=new Array(h),m,x=0;x<h;++x)(m=c[x]||u[x])&&(d[x]=m);for(;a<r;++a)s[a]=e[a];return new bt(s,this._parents,this._name,this._id)}function ou(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function su(t,e,n){var r,i,o=ou(e)?Le:yt;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function au(t,e){var n=this._id;return arguments.length<2?pt(this.node(),n).on.on(t):this.each(su(n,t,e))}function lu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function cu(){return this.on("end.remove",lu(this._id))}function uu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ye(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],c=a.length,u=o[s]=new Array(c),h,d,m=0;m<c;++m)(h=a[m])&&(d=t.call(h,h.__data__,m,a))&&("__data__"in h&&(d.__data__=h.__data__),u[m]=d,Rn(u[m],e,n,m,u,pt(h,n)));return new bt(o,this._parents,e,n)}function fu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=jr(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c=r[a],u=c.length,h,d=0;d<u;++d)if(h=c[d]){for(var m=t.call(h,h.__data__,d,c),x,w=pt(h,n),E=0,C=m.length;E<C;++E)(x=m[E])&&Rn(x,e,n,E,m,w);o.push(m),s.push(h)}return new bt(o,s,e,n)}var hu=Dt.prototype.constructor;function pu(){return new hu(this._groups,this._parents)}function du(t,e){var n,r,i;return function(){var o=It(this,t),s=(this.style.removeProperty(t),It(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function Ni(t){return function(){this.style.removeProperty(t)}}function gu(t,e,n){var r,i=n+"",o;return function(){var s=It(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function mu(t,e,n){var r,i,o;return function(){var s=It(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),It(this,t))),s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a))}}function yu(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var c=yt(this,t),u=c.on,h=c.value[o]==null?a||(a=Ni(e)):void 0;(u!==n||i!==h)&&(r=(n=u).copy()).on(s,i=h),c.on=r}}function vu(t,e,n){var r=(t+="")==="transform"?_c:Ti;return e==null?this.styleTween(t,du(t,r)).on("end.style."+t,Ni(t)):typeof e=="function"?this.styleTween(t,mu(t,r,Re(this,"style."+t,e))).each(yu(this._id,t)):this.styleTween(t,gu(t,r,e),n).on("end.style."+t,null)}function xu(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function wu(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&xu(t,s,n)),r}return o._value=e,o}function _u(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,wu(t,e,n==null?"":n))}function bu(t){return function(){this.textContent=t}}function Au(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function $u(t){return this.tween("text",typeof t=="function"?Au(Re(this,"text",t)):bu(t==null?"":t+""))}function Eu(t){return function(e){this.textContent=t.call(this,e)}}function Cu(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Eu(i)),e}return r._value=t,r}function Mu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Cu(t))}function ku(){for(var t=this._name,e=this._id,n=Li(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var h=pt(c,e);Rn(c,t,n,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new bt(r,this._parents,t,n)}function Tu(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i==0&&o()}};n.each(function(){var u=yt(this,r),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),u.on=e}),i===0&&o()})}var Nu=0;function bt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function On(t){return Dt().transition(t)}function Li(){return++Nu}var At=Dt.prototype;bt.prototype=On.prototype={constructor:bt,select:uu,selectAll:fu,selectChild:At.selectChild,selectChildren:At.selectChildren,filter:ru,merge:iu,selection:pu,transition:ku,call:At.call,nodes:At.nodes,node:At.node,size:At.size,empty:At.empty,each:At.each,on:au,attr:Vc,attrTween:jc,style:vu,styleTween:_u,text:$u,textTween:Mu,remove:cu,tween:Sc,delay:Uc,duration:Qc,ease:tu,easeVarying:eu,end:Tu,[Symbol.iterator]:At[Symbol.iterator]};function Lu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ru={time:null,delay:0,duration:250,ease:Lu};function Ou(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Su(t){var e,n;t instanceof bt?(e=t._id,t=t._name):(e=Li(),(n=Ru).time=Me(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&Rn(c,t,e,u,s,n||Ou(c,e));return new bt(r,this._parents,t,e)}Dt.prototype.interrupt=Lc,Dt.prototype.transition=Su;const Oe=Math.PI,Se=2*Oe,Tt=1e-6,Pu=Se-Tt;function Pe(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Sn(){return new Pe}Pe.prototype=Sn.prototype={constructor:Pe,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,a=n-t,c=r-e,u=o-t,h=s-e,d=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Tt)if(!(Math.abs(h*a-c*u)>Tt)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var m=n-o,x=r-s,w=a*a+c*c,E=m*m+x*x,C=Math.sqrt(w),N=Math.sqrt(d),b=i*Math.tan((Oe-Math.acos((w+d-E)/(2*C*N)))/2),M=b/N,T=b/C;Math.abs(M-1)>Tt&&(this._+="L"+(t+M*u)+","+(e+M*h)),this._+="A"+i+","+i+",0,0,"+ +(h*m>u*x)+","+(this._x1=t+T*a)+","+(this._y1=e+T*c)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var s=n*Math.cos(r),a=n*Math.sin(r),c=t+s,u=e+a,h=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+u:(Math.abs(this._x1-c)>Tt||Math.abs(this._y1-u)>Tt)&&(this._+="L"+c+","+u),!!n&&(d<0&&(d=d%Se+Se),d>Pu?this._+="A"+n+","+n+",0,1,"+h+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+h+","+(this._x1=c)+","+(this._y1=u):d>Tt&&(this._+="A"+n+","+n+",0,"+ +(d>=Oe)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Fu(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Pn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vt(t){return t=Pn(Math.abs(t)),t?t[1]:NaN}function Iu(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Du(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Hu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fn(t){if(!(e=Hu.exec(t)))throw new Error("invalid format: "+t);var e;return new Fe({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fn.prototype=Fe.prototype;function Fe(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Fe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zu(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ri;function Vu(t,e){var n=Pn(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ri=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pn(t,Math.max(0,e+o-1))[0]}function Oi(t,e){var n=Pn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Si={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Fu,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Oi(t*100,e),r:Oi,s:Vu,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Pi(t){return t}var Fi=Array.prototype.map,Ii=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function qu(t){var e=t.grouping===void 0||t.thousands===void 0?Pi:Iu(Fi.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Pi:Du(Fi.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Fn(d);var m=d.fill,x=d.align,w=d.sign,E=d.symbol,C=d.zero,N=d.width,b=d.comma,M=d.precision,T=d.trim,O=d.type;O==="n"?(b=!0,O="g"):Si[O]||(M===void 0&&(M=12),T=!0,O="g"),(C||m==="0"&&x==="=")&&(C=!0,m="0",x="=");var P=E==="$"?n:E==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",F=E==="$"?r:/[%p]/.test(O)?s:"",q=Si[O],I=/[defgprs%]/.test(O);M=M===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function D(L){var k=P,R=F,Y,U,K;if(O==="c")R=q(L)+R,L="";else{L=+L;var tt=L<0||1/L<0;if(L=isNaN(L)?c:q(Math.abs(L),M),T&&(L=zu(L)),tt&&+L==0&&w!=="+"&&(tt=!1),k=(tt?w==="("?w:a:w==="-"||w==="("?"":w)+k,R=(O==="s"?Ii[8+Ri/3]:"")+R+(tt&&w==="("?")":""),I){for(Y=-1,U=L.length;++Y<U;)if(K=L.charCodeAt(Y),48>K||K>57){R=(K===46?i+L.slice(Y+1):L.slice(Y))+R,L=L.slice(0,Y);break}}}b&&!C&&(L=e(L,1/0));var A=k.length+L.length+R.length,_=A<N?new Array(N-A+1).join(m):"";switch(b&&C&&(L=e(_+L,_.length?N-R.length:1/0),_=""),x){case"<":L=k+L+R+_;break;case"=":L=k+_+L+R;break;case"^":L=_.slice(0,A=_.length>>1)+k+L+R+_.slice(A);break;default:L=_+k+L+R;break}return o(L)}return D.toString=function(){return d+""},D}function h(d,m){var x=u((d=Fn(d),d.type="f",d)),w=Math.max(-8,Math.min(8,Math.floor(Vt(m)/3)))*3,E=Math.pow(10,-w),C=Ii[8+w/3];return function(N){return x(E*N)+C}}return{format:u,formatPrefix:h}}var In,qt,Di;Hi({thousands:",",grouping:[3],currency:["$",""]});function Hi(t){return In=qu(t),qt=In.format,Di=In.formatPrefix,In}function Bu(t){return Math.max(0,-Vt(Math.abs(t)))}function Xu(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vt(e)/3)))*3-Vt(Math.abs(t)))}function Yu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vt(e)-Vt(t))+1}function Ie(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const zi=Symbol("implicit");function Vi(){var t=new Ir,e=[],n=[],r=zi;function i(o){let s=t.get(o);if(s===void 0){if(r!==zi)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ir;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Vi(e,n).unknown(r)},Ie.apply(i,arguments),i}function qi(){var t=Vi().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,c=0,u=0,h=.5;delete t.unknown;function d(){var m=e().length,x=i<r,w=x?i:r,E=x?r:i;o=(E-w)/Math.max(1,m-c+u*2),a&&(o=Math.floor(o)),w+=(E-w-o*(m-c))*h,s=o*(1-c),a&&(w=Math.round(w),s=Math.round(s));var C=fa(m).map(function(N){return w+o*N});return n(x?C.reverse():C)}return t.domain=function(m){return arguments.length?(e(m),d()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(m){return arguments.length?(a=!!m,d()):a},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),d()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),d()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,d()):u},t.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),d()):h},t.copy=function(){return qi(e(),[r,i]).round(a).paddingInner(c).paddingOuter(u).align(h)},Ie.apply(d(),arguments)}function ju(t){return function(){return t}}function Gu(t){return+t}var Bi=[0,1];function Bt(t){return t}function De(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ju(isNaN(e)?NaN:.5)}function Wu(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Uu(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=De(i,r),o=n(s,o)):(r=De(r,i),o=n(o,s)),function(a){return o(r(a))}}function Ku(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=De(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var c=oa(t,a,1,r)-1;return o[c](i[c](a))}}function Zu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qu(){var t=Bi,e=Bi,n=$n,r,i,o,s=Bt,a,c,u;function h(){var m=Math.min(t.length,e.length);return s!==Bt&&(s=Wu(t[0],t[m-1])),a=m>2?Ku:Uu,c=u=null,d}function d(m){return m==null||isNaN(m=+m)?o:(c||(c=a(t.map(r),e,n)))(r(s(m)))}return d.invert=function(m){return s(i((u||(u=a(e,t.map(r),ht)))(m)))},d.domain=function(m){return arguments.length?(t=Array.from(m,Gu),h()):t.slice()},d.range=function(m){return arguments.length?(e=Array.from(m),h()):e.slice()},d.rangeRound=function(m){return e=Array.from(m),n=vc,h()},d.clamp=function(m){return arguments.length?(s=m?!0:Bt,h()):s!==Bt},d.interpolate=function(m){return arguments.length?(n=m,h()):n},d.unknown=function(m){return arguments.length?(o=m,d):o},function(m,x){return r=m,i=x,h()}}function Ju(){return Qu()(Bt,Bt)}function tf(t,e,n,r){var i=ua(t,e,n),o;switch(r=Fn(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Xu(i,s))&&(r.precision=o),Di(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Yu(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Bu(i))&&(r.precision=o-(r.type==="%")*2);break}}return qt(r)}function nf(t){var e=t.domain;return t.ticks=function(n){var r=e();return ca(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return tf(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],c,u,h=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);h-- >0;){if(u=Hr(s,a,n),u===c)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function Xi(){var t=Ju();return t.copy=function(){return Zu(t,Xi())},Ie.apply(t,arguments),nf(t)}function V(t){return function(){return t}}var Yi=Math.abs,et=Math.atan2,Nt=Math.cos,ef=Math.max,He=Math.min,vt=Math.sin,Xt=Math.sqrt,st=1e-12,on=Math.PI,Dn=on/2,Hn=2*on;function rf(t){return t>1?0:t<-1?on:Math.acos(t)}function ji(t){return t>=1?Dn:t<=-1?-Dn:Math.asin(t)}function of(t){return t.innerRadius}function sf(t){return t.outerRadius}function af(t){return t.startAngle}function lf(t){return t.endAngle}function cf(t){return t&&t.padAngle}function uf(t,e,n,r,i,o,s,a){var c=n-t,u=r-e,h=s-i,d=a-o,m=d*c-h*u;if(!(m*m<st))return m=(h*(e-o)-d*(t-i))/m,[t+m*c,e+m*u]}function zn(t,e,n,r,i,o,s){var a=t-n,c=e-r,u=(s?o:-o)/Xt(a*a+c*c),h=u*c,d=-u*a,m=t+h,x=e+d,w=n+h,E=r+d,C=(m+w)/2,N=(x+E)/2,b=w-m,M=E-x,T=b*b+M*M,O=i-o,P=m*E-w*x,F=(M<0?-1:1)*Xt(ef(0,O*O*T-P*P)),q=(P*M-b*F)/T,I=(-P*b-M*F)/T,D=(P*M+b*F)/T,L=(-P*b+M*F)/T,k=q-C,R=I-N,Y=D-C,U=L-N;return k*k+R*R>Y*Y+U*U&&(q=D,I=L),{cx:q,cy:I,x01:-h,y01:-d,x11:q*(i/O-1),y11:I*(i/O-1)}}function ff(){var t=of,e=sf,n=V(0),r=null,i=af,o=lf,s=cf,a=null;function c(){var u,h,d=+t.apply(this,arguments),m=+e.apply(this,arguments),x=i.apply(this,arguments)-Dn,w=o.apply(this,arguments)-Dn,E=Yi(w-x),C=w>x;if(a||(a=u=Sn()),m<d&&(h=m,m=d,d=h),!(m>st))a.moveTo(0,0);else if(E>Hn-st)a.moveTo(m*Nt(x),m*vt(x)),a.arc(0,0,m,x,w,!C),d>st&&(a.moveTo(d*Nt(w),d*vt(w)),a.arc(0,0,d,w,x,C));else{var N=x,b=w,M=x,T=w,O=E,P=E,F=s.apply(this,arguments)/2,q=F>st&&(r?+r.apply(this,arguments):Xt(d*d+m*m)),I=He(Yi(m-d)/2,+n.apply(this,arguments)),D=I,L=I,k,R;if(q>st){var Y=ji(q/d*vt(F)),U=ji(q/m*vt(F));(O-=Y*2)>st?(Y*=C?1:-1,M+=Y,T-=Y):(O=0,M=T=(x+w)/2),(P-=U*2)>st?(U*=C?1:-1,N+=U,b-=U):(P=0,N=b=(x+w)/2)}var K=m*Nt(N),tt=m*vt(N),A=d*Nt(T),_=d*vt(T);if(I>st){var S=m*Nt(b),H=m*vt(b),B=d*Nt(M),Q=d*vt(M),G;if(E<on&&(G=uf(K,tt,B,Q,S,H,A,_))){var ct=K-G[0],dt=tt-G[1],fn=S-G[0],hn=H-G[1],jt=1/vt(rf((ct*fn+dt*hn)/(Xt(ct*ct+dt*dt)*Xt(fn*fn+hn*hn)))/2),pn=Xt(G[0]*G[0]+G[1]*G[1]);D=He(I,(d-pn)/(jt-1)),L=He(I,(m-pn)/(jt+1))}}P>st?L>st?(k=zn(B,Q,K,tt,m,L,C),R=zn(S,H,A,_,m,L,C),a.moveTo(k.cx+k.x01,k.cy+k.y01),L<I?a.arc(k.cx,k.cy,L,et(k.y01,k.x01),et(R.y01,R.x01),!C):(a.arc(k.cx,k.cy,L,et(k.y01,k.x01),et(k.y11,k.x11),!C),a.arc(0,0,m,et(k.cy+k.y11,k.cx+k.x11),et(R.cy+R.y11,R.cx+R.x11),!C),a.arc(R.cx,R.cy,L,et(R.y11,R.x11),et(R.y01,R.x01),!C))):(a.moveTo(K,tt),a.arc(0,0,m,N,b,!C)):a.moveTo(K,tt),!(d>st)||!(O>st)?a.lineTo(A,_):D>st?(k=zn(A,_,S,H,d,-D,C),R=zn(K,tt,B,Q,d,-D,C),a.lineTo(k.cx+k.x01,k.cy+k.y01),D<I?a.arc(k.cx,k.cy,D,et(k.y01,k.x01),et(R.y01,R.x01),!C):(a.arc(k.cx,k.cy,D,et(k.y01,k.x01),et(k.y11,k.x11),!C),a.arc(0,0,d,et(k.cy+k.y11,k.cx+k.x11),et(R.cy+R.y11,R.cx+R.x11),C),a.arc(R.cx,R.cy,D,et(R.y11,R.x11),et(R.y01,R.x01),!C))):a.arc(0,0,d,T,M,C)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-on/2;return[Nt(h)*u,vt(h)*u]},c.innerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:V(+u),c):t},c.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:V(+u),c):e},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:V(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:V(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:V(+u),c):i},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:V(+u),c):o},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:V(+u),c):s},c.context=function(u){return arguments.length?(a=u==null?null:u,c):a},c}function ze(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Gi(t){this._context=t}Gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vn(t){return new Gi(t)}function Wi(t){return t[0]}function Ui(t){return t[1]}function qn(t,e){var n=V(!0),r=null,i=Vn,o=null;t=typeof t=="function"?t:t===void 0?Wi:V(t),e=typeof e=="function"?e:e===void 0?Ui:V(e);function s(a){var c,u=(a=ze(a)).length,h,d=!1,m;for(r==null&&(o=i(m=Sn())),c=0;c<=u;++c)!(c<u&&n(h=a[c],c,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,c,a),+e(h,c,a));if(m)return o=null,m+""||null}return s.x=function(a){return arguments.length?(t=typeof a=="function"?a:V(+a),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:V(+a),s):e},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:V(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function Ve(t,e,n){var r=null,i=V(!0),o=null,s=Vn,a=null;t=typeof t=="function"?t:t===void 0?Wi:V(+t),e=typeof e=="function"?e:V(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Ui:V(+n);function c(h){var d,m,x,w=(h=ze(h)).length,E,C=!1,N,b=new Array(w),M=new Array(w);for(o==null&&(a=s(N=Sn())),d=0;d<=w;++d){if(!(d<w&&i(E=h[d],d,h))===C)if(C=!C)m=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),x=d-1;x>=m;--x)a.point(b[x],M[x]);a.lineEnd(),a.areaEnd()}C&&(b[d]=+t(E,d,h),M[d]=+e(E,d,h),a.point(r?+r(E,d,h):b[d],n?+n(E,d,h):M[d]))}if(N)return a=null,N+""||null}function u(){return qn().defined(i).curve(s).context(o)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:V(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:V(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:V(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:V(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:V(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:V(+h),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:V(!!h),c):i},c.curve=function(h){return arguments.length?(s=h,o!=null&&(a=s(o)),c):s},c.context=function(h){return arguments.length?(h==null?o=a=null:a=s(o=h),c):o},c}function hf(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function pf(t){return t}function df(){var t=pf,e=hf,n=null,r=V(0),i=V(Hn),o=V(0);function s(a){var c,u=(a=ze(a)).length,h,d,m=0,x=new Array(u),w=new Array(u),E=+r.apply(this,arguments),C=Math.min(Hn,Math.max(-Hn,i.apply(this,arguments)-E)),N,b=Math.min(Math.abs(C)/u,o.apply(this,arguments)),M=b*(C<0?-1:1),T;for(c=0;c<u;++c)(T=w[x[c]=c]=+t(a[c],c,a))>0&&(m+=T);for(e!=null?x.sort(function(O,P){return e(w[O],w[P])}):n!=null&&x.sort(function(O,P){return n(a[O],a[P])}),c=0,d=m?(C-u*M)/m:0;c<u;++c,E=N)h=x[c],T=w[h],N=E+(T>0?T*d:0)+M,w[h]={data:a[h],index:c,value:T,startAngle:E,endAngle:N,padAngle:b};return w}return s.value=function(a){return arguments.length?(t=typeof a=="function"?a:V(+a),s):t},s.sortValues=function(a){return arguments.length?(e=a,n=null,s):e},s.sort=function(a){return arguments.length?(n=a,e=null,s):n},s.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:V(+a),s):r},s.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:V(+a),s):i},s.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:V(+a),s):o},s}function Ki(t){return t<0?-1:1}function Zi(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Ki(o)+Ki(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Qi(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qe(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Bn(t){this._context=t}Bn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qe(this,this._t0,Qi(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qe(this,Qi(this,n=Zi(this,t,e)),n);break;default:qe(this,this._t0,n=Zi(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(Bn.prototype).point=function(t,e){Bn.prototype.point.call(this,e,t)};function Xn(t){return new Bn(t)}function gf({chart:t,set:e,xScale:n,yScale:r,colors:i,cols:o,labels:s,width:a,height:c,unit:u}){const h=On().duration(1e3),d=(_,S)=>500+S*100;Eo(t,s,a,c,se(e.map(([,_])=>({values:[_]}))));const m=Ve().curve(Vn).x(([_])=>n(_)+n.bandwidth()/3*2).y1(([,_])=>r(_)).y0(()=>c),x=t.selectAll(".area").data([1]);x.exit().remove(),x.enter().append("path").attr("class","area").attr("fill",ot.area).attr("opacity",.5).merge(x).transition(h).delay(2e3).attrTween("d",()=>{const _=An(e.map(()=>0),e.map(([,S])=>S));return S=>m(_(S).map((H,B)=>[e[B][0],H]))});const E=t.selectAll(".bar").data(e,([_])=>_);E.exit().remove();const C=E.enter().append("g").attr("font-family",_t).attr("class","bar");E.merge(C);const N=([_,S],H)=>lh(n(_),H==="init"?c:r(S),n.bandwidth(),c),b=([_])=>{const S=o[_].colors,{end:H}=i[S],{r:B,g:Q,b:G}=fr(H);return`rgb(${B}, ${Q}, ${G})`};C.append("path").attr("class","bar__color").attr("fill",b).attr("d",_=>N(_,"init")).transition(h).delay(d).attr("d",N),C.merge(E.select(".bar__color").attr("fill",b).transition(h).attr("d",N));const M=qn().curve(Vn).x(([_])=>n(_)+n.bandwidth()/3*2).y(([,_])=>r(_)),T=t.selectAll(".line").data([1]);T.exit().remove(),T.enter().append("path").attr("class","line").attr("fill","none").attr("stroke",ot.line).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",2).merge(T).transition(h).delay(2e3).attrTween("d",()=>{const _=An(e.map(()=>0),e.map(([,S])=>S));return S=>M(_(S).map((H,B)=>[e[B][0],H]))});const P=([_,S],H)=>ah(n(_),H==="init"?c:r(S),n.bandwidth()),F=([_],S=!1)=>{const H=o[_].colors,{border:{r:B,g:Q,b:G,a:ct}}=i[H];return S===!0?ct:`rgb(${B}, ${Q}, ${G})`};C.append("path").attr("class","bar__symbol").attr("fill",_=>F(_)).attr("fill-opacity",_=>F(_,!0)).attr("d",_=>P(_,"init")).transition(h).delay(d).attr("d",P).attr("fill",F),C.merge(E.select(".bar__symbol").transition(h).attr("d",P).attr("fill",F));const q=([_])=>n(_)+n.bandwidth()/2,I=()=>n.bandwidth()*Go,D=()=>I()*-1/20,L=([,_])=>(_?r(_):c)-uh(n.bandwidth())+I()/5*2;C.append("text").attr("class","bar__text").attr("fill","white").attr("text-anchor","middle").attr("font-weight","bold").text(_=>Jn(_).value).attr("font-size",I).attr("letter-spacing",D).attr("font-family",_t).attr("x",q).attr("y",()=>L([])).transition(h).delay(d).attr("y",L),C.merge(E.select(".bar__text").text(_=>Jn(_).value).transition(h).attr("font-size",I).attr("x",q).attr("y",L));const k=()=>n.bandwidth()/4,R=([_])=>n(_)+n.bandwidth()/3*2,Y=([,_],S)=>(S==="init"?c:r(_))-n.bandwidth()*jo+k()/5*3;C.append("text").attr("class","bar__units").attr("fill","white").attr("text-anchor","middle").attr("font-weight","bold").text(_=>u||Jn(_).unit).attr("font-size",k).attr("x",R).attr("y",_=>Y(_,"init")).transition(h).delay(d).attr("y",Y).attr("font-size",k),C.merge(E.select(".bar__units").text(_=>u||Jn(_).unit).transition(h).attr("x",R).attr("y",Y).attr("font-size",k));const U=()=>n.bandwidth()*hr,K=([_])=>n(_)+n.bandwidth()*2/3-U()/2,tt=t.selectAll(".point").data(e,([_])=>_);tt.exit().remove(),tt.enter().append("circle").attr("class","point").attr("stroke-width",2).attr("stroke",ot.line).attr("fill",ot.point).merge(tt).transition(h).attr("cx",K).attr("r",()=>U()).attr("cy",([,_])=>r(_))}function sn(t){return t.split("-")[0]}function Yn(t){return t.split("-")[1]}function an(t){return["top","bottom"].includes(sn(t))?"x":"y"}function Be(t){return t==="y"?"height":"width"}function Ji(t,e,n){let{reference:r,floating:i}=t;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=an(e),c=Be(a),u=r[c]/2-i[c]/2,h=sn(e),d=a==="x";let m;switch(h){case"top":m={x:o,y:r.y-i.height};break;case"bottom":m={x:o,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:s};break;case"left":m={x:r.x-i.width,y:s};break;default:m={x:r.x,y:r.y}}switch(Yn(e)){case"start":m[a]-=u*(n&&d?-1:1);break;case"end":m[a]+=u*(n&&d?-1:1);break}return m}const mf=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=Ji(c,r,a),d=r,m={},x=0;for(let w=0;w<o.length;w++){const{name:E,fn:C}=o[w],{x:N,y:b,data:M,reset:T}=await C({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:t,floating:e}});if(u=N!=null?N:u,h=b!=null?b:h,m=ut(J({},m),{[E]:J(J({},m[E]),M)}),T&&x<=50){x++,typeof T=="object"&&(T.placement&&(d=T.placement),T.rects&&(c=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:u,y:h}=Ji(c,d,a)),w=-1;continue}}return{x:u,y:h,placement:d,strategy:i,middlewareData:m}};function yf(t){return J({top:0,right:0,bottom:0,left:0},t)}function to(t){return typeof t!="number"?yf(t):{top:t,right:t,bottom:t,left:t}}function jn(t){return ut(J({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}async function no(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:m=!1,padding:x=0}=e,w=to(x),C=a[m?d==="floating"?"reference":"floating":d],N=jn(await o.getClippingRect({element:((n=await(o.isElement==null?void 0:o.isElement(C)))!=null?n:!0)?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),b=jn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:d==="floating"?ut(J({},s.floating),{x:r,y:i}):s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),strategy:c}):s[d]);return{top:N.top-b.top+w.top,bottom:b.bottom-N.bottom+w.bottom,left:N.left-b.left+w.left,right:b.right-N.right+w.right}}const vf=Math.min,xf=Math.max;function Xe(t,e,n){return xf(t,vf(e,n))}const wf=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=t!=null?t:{},{x:i,y:o,placement:s,rects:a,platform:c}=e;if(n==null)return{};const u=to(r),h={x:i,y:o},d=an(s),m=Yn(s),x=Be(d),w=await c.getDimensions(n),E=d==="y"?"top":"left",C=d==="y"?"bottom":"right",N=a.reference[x]+a.reference[d]-h[d]-a.floating[x],b=h[d]-a.reference[d],M=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n));let T=M?d==="y"?M.clientHeight||0:M.clientWidth||0:0;T===0&&(T=a.floating[x]);const O=N/2-b/2,P=u[E],F=T-w[x]-u[C],q=T/2-w[x]/2+O,I=Xe(P,q,F),k=(m==="start"?u[E]:u[C])>0&&q!==I&&a.reference[x]<=a.floating[x]?q<P?P-q:F-q:0;return{[d]:h[d]-k,data:{[d]:I,centerOffset:q-I}}}}),_f={left:"right",right:"left",bottom:"top",top:"bottom"};function Gn(t){return t.replace(/left|right|bottom|top/g,e=>_f[e])}function bf(t,e,n){n===void 0&&(n=!1);const r=Yn(t),i=an(t),o=Be(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Gn(s)),{main:s,cross:Gn(s)}}const Af={start:"end",end:"start"};function eo(t){return t.replace(/start|end/g,e=>Af[e])}function $f(t){const e=Gn(t);return[eo(t),e,eo(e)]}const Ef=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:c}=e,I=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",flipAlignment:x=!0}=I,w=ur(I,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"]),E=sn(r),N=d||(E===s||!x?[Gn(s)]:$f(s)),b=[s,...N],M=await no(e,w),T=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&T.push(M[E]),h){const{main:D,cross:L}=bf(r,o,await(a.isRTL==null?void 0:a.isRTL(c.floating)));T.push(M[D],M[L])}if(O=[...O,{placement:r,overflows:T}],!T.every(D=>D<=0)){var P,F;const D=((P=(F=i.flip)==null?void 0:F.index)!=null?P:0)+1,L=b[D];if(L)return{data:{index:D,overflows:O},reset:{placement:L}};let k="bottom";switch(m){case"bestFit":{var q;const R=(q=O.map(Y=>[Y,Y.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((Y,U)=>Y[1]-U[1])[0])==null?void 0:q[0].placement;R&&(k=R);break}case"initialPlacement":k=s;break}if(r!==k)return{reset:{placement:k}}}return{}}}};async function Cf(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=sn(n),a=Yn(n),c=an(n)==="x",u=["left","top"].includes(s)?-1:1,h=o&&c?-1:1,d=typeof e=="function"?e(t):e;let{mainAxis:m,crossAxis:x,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:J({mainAxis:0,crossAxis:0,alignmentAxis:null},d);return a&&typeof w=="number"&&(x=a==="end"?w*-1:w),c?{x:x*h,y:m*u}:{x:m*u,y:x*h}}const Mf=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await Cf(e,t);return{x:n+i.x,y:r+i.y,data:i}}}};function kf(t){return t==="x"?"y":"x"}const Tf=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,C=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:N=>{let{x:b,y:M}=N;return{x:b,y:M}}}}=C,c=ur(C,["mainAxis","crossAxis","limiter"]),u={x:n,y:r},h=await no(e,c),d=an(sn(i)),m=kf(d);let x=u[d],w=u[m];if(o){const N=d==="y"?"top":"left",b=d==="y"?"bottom":"right",M=x+h[N],T=x-h[b];x=Xe(M,x,T)}if(s){const N=m==="y"?"top":"left",b=m==="y"?"bottom":"right",M=w+h[N],T=w-h[b];w=Xe(M,w,T)}const E=a.fn(ut(J({},e),{[d]:x,[m]:w}));return ut(J({},E),{data:{x:E.x-n,y:E.y-r}})}}};function ro(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function $t(t){if(t==null)return window;if(!ro(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function ln(t){return $t(t).getComputedStyle(t)}function Et(t){return ro(t)?"":t?(t.nodeName||"").toLowerCase():""}function io(){const t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function xt(t){return t instanceof $t(t).HTMLElement}function Yt(t){return t instanceof $t(t).Element}function Nf(t){return t instanceof $t(t).Node}function Ye(t){if(typeof ShadowRoot=="undefined")return!1;const e=$t(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Wn(t){const{overflow:e,overflowX:n,overflowY:r}=ln(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function Lf(t){return["table","td","th"].includes(Et(t))}function oo(t){const e=/firefox/i.test(io()),n=ln(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)}function so(){return!/^((?!chrome|android).)*safari/i.test(io())}const ao=Math.min,cn=Math.max,Un=Math.round;function Lt(t,e,n){var r,i,o,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect();let c=1,u=1;e&&xt(t)&&(c=t.offsetWidth>0&&Un(a.width)/t.offsetWidth||1,u=t.offsetHeight>0&&Un(a.height)/t.offsetHeight||1);const h=Yt(t)?$t(t):window,d=!so()&&n,m=(a.left+(d&&(r=(i=h.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/c,x=(a.top+(d&&(o=(s=h.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/u,w=a.width/c,E=a.height/u;return{width:w,height:E,top:x,right:m+w,bottom:x+E,left:m,x:m,y:x}}function Ct(t){return((Nf(t)?t.ownerDocument:t.document)||window.document).documentElement}function Kn(t){return Yt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function lo(t){return Lt(Ct(t)).left+Kn(t).scrollLeft}function Rf(t){const e=Lt(t);return Un(e.width)!==t.offsetWidth||Un(e.height)!==t.offsetHeight}function Of(t,e,n){const r=xt(e),i=Ct(e),o=Lt(t,r&&Rf(e),n==="fixed");let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Et(e)!=="body"||Wn(i))&&(s=Kn(e)),xt(e)){const c=Lt(e,!0);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else i&&(a.x=lo(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function co(t){return Et(t)==="html"?t:t.assignedSlot||t.parentNode||(Ye(t)?t.host:null)||Ct(t)}function uo(t){return!xt(t)||getComputedStyle(t).position==="fixed"?null:t.offsetParent}function Sf(t){let e=co(t);for(Ye(e)&&(e=e.host);xt(e)&&!["html","body"].includes(Et(e));){if(oo(e))return e;e=e.parentNode}return null}function je(t){const e=$t(t);let n=uo(t);for(;n&&Lf(n)&&getComputedStyle(n).position==="static";)n=uo(n);return n&&(Et(n)==="html"||Et(n)==="body"&&getComputedStyle(n).position==="static"&&!oo(n))?e:n||Sf(t)||e}function fo(t){if(xt(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=Lt(t);return{width:e.width,height:e.height}}function Pf(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=xt(n),o=Ct(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((Et(n)!=="body"||Wn(o))&&(s=Kn(n)),xt(n))){const c=Lt(n,!0);a.x=c.x+n.clientLeft,a.y=c.y+n.clientTop}return ut(J({},e),{x:e.x-s.scrollLeft+a.x,y:e.y-s.scrollTop+a.y})}function Ff(t,e){const n=$t(t),r=Ct(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const u=so();(u||!u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function If(t){var e;const n=Ct(t),r=Kn(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=cn(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=cn(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let a=-r.scrollLeft+lo(t);const c=-r.scrollTop;return ln(i||n).direction==="rtl"&&(a+=cn(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function ho(t){const e=co(t);return["html","body","#document"].includes(Et(e))?t.ownerDocument.body:xt(e)&&Wn(e)?e:ho(e)}function po(t,e){var n;e===void 0&&(e=[]);const r=ho(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=$t(r),s=i?[o].concat(o.visualViewport||[],Wn(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(po(s))}function Df(t,e){const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&Ye(n)){let r=e;do{if(r&&t===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function Hf(t,e){const n=Lt(t,!1,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft;return{top:r,left:i,x:i,y:r,right:i+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function go(t,e,n){return e==="viewport"?jn(Ff(t,n)):Yt(e)?Hf(e,n):jn(If(Ct(t)))}function zf(t){const e=po(t),r=["absolute","fixed"].includes(ln(t).position)&&xt(t)?je(t):t;return Yt(r)?e.filter(i=>Yt(i)&&Df(i,r)&&Et(i)!=="body"):[]}function Vf(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?zf(e):[].concat(n),r],a=s[0],c=s.reduce((u,h)=>{const d=go(e,h,i);return u.top=cn(d.top,u.top),u.right=ao(d.right,u.right),u.bottom=ao(d.bottom,u.bottom),u.left=cn(d.left,u.left),u},go(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}const qf={getClippingRect:Vf,convertOffsetParentRelativeRectToViewportRelativeRect:Pf,isElement:Yt,getDimensions:fo,getOffsetParent:je,getDocumentElement:Ct,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:Of(e,je(n),r),floating:ut(J({},fo(n)),{x:0,y:0})}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>ln(t).direction==="rtl"},Bf=(t,e,n)=>mf(t,e,J({platform:qf},n));function Xf({chart:t,colors:e,t:n,set:r,xScale:i,idPrefix:o}){const s=r.map(([,{colors:b}])=>[b,e[b]]),a=t.select("defs"),c=a.selectAll(".gradient").data(s,([b])=>b);c.exit().remove();const u=c.enter().append("linearGradient").attr("class","gradient").attr("gradientTransform",`rotate(${-15})`).attr("id",([b])=>`${o}-gradient-line-${b}`).attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");c.merge(u);const h=([,{start:{r:b,g:M,b:T}}])=>`rgb(${b}, ${M}, ${T})`,d=([,{end:{r:b,g:M,b:T}}])=>`rgb(${b}, ${M}, ${T})`,m=([,{start:{a:b}}])=>b,x=([,{end:{a:b}}])=>b;u.append("stop").attr("class","gradient__start").attr("offset","20%").attr("stop-color",h).attr("stop-opacity",m).transition(n).attr("stop-color",h).attr("stop-opacity",m),u.merge(c.select(".gradient__start").transition(n).attr("stop-color",h)).attr("stop-opacity",m),u.append("stop").attr("class","gradient__end").attr("offset","100%").attr("stop-color",d).attr("stop-opacity",x).transition(n).attr("stop-color",d).attr("stop-opacity",x),u.merge(c.select(".gradient__end").transition(n).attr("stop-color",d)).attr("stop-opacity",x);const w=a.selectAll(".clip").data(r,([b])=>b);w.exit().remove();const E=w.enter().append("clipPath").attr("class","clip").attr("id",([b])=>`${o}-clip${b}`);w.merge(E);const C=([,{values:b}])=>mo(b,i).width,N=([,{values:b}])=>mo(b,i).x;E.append("rect").attr("class","clip__shape").attr("width",C).attr("x",N).attr("height",5e3).attr("y",0).transition(n).attr("width",C).attr("x",N),E.merge(w.select(".clip__shape").transition(n).attr("width",C).attr("x",N))}function mo(t,e){let n=0;const r={};for(const a in t){n+=1;const c=t[a];W(c)&&(r[n]=a)}const i=nt(Object.keys(r).map(parseFloat)),[o,s]=[i[0],i[i.length-1]];return i.length?{x:e(r[o])+e.bandwidth()/2,width:e(r[s])-e(r[o])}:{x:0,width:0}}function Yf({chart:t,set:e,xScale:n,yScale:r,colors:i,labels:o,height:s,width:a,locale:c,cols:u}){Je(c);const h=Yo(),d=e[0][1],m=A=>A==="1",x=Math.min(...e.reduce((A,[,{values:_}])=>A.concat(Object.values(_)),[]).filter(W)),w=On().duration(1e3);Xf({chart:t,colors:i,t:w,set:e,xScale:n,idPrefix:h}),Eo(t,o,a,s,se(e.map(([,A])=>A)));const E=t.select(".topLeftLabel").selectAll(".topLabels").data(e,([A])=>A);E.exit().remove(),E.enter().append("tspan").attr("class","topLabels").merge(E).html(([,{values:A,name:_,colors:S}])=>{const{border:{r:H,g:B,b:Q}}=i[S],G=`rgb(${H}, ${B}, ${Q})`;return _?`
                    <tspan y="10" fill="${G}" stroke="${G}" stroke-width="10" font-size="30">\u2022</tspan>
                    <tspan y="5" dx="10" font-size="12">${_}</tspan>
                    <tspan dx="5" font-weight="bold" font-size="12">${qt(",")(ft(A))}</tspan>
            `:""}).attr("dx",(A,_)=>_>0?20:-50);const N=Ve().curve(Xn).x(([A])=>n(A)+n.bandwidth()/2).y0(()=>r(x)).y1(([,A])=>r(A)),b=Ve().curve(Xn).x(([A])=>n(A)+n.bandwidth()/2).y0(([A])=>r(d.values[A])).y1(([A,_])=>r(_||d.values[A])),M=t.selectAll(".area").data(e,([A])=>A);M.exit().remove(),M.enter().append("path").attr("class","area").attr("fill-opacity",0).merge(M).attr("fill",([,{colors:A}])=>`url(#${h}-gradient-line-${A})`).attr("clip-path",([A])=>!m(A)&&`url(#${h}-clip${A})`).transition(w).attrTween("d",([A,{values:_}])=>{const S=Ft(_),H=An(S.map(()=>0),S.map(([,B])=>B));return B=>(m(A)?N:b)(H(B).map((G,ct)=>[S[ct][0],G]))}).transition().attr("fill-opacity",1);const O=qn().curve(Xn).x(([A])=>n(A)+n.bandwidth()/2).y(([,A])=>r(A)),P=qn().curve(Xn).x(([A])=>n(A)+n.bandwidth()/2).y(([A,_])=>r(_||d.values[A])),F=t.selectAll(".line").data(e.sort(([A])=>m(A)?1:-1),([A])=>A);F.exit().remove(),F.enter().append("path").attr("class","line").attr("fill","none").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",2).merge(F).attr("clip-path",([A])=>!m(A)&&`url(#clip${A})`).transition(w).attr("stroke",([,{colors:A}])=>{const{border:{r:_,g:S,b:H}}=i[A];return`rgb(${_}, ${S}, ${H})`}).attrTween("d",([A,{values:_}])=>{const S=Ft(_),H=An(S.map(()=>x),S.map(([,B])=>B));return B=>(m(A)?O:P)(H(B).map((G,ct)=>[S[ct][0],G]))});const I=()=>n.bandwidth()*hr,D=([,A])=>n(A)+n.bandwidth()/2-I()/2+4,L=ri("body").append("div").attr("class","tooltip").style("position","absolute").style("left","0").style("top","0").style("opacity","0").style("pointer-events","none").style("z-index","500"),k=Object.entries(u).filter(([,{annotation:A}])=>A).map(([A,{annotation:_}])=>[A,_,Math.max(...e.map(([,{values:S}])=>S[A]).filter(S=>S))]),R=t.selectAll(".annotation").data(k);R.exit().remove(),R.enter().append("line").attr("class","annotation").attr("stroke-width",2).attr("fill",ot.point).merge(R).transition(w).attr("x1",([A])=>D([0,A])).attr("y1",s).attr("x2",([A])=>D([0,A])).attr("y2",([,,A])=>r(A)+I()).attr("stroke","black");const U=e.sort(([A])=>m(A)?1:-1).reduce((A,[_,{values:S}])=>A.concat(Ft(S).map(H=>[_,...H])),[]).filter(([,,A])=>A),K=t.selectAll(".point").data(U,([A,_])=>A+_);K.exit().remove(),K.enter().append("circle").attr("class","point").attr("stroke-width",2).attr("fill",ot.point).merge(K).transition(w).attr("r",()=>I()).attr("cx",D).attr("cy",([,,A])=>r(A)).attr("stroke",([A])=>{const[,{colors:_}]=e.find(([Q])=>Q===A),{border:{r:S,g:H,b:B}}=i[_];return`rgb(${S}, ${H}, ${B})`}),t.selectAll(".annotation-area").data(k).enter().append("rect").attr("class","annotation-area").attr("fill","transparent").attr("x",([A])=>n(A)+n.bandwidth()/2-14).attr("y",([,,A])=>r(A)-14).attr("width",28).attr("height",([,,A])=>s-r(A)+14).on("mouseover",(A,[_,[S,...H]])=>L.style("opacity","1").html(`
                    <table>
                        <caption>${u[_].value}</caption>
                        <thead>
                            <tr>
                                ${S.map(B=>`<th>${B}</th>`).join("")}
                            </tr>
                        </thead>
                        <tbody>
                            ${H.map(B=>`
                                <tr>${B.map(Q=>`<td>${Q}</td>`).join("")}</tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="tooltip-arrow"></div>
                `)).on("mousemove",({clientX:A,clientY:_})=>{const S={getBoundingClientRect(){return{width:0,height:0,x:A,y:_,left:A,right:A,top:_,bottom:_}}},H=L.node(),B=H.lastElementChild;Bf(S,H,{placement:"top",middleware:[Mf(20),Ef(),Tf(),wf({element:B})]}).then(({x:Q,y:G,middlewareData:{arrow:ct},placement:dt})=>{Object.assign(H.style,{top:dt==="top"?`${G}px`:0,transform:dt==="bottom"?"translateY(100%)":"none",left:`${Q}px`}),Object.assign(B.style,{top:dt==="top"?"100%":0,transform:dt==="bottom"?"translateY(-100%) rotate(180deg)":"none",left:`${ct.x}px`})})}).on("mouseout",()=>L.style("opacity","0"))}function jf({chart:t,set:e,colors:n,cols:r,width:i,sortDirection:o,sortType:s}){const a=On().duration(1e3).delay(1e3),c=df().value(([,b])=>b).sort(null)(e.sort(Ao(s,o,r)).map(b=>b)),u=i/2,h=u*.55,d=ff().innerRadius(h).outerRadius(u),m=(b,M)=>{const T=ut(J({},b),{data:[b.data[0],0],endAngle:0,padAngle:0,startAngle:0,value:0}),O=$n(T,b);return function(P){const F=O(P);return d(F,M)}},x=t.selectAll(".doughnut").data([1]).enter().append("g").attr("class","doughnut").attr("transform",`translate(${i/2}, ${i/2})`),w=t.select(".doughnut").selectAll(".arc").data(c,({data:[b]})=>b);w.exit().remove(),w.enter().append("path").attr("class","arc").merge(w).transition(a).attrTween("d",m).attr("fill",(b,M)=>{const[T]=e[M],{colors:O}=r[T],{border:{r:P,g:F,b:q}}=n[O];return`rgb(${P}, ${F}, ${q})`});const C=x.selectAll(".center").data([1]);C.enter().append("circle").attr("class","center").attr("stroke","white").attr("stroke-width",60).attr("stroke-opacity",.8).attr("cx",0).attr("cy",0).attr("fill","none").attr("r",0).merge(C).transition().duration(500).attr("r",h)}function yo(t,{cols:e,rows:n,colors:r,isTransposed:i}){const[o,s]=i?Gf(e,n):[e,n];Zf(t),Wf(t,o),Uf(t,s,o,r)}function Gf(t,e){const[[n,r],...i]=Object.entries(t),o=J({0:r},Object.fromEntries(Object.entries(e).map(([a,{values:c,colors:u}])=>[a,{colors:u,value:c[n]}]))),s=Object.fromEntries(i.map(([a,{value:c,colors:u}])=>[a,{colors:u,values:J({0:c},Object.fromEntries(Object.entries(e).map(([h,{values:d}])=>[h,d[a]])))}]));return[o,s]}function Wf(t,e){const n=document.createElement("thead"),r=document.createElement("tr");let i=0;for(const o in e){i+=1;const s=document.createElement("th");s.innerHTML=e[o].value.replace("|","<br>"),r.appendChild(s),i===1&&r.appendChild(s.cloneNode(!0))}n.appendChild(r),t.appendChild(n)}function Uf(t,e,n,r){const i=document.createElement("tbody"),o=Kf(r),s=Object.values(n);let a=0;for(const c in e){a+=1;const u=document.createElement("tr"),{values:h,colors:d}=e[c];if(Object.values(h).every(x=>!x))continue;let m=0;for(const x in h){const{colors:w}=s[m];m+=1;const E=document.createElement("td");o(E,d,w,a%2==0),E.innerHTML=h[x].replace("|","<br>"),u.appendChild(E),m===1&&u.appendChild(E.cloneNode(!0))}i.appendChild(u)}t.appendChild(i)}function Kf(t){return t?(e,n,r,i)=>{const{start:o,border:s}=t[n]||gr,{start:a,end:c,border:u}=t[r]||gr;o.a&&(e.style.backgroundColor=`rgba(${o.r},${o.g},${o.b},${o.a})`),i&&c.a?e.style.backgroundColor=`rgba(${c.r},${c.g},${c.b},${c.a})`:a.a&&(e.style.backgroundColor=`rgba(${a.r},${a.g},${a.b},${a.a})`),s.a&&(e.style.color=`rgba(${s.r},${s.g},${s.b},${s.a})`),u.a&&(e.style.color=`rgba(${u.r},${u.g},${u.b},${u.a})`)}:()=>null}function Zf(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ge(t,e){const n=8,r=e.scrollLeft,i=e.scrollWidth-e.offsetWidth,o=t<0?0:t>i?i:t;if(Math.abs(r-o)>1){const s=Math.abs(r-o),a=r>o?-1:1;e.scrollLeft=e.scrollLeft+a*(s>n?s/n:1),window.requestAnimationFrame(()=>Ge(o,e)),window.canClick=!1}else window.canClick=!0}function Qf(t,e,n){e.scrollLeft=e.scrollWidth,window.canClick=!0;const r=document.createElement("div");r.className="table-header";const i=document.createElement("button");i.innerText="\u2190",i.className="hidden",i.addEventListener("click",()=>{window.canClick&&Ge(e.scrollLeft-n,e)});const o=document.createElement("button");o.innerText="\u2192",o.className="hidden",o.addEventListener("click",()=>{window.canClick&&Ge(e.scrollLeft+n,e)});const s=document.createElement("span");s.innerText=t,r.appendChild(i),r.appendChild(s),r.appendChild(o);const a=Jf(i,o);return e.addEventListener("scroll",({target:c})=>a(c)),a(e),r}function Jf(t,e){return n=>{t.classList.toggle("hidden",Math.abs(n.scrollLeft)<2),e.classList.toggle("hidden",Math.abs(n.scrollLeft+n.offsetWidth-n.scrollWidth)<2)}}function We(t){return t===vr}function Rt(t){return t===xr}function un(t){return t===yr}function th(t){return t===vr||t===xr||t===yr}function nh(t){return t===Jo}function Ue(t){return t.width-vo(t)}function Zn(t){return t.height-rh(t)}function vo({rows:t,chartType:e,verticalLabel:n}){return Rt(e)?0:se(t)*St*pr+(n?ae:0)}function eh({chartType:t}){return Rt(t)?0:dr.top}function rh({chartType:t}){return Rt(t)?0:dr.bottom+ae}function Qn({chartType:t,rows:e},n=!0){if(un(t)){if(!n)return Ft(e);const i={};return Object.keys(e).forEach(o=>{Object.keys(e[o].values).forEach(s=>{i[s]=parseInt(i[s],10)>e[o].values[s]?i[s]:e[o].values[s]})}),Ft(i)}const[r]=Object.keys(e);return Ft(e[r].values)}function ih(t,e){const n=Qn(e),r=xo(n,e),i=wo(n,e),s=t.append("svg").attr("viewBox",`0 0 ${e.width} ${e.height}`).attr("fontStyle","normal").attr("fontFamily",_t).append("g").attr("transform",`translate(${vo(e)}, ${eh(e)})`);return s.append("g").attr("class","axis axis--y").call(i),s.append("g").attr("class","axis axis--x").attr("transform",`translate(0, ${Zn(e)})`).call(r),s.append("defs"),s}function xo(t,e){if(Rt(e.chartType))return()=>null;const n=Ze(t,e);return r=>{const i=xa(n).tickSize(0);r.call(i),r.select(".domain").remove();const o=r.selectAll(".tick text").attr("font-size",St).attr("font-family",_t).attr("dy",16).attr("fill",ot.label).text("");o.append("tspan").attr("dy","1.4em").attr("x","0").text(s=>Ke(e.cols[s].value,e.locale,0)),o.append("tspan").attr("dy","1.4em").attr("x","0").text(s=>Ke(e.cols[s].value,e.locale,1)),o.append("tspan").attr("dy","1.4em").attr("x","0").text(s=>Ke(e.cols[s].value,e.locale,2))}}function Ke(t,e,n){const[r,i,o,s]=t.split(/\.|\s|\.\s|\.&nbsp;|&nbsp;/).filter(Boolean);return[r,i,o].every(c=>parseInt(c,10))?(e==="cs"?[`${r}. ${i}.`,o,s]:[`${r}.${i}.`,o,s])[n]:[r,i,o,s][n]}function wo(t,e){if(Je(e.locale),Rt(e.chartType))return()=>null;const n=_o(t,e),r=Ue(e);return i=>{const o=va(n).tickSize(r).tickPadding(0);i.call(o),i.select(".domain").remove(),i.selectAll(".tick line").attr("opacity",s=>s>Math.max(...t.map(([,a])=>a))?0:1).attr("stroke",ot.tick),i.selectAll(".tick text").text(s=>qt(",")(s)).attr("opacity",s=>s>Math.max(...t.map(([,a])=>a))?0:1).attr("font-size",St).attr("font-family",_t).attr("fill",ot.label).attr("x",-10).attr("dy",6).attr("text-anchor","end")}}function Ze(t,e){return qi().domain(t.map(([n])=>n)).rangeRound([0,Ue(e)]).padding(We(e.chartType)?.33:0)}function _o(t,e){const{rows:n,chartType:r}=e,i=Object.values(n).reduce((c,u)=>c.concat(Object.values(u.values)),[]).filter(W);let o=1;if(We(r)){const u=Ze(t,e).bandwidth()*Kt,h=Zn(e);o=(h+u)/h*1.1}else un(r)&&(o=1.05);const s=un(r)?Math.min(...i):0,a=Math.max(...i)*o;return Xi().domain([s,a]).range([Zn(e),0])}function bo(t,e,n){Je(e.locale);const{chartType:r,horizontalLabel:i,verticalLabel:o,sortDirection:s,sortType:a}=e,c={set:Qn(e,!un(r)),height:Zn(e),width:Ue(e),xScale:Ze(t,e),yScale:_o(t,e),colors:e.colors,cols:e.cols,unit:e.unit,locale:e.locale,labels:{horizontalLabel:i,verticalLabel:o},sortDirection:s,sortType:a,chart:n};return We(r)?gf(c):un(r)?Yf(c):Rt(r)?jf(c):!0}function Qe({title:t,subtitle:e},n){if(!t&&!e)return;const r=document.createElement("header");r.className="header";const i=document.createElement("h1"),o=document.createElement("h2");i.innerHTML=t,e.split("|").forEach(s=>{const a=document.createElement("span");a.innerHTML=s.trim(),o.appendChild(a)}),r.appendChild(i),r.appendChild(o),n.insertAdjacentElement("afterbegin",r)}function Ao(t,e,n){const r=e===rs;return([i,o],[s,a])=>t===ts?r?-1:1:t===es?(o-a)*(r?-1:1):t===ns?(n[i].value>n[s].value?1:-1)*(r?-1:1):-1}function $o(t,{cols:e,colors:n,unit:r,displayLegend:i,sortType:o,sortDirection:s,locale:a},c){if(i===!1)return!1;const u=document.createElement("footer");return u.className="footer",t.sort(Ao(o,s,e)).forEach(([h,d])=>{const{colors:m,value:x}=e[h],{border:{r:w,g:E,b:C}}=n[m],N=document.createElement("div");N.className="line";const b=document.createElement("div");b.className="color",b.style.backgroundColor=`rgb(${w}, ${E}, ${C})`;const M=document.createElement("div");M.className="value",M.innerHTML=`${qt("")(d)}${r?`${r==="%"&&a==="en"?"":"&nbsp;"}${r}`:""}`;const T=document.createElement("div");T.className="label",T.innerHTML=x,N.appendChild(b),N.appendChild(T),N.appendChild(M),u.appendChild(N)}),c.insertAdjacentElement("beforeend",u),!0}function Jn([,t]){const[,e,n]=/([^a-zA-Z]*)([a-zA-Z]?)/g.exec(qt("~s")(t)),r=t<0?"-":"+";return{value:e,unit:n,sign:r}}const oh="M9.2 5.3H6.6C6.5 5.1 6.5 4.9 6.4 4.8L3.8 0.3C3.5 -0.1 3.2 -0.1 3 0.3L0.4 4.8C0.2 5.2 0 5.8 0 6.2V11.4C0 11.8 0.3 12.2 0.8 12.2H3.4C3.5 12.4 3.5 12.6 3.6 12.7L6.2 17.2C6.4 17.6 6.7 17.6 7 17.2L9.6 12.7C9.8 12.3 10 11.7 10 11.3V6.1C10 5.7 9.7 5.3 9.2 5.3",sh=mr.makeAbsolute(mr.parseSVG(oh));function ah(t,e,n){return ch(sh,o=>o*n/10+t,o=>o*n/10+e-n*Kt).join("")}function lh(t,e,n,r){return[`M${t} ${e-n*Kt/2}`,`L${t} ${r}`,`L${t+n} ${r}`,`L${t+n} ${e-n*Kt/2}`,"Z"].join(" ")}function ch(t,e,n){return t.map(r=>{switch(r.code){case"M":return`M${e(r.x)} ${n(r.y)}`;case"C":return`C${e(r.x1)} ${n(r.y1)} ${e(r.x2)} ${n(r.y2)} ${e(r.x)} ${n(r.y)}`;case"L":return`L${e(r.x)} ${n(r.y)}`;case"V":return`V${n(r.y)}`;case"H":return`H${e(r.x)}`;default:return""}}).filter(r=>r)}function uh(t){return t*Kt/2}function Eo(t,e,n,r,i){const o=t.selectAll(".verticalLabel").data([1]),s=-1*(i+1)*St*pr;o.enter().append("text").attr("class","verticalLabel").attr("x",s).attr("transform",`rotate(-90, ${s}, ${r})`).attr("y",r).attr("font-family",_t).attr("fill",ot.label).attr("fill-opacity",0).merge(o).text(e.verticalLabel).transition().duration(1e3).attr("fill-opacity",1),t.selectAll(".topLeftLabel").data([1]).enter().append("text").attr("class","topLeftLabel").attr("x",0).attr("y",0).attr("font-family",_t).attr("fill",ot.label),t.selectAll(".topRightLabel").data([1]).enter().append("text").attr("class","topRightLabel").attr("x",n-20).attr("y",0).attr("font-family",_t).attr("fill",ot.label).attr("fill-opacity",1).attr("text-anchor","end");const h=t.selectAll(".bottomRightLabel").data([1]);h.enter().append("text").attr("class","bottomRightLabel").attr("x",n-20).attr("y",r+ae*1.75).attr("font-family",_t).attr("fill",ot.label).attr("text-anchor","end").merge(h).text(e.horizontalLabel).transition().duration(1e3).attr("fill-opacity",.5)}function Je(t){const e={[wr]:{decimal:",",thousands:" ",grouping:[3],currency:[""," K\u010D"]},[is]:{decimal:".",thousands:",",grouping:[3],currency:["\xA3",""]}};return Hi(e[t]||e[wr])}function fh(t,e){if(th(e.chartType)){e.height=Rt(e.chartType)?e.width:e.height;const n=ri(t).attr("class",`renderer ${e.chartType}-chart ${e.orientation}`),r=ih(n,e),i=Qn(e);return bo(i,e,r),Qe(e,t),$o(i,e,t),o=>{const s=Qn(o);r.select(".axis--y").call(wo(s,o)),r.select(".axis--x").call(xo(s,o)),bo(s,o,r),t.querySelector("header")&&t.querySelector("header").remove(),Qe(o,t),t.querySelector("footer")&&t.querySelector("footer").remove(),$o(s,o,t)}}else if(nh(e.chartType)){t.classList.add("table");const n=document.createElement("table");n.className="table";const r=document.createElement("div");r.className="table-wrapper",Qe(e,t),yo(n,e),r.appendChild(n),t.appendChild(r);const i=.75*window.innerWidth,o=Qf(e.tableTitle,r,i);return t.insertBefore(o,r),[...n.querySelectorAll("tr")].forEach(a=>{const c=[...a.children].map(u=>u.getBoundingClientRect().height);a.style.setProperty("--cellHeight",`${Math.max(...c)}px`)}),a=>{yo(n,a)}}}var Yh="";X.colorSets=Wo,X.colors=ot,X.default=fh,Object.defineProperty(X,"__esModule",{value:!0}),X[Symbol.toStringTag]="Module"});
