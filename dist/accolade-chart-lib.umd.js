var Vh=Object.defineProperty,qh=Object.defineProperties;var Bh=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var Bo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable;var Yo=(j,U,nt)=>U in j?Vh(j,U,{enumerable:!0,configurable:!0,writable:!0,value:nt}):j[U]=nt,Q=(j,U)=>{for(var nt in U||(U={}))Bo.call(U,nt)&&Yo(j,nt,U[nt]);if(oe)for(var nt of oe(U))Xo.call(U,nt)&&Yo(j,nt,U[nt]);return j},ft=(j,U)=>qh(j,Bh(U));var ur=(j,U)=>{var nt={};for(var ht in j)Bo.call(j,ht)&&U.indexOf(ht)<0&&(nt[ht]=j[ht]);if(j!=null&&oe)for(var ht of oe(j))U.indexOf(ht)<0&&Xo.call(j,ht)&&(nt[ht]=j[ht]);return nt};(function(j,U){typeof exports=="object"&&typeof module!="undefined"?U(exports):typeof define=="function"&&define.amd?define(["exports"],U):(j=typeof globalThis!="undefined"?globalThis:j||self,U(j["accolade-chart-lib"]={}))})(this,function(j){"use strict";function U(t){return!isNaN(parseFloat(t))&&isFinite(t)}function nt(t){const e=[[]];let n=0;return t.forEach(r=>{n+1===r?e[e.length-1].push(r):e.push([r]),n=r}),e.sort((r,i)=>i.length-r.length),e[0]}function ht(t){return t[Object.keys(t)[Object.keys(t).length-1]]}function se(t){return Object.values(t).reduce((e,{values:n})=>{const r=Math.max(...Object.values(n).map(i=>i.length));return r>e?r:e},0)}function fr({r:t,g:e,b:n,a:r,r2:i=255,g2:o=255,b2:s=255}){return{r:Math.round((1-r)*i+r*t),g:Math.round((1-r)*o+r*e),b:Math.round((1-r)*s+r*n)}}function jo(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}function Go(t){return t!=null}const Qt=1.7556,Wo=.54,Uo=.68*.5,hr=.05,pr=.5,At="'Gotham CE', 'Gotham', sans-serif",Ft=20,ae=Ft*3,dr={bottom:85,right:0,top:Ft,left:0},at={tick:"#dcdee6",label:"#000",line:"#808285",area:"#dcdee6",point:"#fff",doughnutStroke:"#eaf6fe",doughnutCenter:"#28225c"},gr={start:{r:0,g:0,b:0,a:0},end:{r:0,g:0,b:0,a:0},border:{r:0,g:0,b:0,a:0}},Ko=[{r:206,g:2,b:32},{r:227,g:6,b:19},{r:244,g:69,b:0},{r:249,g:116,b:8},{r:245,g:156,b:0},{r:253,g:195,b:0},{r:255,g:222,b:20},{r:65,g:192,b:240},{r:7,g:169,b:219},{r:12,g:139,b:188},{r:0,g:120,b:179},{r:25,g:97,b:155},{r:29,g:68,b:130},{r:21,g:43,b:122},{r:41,g:35,b:92},{r:167,g:169,b:172}].map(t=>({start:{r:255,g:255,b:255,a:1},end:ft(Q({},fr(ft(Q({},t),{a:.5}))),{a:1}),border:ft(Q({},t),{a:1})}));function Zo(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function It(t,e,n,r){this.message=t,this.expected=e,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,It)}Zo(It,Error),It.buildMessage=function(t,e){var n={literal:function(u){return'"'+i(u.text)+'"'},class:function(u){var h="",d;for(d=0;d<u.parts.length;d++)h+=u.parts[d]instanceof Array?o(u.parts[d][0])+"-"+o(u.parts[d][1]):o(u.parts[d]);return"["+(u.inverted?"^":"")+h+"]"},any:function(u){return"any character"},end:function(u){return"end of input"},other:function(u){return u.description}};function r(u){return u.charCodeAt(0).toString(16).toUpperCase()}function i(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+r(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+r(h)})}function o(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(h){return"\\x0"+r(h)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(h){return"\\x"+r(h)})}function s(u){return n[u.type](u)}function a(u){var h=new Array(u.length),d,m;for(d=0;d<u.length;d++)h[d]=s(u[d]);if(h.sort(),h.length>0){for(d=1,m=1;d<h.length;d++)h[d-1]!==h[d]&&(h[m]=h[d],m++);h.length=m}switch(h.length){case 1:return h[0];case 2:return h[0]+" or "+h[1];default:return h.slice(0,-1).join(", ")+", or "+h[h.length-1]}}function c(u){return u?'"'+i(u)+'"':"end of input"}return"Expected "+a(t)+" but "+c(e)+" found."};function Qo(t,e){e=e!==void 0?e:{};var n={},r={svg_path:Oo},i=Oo,o=function(l){if(!l)return[];for(var f=[],y=0;y<l.length;y++)f=f.concat.apply(f,l[y]);var p=f[0];return p&&p.code=="m"&&(delete p.relative,p.code="M"),f},s=function(l,f){return zh(l,f)},a=/^[Mm]/,c=ot(["M","m"],!1,!1),u=function(l,f,y){var p=Kt(l,[f]);return y&&(p=p.concat(Kt(l=="M"?"L":"l",y[1]))),p},h=/^[Zz]/,d=ot(["Z","z"],!1,!1),m=function(){return Kt("Z")},x=/^[Ll]/,w=ot(["L","l"],!1,!1),$=function(l,f){return Kt(l,f)},E=/^[Hh]/,N=ot(["H","h"],!1,!1),b=function(l,f){return Kt(l,f.map(function(y){return{x:y}}))},C=/^[Vv]/,T=ot(["V","v"],!1,!1),O=function(l,f){return Kt(l,f.map(function(y){return{y}}))},P=/^[Cc]/,F=ot(["C","c"],!1,!1),z=function(l,f,y){return{x1:l.x,y1:l.y,x2:f.x,y2:f.y,x:y.x,y:y.y}},I=/^[Ss]/,B=ot(["S","s"],!1,!1),L=function(l,f){return{x2:l.x,y2:l.y,x:f.x,y:f.y}},M=/^[Qq]/,R=ot(["Q","q"],!1,!1),Y=function(l,f){return{x1:l.x,y1:l.y,x:f.x,y:f.y}},G=/^[Tt]/,J=ot(["T","t"],!1,!1),Z=/^[Aa]/,rt=ot(["A","a"],!1,!1),k=function(l,f,y,p,v,A){return{rx:l,ry:f,xAxisRotation:y,largeArc:p,sweep:v,x:A.x,y:A.y}},_=function(l,f){return{x:l,y:f}},S=function(l){return l*1},H=function(l){return l.join("")*1},X=/^[01]/,V=ot(["0","1"],!1,!1),tt=function(l){return l=="1"},it=function(){return""},gt=",",_t=No(",",!1),Wt=function(l){return l.join("")},pn=".",Mo=No(".",!1),dh=/^[eE]/,gh=ot(["e","E"],!1,!1),mh=/^[+\-]/,yh=ot(["+","-"],!1,!1),ko=/^[0-9]/,To=ot([["0","9"]],!1,!1),vh=function(l){return l.join("")},xh=/^[ \t\n\r]/,wh=ot([" ","	",`
`,"\r"],!1,!1),g=0,te=[{line:1,column:1}],bt=0,tr=[],ne;if("startRule"in e){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=r[e.startRule]}function No(l,f){return{type:"literal",text:l,ignoreCase:f}}function ot(l,f,y){return{type:"class",parts:l,inverted:f,ignoreCase:y}}function _h(){return{type:"end"}}function Lo(l){var f=te[l],y;if(f)return f;for(y=l-1;!te[y];)y--;for(f=te[y],f={line:f.line,column:f.column};y<l;)t.charCodeAt(y)===10?(f.line++,f.column=1):f.column++,y++;return te[l]=f,f}function Ro(l,f){var y=Lo(l),p=Lo(f);return{start:{offset:l,line:y.line,column:y.column},end:{offset:f,line:p.line,column:p.column}}}function K(l){g<bt||(g>bt&&(bt=g,tr=[]),tr.push(l))}function bh(l,f,y){return new It(It.buildMessage(l,f),l,f,y)}function Oo(){var l,f,y,p,v;for(l=g,f=[],y=D();y!==n;)f.push(y),y=D();if(f!==n)if(y=Ah(),y===n&&(y=null),y!==n){for(p=[],v=D();v!==n;)p.push(v),v=D();p!==n?(f=o(y),l=f):(g=l,l=n)}else g=l,l=n;else g=l,l=n;return l}function Ah(){var l,f,y,p,v,A;if(l=g,f=nr(),f!==n){for(y=[],p=g,v=[],A=D();A!==n;)v.push(A),A=D();for(v!==n?(A=nr(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);p!==n;){for(y.push(p),p=g,v=[],A=D();A!==n;)v.push(A),A=D();v!==n?(A=nr(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n)}y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function nr(){var l,f,y,p,v,A;if(l=g,f=$h(),f!==n){for(y=[],p=g,v=[],A=D();A!==n;)v.push(A),A=D();for(v!==n?(A=So(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);p!==n;){for(y.push(p),p=g,v=[],A=D();A!==n;)v.push(A),A=D();v!==n?(A=So(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n)}y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function So(){var l;return l=Eh(),l===n&&(l=Ch(),l===n&&(l=Mh(),l===n&&(l=kh(),l===n&&(l=Th(),l===n&&(l=Lh(),l===n&&(l=Oh(),l===n&&(l=Ph(),l===n&&(l=Ih())))))))),l}function $h(){var l,f,y,p,v,A,Zt;if(l=g,a.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(c)),f!==n){for(y=[],p=D();p!==n;)y.push(p),p=D();y!==n?(p=st(),p!==n?(v=g,A=W(),A===n&&(A=null),A!==n?(Zt=Po(),Zt!==n?(A=[A,Zt],v=A):(g=v,v=n)):(g=v,v=n),v===n&&(v=null),v!==n?(f=u(f,p,v),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Eh(){var l,f;return l=g,h.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(d)),f!==n&&(f=m()),l=f,l}function Ch(){var l,f,y,p;if(l=g,x.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(w)),f!==n){for(y=[],p=D();p!==n;)y.push(p),p=D();y!==n?(p=Po(),p!==n?(f=$(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Po(){var l,f,y,p,v,A;if(l=g,f=st(),f!==n){for(y=[],p=g,v=W(),v===n&&(v=null),v!==n?(A=st(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=W(),v===n&&(v=null),v!==n?(A=st(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function Mh(){var l,f,y,p;if(l=g,E.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(N)),f!==n){for(y=[],p=D();p!==n;)y.push(p),p=D();y!==n?(p=Fo(),p!==n?(f=b(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Fo(){var l,f,y,p,v,A;if(l=g,f=Ut(),f!==n){for(y=[],p=g,v=W(),v===n&&(v=null),v!==n?(A=Ut(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=W(),v===n&&(v=null),v!==n?(A=Ut(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function kh(){var l,f,y,p;if(l=g,C.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(T)),f!==n){for(y=[],p=D();p!==n;)y.push(p),p=D();y!==n?(p=Fo(),p!==n?(f=O(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Th(){var l,f,y,p;if(l=g,P.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(F)),f!==n){for(y=[],p=D();p!==n;)y.push(p),p=D();y!==n?(p=Nh(),p!==n?(f=$(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Nh(){var l,f,y,p,v,A;if(l=g,f=er(),f!==n){for(y=[],p=g,v=W(),v===n&&(v=null),v!==n?(A=er(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=W(),v===n&&(v=null),v!==n?(A=er(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function er(){var l,f,y,p,v,A;return l=g,f=st(),f!==n?(y=W(),y===n&&(y=null),y!==n?(p=st(),p!==n?(v=W(),v===n&&(v=null),v!==n?(A=st(),A!==n?(f=z(f,p,A),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n),l}function Lh(){var l,f,y,p;if(l=g,I.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(B)),f!==n){for(y=[],p=D();p!==n;)y.push(p),p=D();y!==n?(p=Rh(),p!==n?(f=$(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Rh(){var l,f,y,p,v,A;if(l=g,f=rr(),f!==n){for(y=[],p=g,v=W(),v===n&&(v=null),v!==n?(A=rr(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=W(),v===n&&(v=null),v!==n?(A=rr(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function rr(){var l,f,y,p;return l=g,f=st(),f!==n?(y=W(),y===n&&(y=null),y!==n?(p=st(),p!==n?(f=L(f,p),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n),l}function Oh(){var l,f,y,p;if(l=g,M.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(R)),f!==n){for(y=[],p=D();p!==n;)y.push(p),p=D();y!==n?(p=Sh(),p!==n?(f=$(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Sh(){var l,f,y,p,v,A;if(l=g,f=ir(),f!==n){for(y=[],p=g,v=W(),v===n&&(v=null),v!==n?(A=ir(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=W(),v===n&&(v=null),v!==n?(A=ir(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function ir(){var l,f,y,p;return l=g,f=st(),f!==n?(y=W(),y===n&&(y=null),y!==n?(p=st(),p!==n?(f=Y(f,p),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n),l}function Ph(){var l,f,y,p;if(l=g,G.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(J)),f!==n){for(y=[],p=D();p!==n;)y.push(p),p=D();y!==n?(p=Fh(),p!==n?(f=$(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Fh(){var l,f,y,p,v,A;if(l=g,f=st(),f!==n){for(y=[],p=g,v=W(),v===n&&(v=null),v!==n?(A=st(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=W(),v===n&&(v=null),v!==n?(A=st(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function Ih(){var l,f,y,p;if(l=g,Z.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(rt)),f!==n){for(y=[],p=D();p!==n;)y.push(p),p=D();y!==n?(p=Dh(),p!==n?(f=$(f,p),l=f):(g=l,l=n)):(g=l,l=n)}else g=l,l=n;return l}function Dh(){var l,f,y,p,v,A;if(l=g,f=or(),f!==n){for(y=[],p=g,v=W(),v===n&&(v=null),v!==n?(A=or(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);p!==n;)y.push(p),p=g,v=W(),v===n&&(v=null),v!==n?(A=or(),A!==n?(v=[v,A],p=v):(g=p,p=n)):(g=p,p=n);y!==n?(f=s(f,y),l=f):(g=l,l=n)}else g=l,l=n;return l}function or(){var l,f,y,p,v,A,Zt,ar,re,lr,ie,cr;return l=g,f=Io(),f!==n?(y=W(),y===n&&(y=null),y!==n?(p=Io(),p!==n?(v=W(),v===n&&(v=null),v!==n?(A=Ut(),A!==n?(Zt=W(),Zt!==n?(ar=Do(),ar!==n?(re=W(),re===n&&(re=null),re!==n?(lr=Do(),lr!==n?(ie=W(),ie===n&&(ie=null),ie!==n?(cr=st(),cr!==n?(f=k(f,p,A,ar,lr,cr),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n)):(g=l,l=n),l}function st(){var l,f,y,p;return l=g,f=Ut(),f!==n?(y=W(),y===n&&(y=null),y!==n?(p=Ut(),p!==n?(f=_(f,p),l=f):(g=l,l=n)):(g=l,l=n)):(g=l,l=n),l}function Io(){var l,f;return l=g,f=zo(),f===n&&(f=Pt()),f!==n&&(f=S(f)),l=f,l}function Ut(){var l,f,y,p;return l=g,f=g,y=sr(),y===n&&(y=null),y!==n?(p=zo(),p!==n?(y=[y,p],f=y):(g=f,f=n)):(g=f,f=n),f===n&&(f=g,y=sr(),y===n&&(y=null),y!==n?(p=Pt(),p!==n?(y=[y,p],f=y):(g=f,f=n)):(g=f,f=n)),f!==n&&(f=H(f)),l=f,l}function Do(){var l,f;return l=g,X.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(V)),f!==n&&(f=tt(f)),l=f,l}function W(){var l,f,y,p,v;if(l=g,f=[],y=D(),y!==n)for(;y!==n;)f.push(y),y=D();else f=n;if(f!==n)if(y=Ho(),y===n&&(y=null),y!==n){for(p=[],v=D();v!==n;)p.push(v),v=D();p!==n?(f=[f,y,p],l=f):(g=l,l=n)}else g=l,l=n;else g=l,l=n;if(l===n){if(l=g,f=g,y=Ho(),y!==n){for(p=[],v=D();v!==n;)p.push(v),v=D();p!==n?(y=[y,p],f=y):(g=f,f=n)}else g=f,f=n;f!==n&&(f=it()),l=f}return l}function Ho(){var l;return t.charCodeAt(g)===44?(l=gt,g++):(l=n,K(_t)),l}function zo(){var l,f,y,p;return l=g,f=g,y=Hh(),y!==n?(p=Vo(),p===n&&(p=null),p!==n?(y=[y,p],f=y):(g=f,f=n)):(g=f,f=n),f===n&&(f=g,y=Pt(),y!==n?(p=Vo(),p!==n?(y=[y,p],f=y):(g=f,f=n)):(g=f,f=n)),f!==n&&(f=Wt(f)),l=f,l}function Hh(){var l,f,y,p,v;return l=g,f=g,y=Pt(),y===n&&(y=null),y!==n?(t.charCodeAt(g)===46?(p=pn,g++):(p=n,K(Mo)),p!==n?(v=Pt(),v!==n?(y=[y,p,v],f=y):(g=f,f=n)):(g=f,f=n)):(g=f,f=n),f===n&&(f=g,y=Pt(),y!==n?(t.charCodeAt(g)===46?(p=pn,g++):(p=n,K(Mo)),p!==n?(y=[y,p],f=y):(g=f,f=n)):(g=f,f=n)),f!==n&&(f=Wt(f)),l=f,l}function Vo(){var l,f,y,p,v;return l=g,f=g,dh.test(t.charAt(g))?(y=t.charAt(g),g++):(y=n,K(gh)),y!==n?(p=sr(),p===n&&(p=null),p!==n?(v=Pt(),v!==n?(y=[y,p,v],f=y):(g=f,f=n)):(g=f,f=n)):(g=f,f=n),f!==n&&(f=Wt(f)),l=f,l}function sr(){var l;return mh.test(t.charAt(g))?(l=t.charAt(g),g++):(l=n,K(yh)),l}function Pt(){var l,f,y;if(l=g,f=[],ko.test(t.charAt(g))?(y=t.charAt(g),g++):(y=n,K(To)),y!==n)for(;y!==n;)f.push(y),ko.test(t.charAt(g))?(y=t.charAt(g),g++):(y=n,K(To));else f=n;return f!==n&&(f=vh(f)),l=f,l}function D(){var l,f;return l=g,xh.test(t.charAt(g))?(f=t.charAt(g),g++):(f=n,K(wh)),f!==n&&(f=it()),l=f,l}function zh(l,f){if(!f)return[l];for(var y=[l],p=0,v=f.length;p<v;p++)y[p+1]=f[p][1];return y}var ee={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var qo in ee)ee[qo.toUpperCase()]=ee[qo];function Kt(l,f){f||(f=[{}]);for(var y=f.length;y--;){var p={code:l,command:ee[l]};l==l.toLowerCase()&&(p.relative=!0);for(var v in f[y])p[v]=f[y][v];f[y]=p}return f}if(ne=i(),ne!==n&&g===t.length)return ne;throw ne!==n&&g<t.length&&K(_h()),bh(tr,bt<t.length?t.charAt(bt):null,bt<t.length?Ro(bt,bt+1):Ro(bt,bt))}var Jo={SyntaxError:It,parse:Qo},dn=Jo.parse;dn.parseSVG=dn,dn.makeAbsolute=ts;var mr=dn;function ts(t){var e,n={x:0,y:0},r={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return t.forEach(function(i){i.command==="moveto"&&(e=i),i.x0=n.x,i.y0=n.y;for(var o in r)o in i&&(i[o]+=i.relative?i[r[o]]:0);"x"in i||(i.x=n.x),"y"in i||(i.y=n.y),i.relative=!1,i.code=i.code.toUpperCase(),i.command=="closepath"&&(i.x=e.x,i.y=e.y),n=i}),t}const yr="line",vr="bar",xr="doughnut",ns="table",es="originalSort",rs="keySort",is="valueSort",os="desc",wr="cs",ss="en";var as="[object Function]",ls=/^\[object .+?Constructor\]$/;function cs(t){return!!t&&typeof t=="object"}var _r=Object.prototype,br=Function.prototype.toString,us=_r.hasOwnProperty,fs=_r.toString,hs=RegExp("^"+br.call(us).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ps(t,e){var n=t==null?void 0:t[e];return ms(n)?n:void 0}function ds(t){return gs(t)&&fs.call(t)==as}function gs(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ms(t){return t==null?!1:ds(t)?hs.test(br.call(t)):cs(t)&&ls.test(t)}var ys=ps,vs=9007199254740991,xs="[object Arguments]",ws="[object Function]",_s="[object GeneratorFunction]",le=Object.prototype,bs=le.hasOwnProperty,Ar=le.toString,As=le.propertyIsEnumerable;function $s(t){return Cs(t)&&bs.call(t,"callee")&&(!As.call(t,"callee")||Ar.call(t)==xs)}function Es(t){return t!=null&&ks(t.length)&&!Ms(t)}function Cs(t){return Ns(t)&&Es(t)}function Ms(t){var e=Ts(t)?Ar.call(t):"";return e==ws||e==_s}function ks(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vs}function Ts(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Ns(t){return!!t&&typeof t=="object"}var Ls=$s,Rs="[object Array]",Os="[object Function]",Ss=/^\[object .+?Constructor\]$/;function $r(t){return!!t&&typeof t=="object"}var Er=Object.prototype,Cr=Function.prototype.toString,Ps=Er.hasOwnProperty,Mr=Er.toString,Fs=RegExp("^"+Cr.call(Ps).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Is=Hs(Array,"isArray"),Ds=9007199254740991;function Hs(t,e){var n=t==null?void 0:t[e];return Xs(n)?n:void 0}function zs(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ds}var Vs=Is||function(t){return $r(t)&&zs(t.length)&&Mr.call(t)==Rs};function qs(t){return Bs(t)&&Mr.call(t)==Os}function Bs(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Xs(t){return t==null?!1:qs(t)?Fs.test(Cr.call(t)):$r(t)&&Ss.test(t)}var Ys=Vs,js=ys,kr=Ls,Tr=Ys,Gs=/^\d+$/,Ws=Object.prototype,Nr=Ws.hasOwnProperty,Lr=js(Object,"keys"),Rr=9007199254740991;function Us(t){return function(e){return e==null?void 0:e[t]}}var Ks=Us("length");function Zs(t){return t!=null&&ce(Ks(t))}function Or(t,e){return t=typeof t=="number"||Gs.test(t)?+t:-1,e=e==null?Rr:e,t>-1&&t%1==0&&t<e}function ce(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Rr}function Sr(t){for(var e=Js(t),n=e.length,r=n&&t.length,i=!!r&&ce(r)&&(Tr(t)||kr(t)),o=-1,s=[];++o<n;){var a=e[o];(i&&Or(a,r)||Nr.call(t,a))&&s.push(a)}return s}function Pr(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}var Qs=Lr?function(t){var e=t==null?void 0:t.constructor;return typeof e=="function"&&e.prototype===t||typeof t!="function"&&Zs(t)?Sr(t):Pr(t)?Lr(t):[]}:Sr;function Js(t){if(t==null)return[];Pr(t)||(t=Object(t));var e=t.length;e=e&&ce(e)&&(Tr(t)||kr(t))&&e||0;for(var n=t.constructor,r=-1,i=typeof n=="function"&&n.prototype===t,o=Array(e),s=e>0;++r<e;)o[r]=r+"";for(var a in t)!(s&&Or(a,e))&&!(a=="constructor"&&(i||!Nr.call(t,a)))&&o.push(a);return o}var ta=Qs,na=ta;function ea(t){return ra(t)?t:Object(t)}function ra(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ia(t){t=ea(t);for(var e=-1,n=na(t),r=n.length,i=Array(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}var Dt=ia;function ue(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fr(t){let e=t,n=t,r=t;t.length!==2&&(e=(a,c)=>t(a)-c,n=ue,r=(a,c)=>ue(t(a),c));function i(a,c,u=0,h=a.length){if(u<h){if(n(c,c)!==0)return h;do{const d=u+h>>>1;r(a[d],c)<0?u=d+1:h=d}while(u<h)}return u}function o(a,c,u=0,h=a.length){if(u<h){if(n(c,c)!==0)return h;do{const d=u+h>>>1;r(a[d],c)<=0?u=d+1:h=d}while(u<h)}return u}function s(a,c,u=0,h=a.length){const d=i(a,c,u,h-1);return d>u&&e(a[d-1],c)>-e(a[d],c)?d-1:d}return{left:i,center:s,right:o}}function oa(t){return t===null?NaN:+t}const sa=Fr(ue).right;Fr(oa).center;var aa=sa;class Ir extends Map{constructor(e,n=ua){super();if(Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Dr(this,e))}has(e){return super.has(Dr(this,e))}set(e,n){return super.set(la(this,e),n)}delete(e){return super.delete(ca(this,e))}}function Dr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function la({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ca({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ua(t){return t!==null&&typeof t=="object"?t.valueOf():t}var fe=Math.sqrt(50),he=Math.sqrt(10),pe=Math.sqrt(2);function fa(t,e,n){var r,i=-1,o,s,a;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(a=Hr(t,e,n))===0||!isFinite(a))return[];if(a>0){let c=Math.round(t/a),u=Math.round(e/a);for(c*a<t&&++c,u*a>e&&--u,s=new Array(o=u-c+1);++i<o;)s[i]=(c+i)*a}else{a=-a;let c=Math.round(t*a),u=Math.round(e*a);for(c/a<t&&++c,u/a>e&&--u,s=new Array(o=u-c+1);++i<o;)s[i]=(c+i)/a}return r&&s.reverse(),s}function Hr(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=fe?10:o>=he?5:o>=pe?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=fe?10:o>=he?5:o>=pe?2:1)}function ha(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=fe?i*=10:o>=he?i*=5:o>=pe&&(i*=2),e<t?-i:i}function pa(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function da(t){return t}var de=1,gn=2,ge=3,mn=4,zr=1e-6;function ga(t){return"translate("+t+",0)"}function ma(t){return"translate(0,"+t+")"}function ya(t){return e=>+t(e)}function va(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function xa(){return!this.__axis}function Vr(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,c=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,u=t===de||t===mn?-1:1,h=t===mn||t===gn?"x":"y",d=t===de||t===ge?ga:ma;function m(x){var w=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,$=i==null?e.tickFormat?e.tickFormat.apply(e,n):da:i,E=Math.max(o,0)+a,N=e.range(),b=+N[0]+c,C=+N[N.length-1]+c,T=(e.bandwidth?va:ya)(e.copy(),c),O=x.selection?x.selection():x,P=O.selectAll(".domain").data([null]),F=O.selectAll(".tick").data(w,e).order(),z=F.exit(),I=F.enter().append("g").attr("class","tick"),B=F.select("line"),L=F.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(I),B=B.merge(I.append("line").attr("stroke","currentColor").attr(h+"2",u*o)),L=L.merge(I.append("text").attr("fill","currentColor").attr(h,u*E).attr("dy",t===de?"0em":t===ge?"0.71em":"0.32em")),x!==O&&(P=P.transition(x),F=F.transition(x),B=B.transition(x),L=L.transition(x),z=z.transition(x).attr("opacity",zr).attr("transform",function(M){return isFinite(M=T(M))?d(M+c):this.getAttribute("transform")}),I.attr("opacity",zr).attr("transform",function(M){var R=this.parentNode.__axis;return d((R&&isFinite(R=R(M))?R:T(M))+c)})),z.remove(),P.attr("d",t===mn||t===gn?s?"M"+u*s+","+b+"H"+c+"V"+C+"H"+u*s:"M"+c+","+b+"V"+C:s?"M"+b+","+u*s+"V"+c+"H"+C+"V"+u*s:"M"+b+","+c+"H"+C),F.attr("opacity",1).attr("transform",function(M){return d(T(M)+c)}),B.attr(h+"2",u*o),L.attr(h,u*E).text($),O.filter(xa).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===gn?"start":t===mn?"end":"middle"),O.each(function(){this.__axis=T})}return m.scale=function(x){return arguments.length?(e=x,m):e},m.ticks=function(){return n=Array.from(arguments),m},m.tickArguments=function(x){return arguments.length?(n=x==null?[]:Array.from(x),m):n.slice()},m.tickValues=function(x){return arguments.length?(r=x==null?null:Array.from(x),m):r&&r.slice()},m.tickFormat=function(x){return arguments.length?(i=x,m):i},m.tickSize=function(x){return arguments.length?(o=s=+x,m):o},m.tickSizeInner=function(x){return arguments.length?(o=+x,m):o},m.tickSizeOuter=function(x){return arguments.length?(s=+x,m):s},m.tickPadding=function(x){return arguments.length?(a=+x,m):a},m.offset=function(x){return arguments.length?(c=+x,m):c},m}function wa(t){return Vr(gn,t)}function _a(t){return Vr(ge,t)}var ba={value:()=>{}};function qr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new yn(n)}function yn(t){this._=t}function Aa(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}yn.prototype=qr.prototype={constructor:yn,on:function(t,e){var n=this._,r=Aa(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=$a(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Br(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Br(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function $a(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Br(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ba,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var me="http://www.w3.org/1999/xhtml",Xr={svg:"http://www.w3.org/2000/svg",xhtml:me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Xr.hasOwnProperty(e)?{space:Xr[e],local:t}:t}function Ea(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===me&&e.documentElement.namespaceURI===me?e.createElement(t):e.createElementNS(n,t)}}function Ca(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Yr(t){var e=vn(t);return(e.local?Ca:Ea)(e)}function Ma(){}function ye(t){return t==null?Ma:function(){return this.querySelector(t)}}function ka(t){typeof t!="function"&&(t=ye(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),c,u,h=0;h<s;++h)(c=o[h])&&(u=t.call(c,c.__data__,h,o))&&("__data__"in c&&(u.__data__=c.__data__),a[h]=u);return new ct(r,this._parents)}function Ta(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Na(){return[]}function jr(t){return t==null?Na:function(){return this.querySelectorAll(t)}}function La(t){return function(){return Ta(t.apply(this,arguments))}}function Ra(t){typeof t=="function"?t=La(t):t=jr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(r.push(t.call(c,c.__data__,u,s)),i.push(c));return new ct(r,i)}function Gr(t){return function(){return this.matches(t)}}function Wr(t){return function(e){return e.matches(t)}}var Oa=Array.prototype.find;function Sa(t){return function(){return Oa.call(this.children,t)}}function Pa(){return this.firstElementChild}function Fa(t){return this.select(t==null?Pa:Sa(typeof t=="function"?t:Wr(t)))}var Ia=Array.prototype.filter;function Da(){return Array.from(this.children)}function Ha(t){return function(){return Ia.call(this.children,t)}}function za(t){return this.selectAll(t==null?Da:Ha(typeof t=="function"?t:Wr(t)))}function Va(t){typeof t!="function"&&(t=Gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new ct(r,this._parents)}function Ur(t){return new Array(t.length)}function qa(){return new ct(this._enter||this._groups.map(Ur),this._parents)}function xn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}xn.prototype={constructor:xn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ba(t){return function(){return t}}function Xa(t,e,n,r,i,o){for(var s=0,a,c=e.length,u=o.length;s<u;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new xn(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function Ya(t,e,n,r,i,o,s){var a,c,u=new Map,h=e.length,d=o.length,m=new Array(h),x;for(a=0;a<h;++a)(c=e[a])&&(m[a]=x=s.call(c,c.__data__,a,e)+"",u.has(x)?i[a]=c:u.set(x,c));for(a=0;a<d;++a)x=s.call(t,o[a],a,o)+"",(c=u.get(x))?(r[a]=c,c.__data__=o[a],u.delete(x)):n[a]=new xn(t,o[a]);for(a=0;a<h;++a)(c=e[a])&&u.get(m[a])===c&&(i[a]=c)}function ja(t){return t.__data__}function Ga(t,e){if(!arguments.length)return Array.from(this,ja);var n=e?Ya:Xa,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ba(t));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var h=r[u],d=i[u],m=d.length,x=Wa(t.call(h,h&&h.__data__,u,r)),w=x.length,$=a[u]=new Array(w),E=s[u]=new Array(w),N=c[u]=new Array(m);n(h,d,$,E,N,x,e);for(var b=0,C=0,T,O;b<w;++b)if(T=$[b]){for(b>=C&&(C=b+1);!(O=E[C])&&++C<w;);T._next=O||null}}return s=new ct(s,r),s._enter=a,s._exit=c,s}function Wa(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ua(){return new ct(this._exit||this._groups.map(Ur),this._parents)}function Ka(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Za(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u=n[c],h=r[c],d=u.length,m=a[c]=new Array(d),x,w=0;w<d;++w)(x=u[w]||h[w])&&(m[w]=x);for(;c<i;++c)a[c]=n[c];return new ct(a,this._parents)}function Qa(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Ja(t){t||(t=tl);function e(d,m){return d&&m?t(d.__data__,m.__data__):!d-!m}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,c=i[o]=new Array(a),u,h=0;h<a;++h)(u=s[h])&&(c[h]=u);c.sort(e)}return new ct(i,this._parents).order()}function tl(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function nl(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function el(){return Array.from(this)}function rl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function il(){let t=0;for(const e of this)++t;return t}function ol(){return!this.node()}function sl(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function al(t){return function(){this.removeAttribute(t)}}function ll(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cl(t,e){return function(){this.setAttribute(t,e)}}function ul(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function fl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function hl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function pl(t,e){var n=vn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ll:al:typeof e=="function"?n.local?hl:fl:n.local?ul:cl)(n,e))}function Kr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function dl(t){return function(){this.style.removeProperty(t)}}function gl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ml(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function yl(t,e,n){return arguments.length>1?this.each((e==null?dl:typeof e=="function"?ml:gl)(t,e,n==null?"":n)):Ht(this.node(),t)}function Ht(t,e){return t.style.getPropertyValue(e)||Kr(t).getComputedStyle(t,null).getPropertyValue(e)}function vl(t){return function(){delete this[t]}}function xl(t,e){return function(){this[t]=e}}function wl(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function _l(t,e){return arguments.length>1?this.each((e==null?vl:typeof e=="function"?wl:xl)(t,e)):this.node()[t]}function Zr(t){return t.trim().split(/^|\s+/)}function ve(t){return t.classList||new Qr(t)}function Qr(t){this._node=t,this._names=Zr(t.getAttribute("class")||"")}Qr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Jr(t,e){for(var n=ve(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ti(t,e){for(var n=ve(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function bl(t){return function(){Jr(this,t)}}function Al(t){return function(){ti(this,t)}}function $l(t,e){return function(){(e.apply(this,arguments)?Jr:ti)(this,t)}}function El(t,e){var n=Zr(t+"");if(arguments.length<2){for(var r=ve(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?$l:e?bl:Al)(n,e))}function Cl(){this.textContent=""}function Ml(t){return function(){this.textContent=t}}function kl(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Tl(t){return arguments.length?this.each(t==null?Cl:(typeof t=="function"?kl:Ml)(t)):this.node().textContent}function Nl(){this.innerHTML=""}function Ll(t){return function(){this.innerHTML=t}}function Rl(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Ol(t){return arguments.length?this.each(t==null?Nl:(typeof t=="function"?Rl:Ll)(t)):this.node().innerHTML}function Sl(){this.nextSibling&&this.parentNode.appendChild(this)}function Pl(){return this.each(Sl)}function Fl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Il(){return this.each(Fl)}function Dl(t){var e=typeof t=="function"?t:Yr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Hl(){return null}function zl(t,e){var n=typeof t=="function"?t:Yr(t),r=e==null?Hl:typeof e=="function"?e:ye(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Vl(){var t=this.parentNode;t&&t.removeChild(this)}function ql(){return this.each(Vl)}function Bl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xl(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Yl(t){return this.select(t?Xl:Bl)}function jl(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Gl(t){return function(e){t.call(this,e,this.__data__)}}function Wl(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ul(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Kl(t,e,n){return function(){var r=this.__on,i,o=Gl(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Zl(t,e,n){var r=Wl(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,h;c<u;++c)for(i=0,h=a[c];i<o;++i)if((s=r[i]).type===h.type&&s.name===h.name)return h.value}return}for(a=e?Kl:Ul,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function ni(t,e,n){var r=Kr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ql(t,e){return function(){return ni(this,t,e)}}function Jl(t,e){return function(){return ni(this,t,e.apply(this,arguments))}}function tc(t,e){return this.each((typeof e=="function"?Jl:Ql)(t,e))}function*nc(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var ei=[null];function ct(t,e){this._groups=t,this._parents=e}function zt(){return new ct([[document.documentElement]],ei)}function ec(){return this}ct.prototype=zt.prototype={constructor:ct,select:ka,selectAll:Ra,selectChild:Fa,selectChildren:za,filter:Va,data:Ga,enter:qa,exit:Ua,join:Ka,merge:Za,selection:ec,order:Qa,sort:Ja,call:nl,nodes:el,node:rl,size:il,empty:ol,each:sl,attr:pl,style:yl,property:_l,classed:El,text:Tl,html:Ol,raise:Pl,lower:Il,append:Dl,insert:zl,remove:ql,clone:Yl,datum:jl,on:Zl,dispatch:tc,[Symbol.iterator]:nc};function ri(t){return typeof t=="string"?new ct([[document.querySelector(t)]],[document.documentElement]):new ct([[t]],ei)}function xe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ii(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jt(){}var tn=.7,wn=1/tn,Vt="\\s*([+-]?\\d+)\\s*",nn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rc=/^#([0-9a-f]{3,8})$/,ic=new RegExp("^rgb\\("+[Vt,Vt,Vt]+"\\)$"),oc=new RegExp("^rgb\\("+[mt,mt,mt]+"\\)$"),sc=new RegExp("^rgba\\("+[Vt,Vt,Vt,nn]+"\\)$"),ac=new RegExp("^rgba\\("+[mt,mt,mt,nn]+"\\)$"),lc=new RegExp("^hsl\\("+[nn,mt,mt]+"\\)$"),cc=new RegExp("^hsla\\("+[nn,mt,mt,nn]+"\\)$"),oi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xe(Jt,Tt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:si,formatHex:si,formatHsl:uc,formatRgb:ai,toString:ai});function si(){return this.rgb().formatHex()}function uc(){return hi(this).formatHsl()}function ai(){return this.rgb().formatRgb()}function Tt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rc.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?li(e):n===3?new ut(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?_n(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?_n(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ic.exec(t))?new ut(e[1],e[2],e[3],1):(e=oc.exec(t))?new ut(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sc.exec(t))?_n(e[1],e[2],e[3],e[4]):(e=ac.exec(t))?_n(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lc.exec(t))?fi(e[1],e[2]/100,e[3]/100,1):(e=cc.exec(t))?fi(e[1],e[2]/100,e[3]/100,e[4]):oi.hasOwnProperty(t)?li(oi[t]):t==="transparent"?new ut(NaN,NaN,NaN,0):null}function li(t){return new ut(t>>16&255,t>>8&255,t&255,1)}function _n(t,e,n,r){return r<=0&&(t=e=n=NaN),new ut(t,e,n,r)}function fc(t){return t instanceof Jt||(t=Tt(t)),t?(t=t.rgb(),new ut(t.r,t.g,t.b,t.opacity)):new ut}function we(t,e,n,r){return arguments.length===1?fc(t):new ut(t,e,n,r==null?1:r)}function ut(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xe(ut,we,ii(Jt,{brighter:function(t){return t=t==null?wn:Math.pow(wn,t),new ut(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?tn:Math.pow(tn,t),new ut(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ci,formatHex:ci,formatRgb:ui,toString:ui}));function ci(){return"#"+_e(this.r)+_e(this.g)+_e(this.b)}function ui(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function _e(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function fi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yt(t,e,n,r)}function hi(t){if(t instanceof yt)return new yt(t.h,t.s,t.l,t.opacity);if(t instanceof Jt||(t=Tt(t)),!t)return new yt;if(t instanceof yt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new yt(s,a,c,t.opacity)}function hc(t,e,n,r){return arguments.length===1?hi(t):new yt(t,e,n,r==null?1:r)}function yt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xe(yt,hc,ii(Jt,{brighter:function(t){return t=t==null?wn:Math.pow(wn,t),new yt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?tn:Math.pow(tn,t),new yt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ut(be(t>=240?t-240:t+120,i,r),be(t,i,r),be(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function be(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var Ae=t=>()=>t;function pc(t,e){return function(n){return t+n*e}}function dc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gc(t){return(t=+t)==1?pi:function(e,n){return n-e?dc(e,n,t):Ae(isNaN(e)?n:e)}}function pi(t,e){var n=e-t;return n?pc(t,n):Ae(isNaN(t)?e:t)}var bn=function t(e){var n=gc(e);function r(i,o){var s=n((i=we(i)).r,(o=we(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=pi(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=a(h),i.b=c(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function di(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function gi(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function An(t,e){return(gi(e)?di:mi)(t,e)}function mi(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=$n(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function mc(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function pt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yc(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=$n(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var $e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ee=new RegExp($e.source,"g");function vc(t){return function(){return t}}function xc(t){return function(e){return t(e)+""}}function yi(t,e){var n=$e.lastIndex=Ee.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(r=$e.exec(t))&&(i=Ee.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:pt(r,i)})),n=Ee.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?xc(c[0].x):vc(e):(e=c.length,function(u){for(var h=0,d;h<e;++h)a[(d=c[h]).i]=d.x(u);return a.join("")})}function $n(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ae(e):(n==="number"?pt:n==="string"?(r=Tt(e))?(e=r,bn):yi:e instanceof Tt?bn:e instanceof Date?mc:gi(e)?di:Array.isArray(e)?mi:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yc:pt)(t,e)}function wc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var vi=180/Math.PI,Ce={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xi(t,e,n,r,i,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*vi,skewX:Math.atan(c)*vi,scaleX:s,scaleY:a}}var En;function _c(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ce:xi(e.a,e.b,e.c,e.d,e.e,e.f)}function bc(t){return t==null||(En||(En=document.createElementNS("http://www.w3.org/2000/svg","g")),En.setAttribute("transform",t),!(t=En.transform.baseVal.consolidate()))?Ce:(t=t.matrix,xi(t.a,t.b,t.c,t.d,t.e,t.f))}function wi(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,h,d,m,x,w){if(u!==d||h!==m){var $=x.push("translate(",null,e,null,n);w.push({i:$-4,x:pt(u,d)},{i:$-2,x:pt(h,m)})}else(d||m)&&x.push("translate("+d+e+m+n)}function s(u,h,d,m){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),m.push({i:d.push(i(d)+"rotate(",null,r)-2,x:pt(u,h)})):h&&d.push(i(d)+"rotate("+h+r)}function a(u,h,d,m){u!==h?m.push({i:d.push(i(d)+"skewX(",null,r)-2,x:pt(u,h)}):h&&d.push(i(d)+"skewX("+h+r)}function c(u,h,d,m,x,w){if(u!==d||h!==m){var $=x.push(i(x)+"scale(",null,",",null,")");w.push({i:$-4,x:pt(u,d)},{i:$-2,x:pt(h,m)})}else(d!==1||m!==1)&&x.push(i(x)+"scale("+d+","+m+")")}return function(u,h){var d=[],m=[];return u=t(u),h=t(h),o(u.translateX,u.translateY,h.translateX,h.translateY,d,m),s(u.rotate,h.rotate,d,m),a(u.skewX,h.skewX,d,m),c(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,m),u=h=null,function(x){for(var w=-1,$=m.length,E;++w<$;)d[(E=m[w]).i]=E.x(x);return d.join("")}}}var Ac=wi(_c,"px, ","px)","deg)"),$c=wi(bc,", ",")",")"),qt=0,en=0,rn=0,_i=1e3,Cn,on,Mn=0,Nt=0,kn=0,sn=typeof performance=="object"&&performance.now?performance:Date,bi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Me(){return Nt||(bi(Ec),Nt=sn.now()+kn)}function Ec(){Nt=0}function Tn(){this._call=this._time=this._next=null}Tn.prototype=Ai.prototype={constructor:Tn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Me():+n)+(e==null?0:+e),!this._next&&on!==this&&(on?on._next=this:Cn=this,on=this),this._call=t,this._time=n,ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,ke())}};function Ai(t,e,n){var r=new Tn;return r.restart(t,e,n),r}function Cc(){Me(),++qt;for(var t=Cn,e;t;)(e=Nt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--qt}function $i(){Nt=(Mn=sn.now())+kn,qt=en=0;try{Cc()}finally{qt=0,kc(),Nt=0}}function Mc(){var t=sn.now(),e=t-Mn;e>_i&&(kn-=e,Mn=t)}function kc(){for(var t,e=Cn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Cn=n);on=t,ke(r)}function ke(t){if(!qt){en&&(en=clearTimeout(en));var e=t-Nt;e>24?(t<1/0&&(en=setTimeout($i,t-sn.now()-kn)),rn&&(rn=clearInterval(rn))):(rn||(Mn=sn.now(),rn=setInterval(Mc,_i)),qt=1,bi($i))}}function Ei(t,e,n){var r=new Tn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Tc=qr("start","end","cancel","interrupt"),Nc=[],Ci=0,Mi=1,Te=2,Nn=3,ki=4,Ne=5,Ln=6;function Rn(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Lc(t,n,{name:e,index:r,group:i,on:Tc,tween:Nc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ci})}function Le(t,e){var n=dt(t,e);if(n.state>Ci)throw new Error("too late; already scheduled");return n}function vt(t,e){var n=dt(t,e);if(n.state>Nn)throw new Error("too late; already running");return n}function dt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Lc(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Ai(o,0,n.time);function o(u){n.state=Mi,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var h,d,m,x;if(n.state!==Mi)return c();for(h in r)if(x=r[h],x.name===n.name){if(x.state===Nn)return Ei(s);x.state===ki?(x.state=Ln,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[h]):+h<e&&(x.state=Ln,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[h])}if(Ei(function(){n.state===Nn&&(n.state=ki,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Te,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Te){for(n.state=Nn,i=new Array(m=n.tween.length),h=0,d=-1;h<m;++h)(x=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=x);i.length=d+1}}function a(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Ne,1),d=-1,m=i.length;++d<m;)i[d].call(t,h);n.state===Ne&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=Ln,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Rc(t,e){var n=t.__transition,r,i,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Te&&r.state<Ne,r.state=Ln,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Oc(t){return this.each(function(){Rc(this,t)})}function Sc(t,e){var n,r;return function(){var i=vt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Pc(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=vt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function Fc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=dt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Sc:Pc)(n,t,e))}function Re(t,e,n){var r=t._id;return t.each(function(){var i=vt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return dt(i,r).value[e]}}function Ti(t,e){var n;return(typeof e=="number"?pt:e instanceof Tt?bn:(n=Tt(e))?(e=n,bn):yi)(t,e)}function Ic(t){return function(){this.removeAttribute(t)}}function Dc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function zc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Vc(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function qc(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function Bc(t,e){var n=vn(t),r=n==="transform"?$c:Ti;return this.attrTween(t,typeof e=="function"?(n.local?qc:Vc)(n,r,Re(this,"attr."+t,e)):e==null?(n.local?Dc:Ic)(n):(n.local?zc:Hc)(n,r,e))}function Xc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Yc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function jc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Yc(t,o)),n}return i._value=e,i}function Gc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Xc(t,o)),n}return i._value=e,i}function Wc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=vn(t);return this.tween(n,(r.local?jc:Gc)(r,e))}function Uc(t,e){return function(){Le(this,t).delay=+e.apply(this,arguments)}}function Kc(t,e){return e=+e,function(){Le(this,t).delay=e}}function Zc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Uc:Kc)(e,t)):dt(this.node(),e).delay}function Qc(t,e){return function(){vt(this,t).duration=+e.apply(this,arguments)}}function Jc(t,e){return e=+e,function(){vt(this,t).duration=e}}function tu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Qc:Jc)(e,t)):dt(this.node(),e).duration}function nu(t,e){if(typeof e!="function")throw new Error;return function(){vt(this,t).ease=e}}function eu(t){var e=this._id;return arguments.length?this.each(nu(e,t)):dt(this.node(),e).ease}function ru(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;vt(this,t).ease=n}}function iu(t){if(typeof t!="function")throw new Error;return this.each(ru(this._id,t))}function ou(t){typeof t!="function"&&(t=Gr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&t.call(c,c.__data__,u,o)&&a.push(c);return new $t(r,this._parents,this._name,this._id)}function su(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c=e[a],u=n[a],h=c.length,d=s[a]=new Array(h),m,x=0;x<h;++x)(m=c[x]||u[x])&&(d[x]=m);for(;a<r;++a)s[a]=e[a];return new $t(s,this._parents,this._name,this._id)}function au(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function lu(t,e,n){var r,i,o=au(e)?Le:vt;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function cu(t,e){var n=this._id;return arguments.length<2?dt(this.node(),n).on.on(t):this.each(lu(n,t,e))}function uu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function fu(){return this.on("end.remove",uu(this._id))}function hu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ye(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],c=a.length,u=o[s]=new Array(c),h,d,m=0;m<c;++m)(h=a[m])&&(d=t.call(h,h.__data__,m,a))&&("__data__"in h&&(d.__data__=h.__data__),u[m]=d,Rn(u[m],e,n,m,u,dt(h,n)));return new $t(o,this._parents,e,n)}function pu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=jr(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c=r[a],u=c.length,h,d=0;d<u;++d)if(h=c[d]){for(var m=t.call(h,h.__data__,d,c),x,w=dt(h,n),$=0,E=m.length;$<E;++$)(x=m[$])&&Rn(x,e,n,$,m,w);o.push(m),s.push(h)}return new $t(o,s,e,n)}var du=zt.prototype.constructor;function gu(){return new du(this._groups,this._parents)}function mu(t,e){var n,r,i;return function(){var o=Ht(this,t),s=(this.style.removeProperty(t),Ht(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function Ni(t){return function(){this.style.removeProperty(t)}}function yu(t,e,n){var r,i=n+"",o;return function(){var s=Ht(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function vu(t,e,n){var r,i,o;return function(){var s=Ht(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),Ht(this,t))),s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a))}}function xu(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var c=vt(this,t),u=c.on,h=c.value[o]==null?a||(a=Ni(e)):void 0;(u!==n||i!==h)&&(r=(n=u).copy()).on(s,i=h),c.on=r}}function wu(t,e,n){var r=(t+="")==="transform"?Ac:Ti;return e==null?this.styleTween(t,mu(t,r)).on("end.style."+t,Ni(t)):typeof e=="function"?this.styleTween(t,vu(t,r,Re(this,"style."+t,e))).each(xu(this._id,t)):this.styleTween(t,yu(t,r,e),n).on("end.style."+t,null)}function _u(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function bu(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&_u(t,s,n)),r}return o._value=e,o}function Au(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,bu(t,e,n==null?"":n))}function $u(t){return function(){this.textContent=t}}function Eu(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Cu(t){return this.tween("text",typeof t=="function"?Eu(Re(this,"text",t)):$u(t==null?"":t+""))}function Mu(t){return function(e){this.textContent=t.call(this,e)}}function ku(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Mu(i)),e}return r._value=t,r}function Tu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,ku(t))}function Nu(){for(var t=this._name,e=this._id,n=Li(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var h=dt(c,e);Rn(c,t,n,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new $t(r,this._parents,t,n)}function Lu(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i==0&&o()}};n.each(function(){var u=vt(this,r),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),u.on=e}),i===0&&o()})}var Ru=0;function $t(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function On(t){return zt().transition(t)}function Li(){return++Ru}var Et=zt.prototype;$t.prototype=On.prototype={constructor:$t,select:hu,selectAll:pu,selectChild:Et.selectChild,selectChildren:Et.selectChildren,filter:ou,merge:su,selection:gu,transition:Nu,call:Et.call,nodes:Et.nodes,node:Et.node,size:Et.size,empty:Et.empty,each:Et.each,on:cu,attr:Bc,attrTween:Wc,style:wu,styleTween:Au,text:Cu,textTween:Tu,remove:fu,tween:Fc,delay:Zc,duration:tu,ease:eu,easeVarying:iu,end:Lu,[Symbol.iterator]:Et[Symbol.iterator]};function Ou(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Su={time:null,delay:0,duration:250,ease:Ou};function Pu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Fu(t){var e,n;t instanceof $t?(e=t._id,t=t._name):(e=Li(),(n=Su).time=Me(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&Rn(c,t,e,u,s,n||Pu(c,e));return new $t(r,this._parents,t,e)}zt.prototype.interrupt=Oc,zt.prototype.transition=Fu;const Oe=Math.PI,Se=2*Oe,Lt=1e-6,Iu=Se-Lt;function Pe(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Sn(){return new Pe}Pe.prototype=Sn.prototype={constructor:Pe,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,a=n-t,c=r-e,u=o-t,h=s-e,d=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Lt)if(!(Math.abs(h*a-c*u)>Lt)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var m=n-o,x=r-s,w=a*a+c*c,$=m*m+x*x,E=Math.sqrt(w),N=Math.sqrt(d),b=i*Math.tan((Oe-Math.acos((w+d-$)/(2*E*N)))/2),C=b/N,T=b/E;Math.abs(C-1)>Lt&&(this._+="L"+(t+C*u)+","+(e+C*h)),this._+="A"+i+","+i+",0,0,"+ +(h*m>u*x)+","+(this._x1=t+T*a)+","+(this._y1=e+T*c)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var s=n*Math.cos(r),a=n*Math.sin(r),c=t+s,u=e+a,h=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+u:(Math.abs(this._x1-c)>Lt||Math.abs(this._y1-u)>Lt)&&(this._+="L"+c+","+u),!!n&&(d<0&&(d=d%Se+Se),d>Iu?this._+="A"+n+","+n+",0,1,"+h+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+h+","+(this._x1=c)+","+(this._y1=u):d>Lt&&(this._+="A"+n+","+n+",0,"+ +(d>=Oe)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Du(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Pn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bt(t){return t=Pn(Math.abs(t)),t?t[1]:NaN}function Hu(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function zu(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fn(t){if(!(e=Vu.exec(t)))throw new Error("invalid format: "+t);var e;return new Fe({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fn.prototype=Fe.prototype;function Fe(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Fe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qu(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ri;function Bu(t,e){var n=Pn(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ri=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pn(t,Math.max(0,e+o-1))[0]}function Oi(t,e){var n=Pn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Si={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Du,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Oi(t*100,e),r:Oi,s:Bu,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Pi(t){return t}var Fi=Array.prototype.map,Ii=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Xu(t){var e=t.grouping===void 0||t.thousands===void 0?Pi:Hu(Fi.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Pi:zu(Fi.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Fn(d);var m=d.fill,x=d.align,w=d.sign,$=d.symbol,E=d.zero,N=d.width,b=d.comma,C=d.precision,T=d.trim,O=d.type;O==="n"?(b=!0,O="g"):Si[O]||(C===void 0&&(C=12),T=!0,O="g"),(E||m==="0"&&x==="=")&&(E=!0,m="0",x="=");var P=$==="$"?n:$==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",F=$==="$"?r:/[%p]/.test(O)?s:"",z=Si[O],I=/[defgprs%]/.test(O);C=C===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function B(L){var M=P,R=F,Y,G,J;if(O==="c")R=z(L)+R,L="";else{L=+L;var Z=L<0||1/L<0;if(L=isNaN(L)?c:z(Math.abs(L),C),T&&(L=qu(L)),Z&&+L==0&&w!=="+"&&(Z=!1),M=(Z?w==="("?w:a:w==="-"||w==="("?"":w)+M,R=(O==="s"?Ii[8+Ri/3]:"")+R+(Z&&w==="("?")":""),I){for(Y=-1,G=L.length;++Y<G;)if(J=L.charCodeAt(Y),48>J||J>57){R=(J===46?i+L.slice(Y+1):L.slice(Y))+R,L=L.slice(0,Y);break}}}b&&!E&&(L=e(L,1/0));var rt=M.length+L.length+R.length,k=rt<N?new Array(N-rt+1).join(m):"";switch(b&&E&&(L=e(k+L,k.length?N-R.length:1/0),k=""),x){case"<":L=M+L+R+k;break;case"=":L=M+k+L+R;break;case"^":L=k.slice(0,rt=k.length>>1)+M+L+R+k.slice(rt);break;default:L=k+M+L+R;break}return o(L)}return B.toString=function(){return d+""},B}function h(d,m){var x=u((d=Fn(d),d.type="f",d)),w=Math.max(-8,Math.min(8,Math.floor(Bt(m)/3)))*3,$=Math.pow(10,-w),E=Ii[8+w/3];return function(N){return x($*N)+E}}return{format:u,formatPrefix:h}}var In,Xt,Di;Hi({thousands:",",grouping:[3],currency:["$",""]});function Hi(t){return In=Xu(t),Xt=In.format,Di=In.formatPrefix,In}function Yu(t){return Math.max(0,-Bt(Math.abs(t)))}function ju(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bt(e)/3)))*3-Bt(Math.abs(t)))}function Gu(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bt(e)-Bt(t))+1}function Ie(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const zi=Symbol("implicit");function Vi(){var t=new Ir,e=[],n=[],r=zi;function i(o){let s=t.get(o);if(s===void 0){if(r!==zi)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Ir;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Vi(e,n).unknown(r)},Ie.apply(i,arguments),i}function qi(){var t=Vi().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,c=0,u=0,h=.5;delete t.unknown;function d(){var m=e().length,x=i<r,w=x?i:r,$=x?r:i;o=($-w)/Math.max(1,m-c+u*2),a&&(o=Math.floor(o)),w+=($-w-o*(m-c))*h,s=o*(1-c),a&&(w=Math.round(w),s=Math.round(s));var E=pa(m).map(function(N){return w+o*N});return n(x?E.reverse():E)}return t.domain=function(m){return arguments.length?(e(m),d()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(m){return arguments.length?(a=!!m,d()):a},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),d()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),d()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,d()):u},t.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),d()):h},t.copy=function(){return qi(e(),[r,i]).round(a).paddingInner(c).paddingOuter(u).align(h)},Ie.apply(d(),arguments)}function Wu(t){return function(){return t}}function Uu(t){return+t}var Bi=[0,1];function Yt(t){return t}function De(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Wu(isNaN(e)?NaN:.5)}function Ku(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Zu(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=De(i,r),o=n(s,o)):(r=De(r,i),o=n(o,s)),function(a){return o(r(a))}}function Qu(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=De(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var c=aa(t,a,1,r)-1;return o[c](i[c](a))}}function Ju(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function tf(){var t=Bi,e=Bi,n=$n,r,i,o,s=Yt,a,c,u;function h(){var m=Math.min(t.length,e.length);return s!==Yt&&(s=Ku(t[0],t[m-1])),a=m>2?Qu:Zu,c=u=null,d}function d(m){return m==null||isNaN(m=+m)?o:(c||(c=a(t.map(r),e,n)))(r(s(m)))}return d.invert=function(m){return s(i((u||(u=a(e,t.map(r),pt)))(m)))},d.domain=function(m){return arguments.length?(t=Array.from(m,Uu),h()):t.slice()},d.range=function(m){return arguments.length?(e=Array.from(m),h()):e.slice()},d.rangeRound=function(m){return e=Array.from(m),n=wc,h()},d.clamp=function(m){return arguments.length?(s=m?!0:Yt,h()):s!==Yt},d.interpolate=function(m){return arguments.length?(n=m,h()):n},d.unknown=function(m){return arguments.length?(o=m,d):o},function(m,x){return r=m,i=x,h()}}function nf(){return tf()(Yt,Yt)}function ef(t,e,n,r){var i=ha(t,e,n),o;switch(r=Fn(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=ju(i,s))&&(r.precision=o),Di(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Gu(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Yu(i))&&(r.precision=o-(r.type==="%")*2);break}}return Xt(r)}function rf(t){var e=t.domain;return t.ticks=function(n){var r=e();return fa(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return ef(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],c,u,h=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);h-- >0;){if(u=Hr(s,a,n),u===c)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;c=u}return t},t}function Xi(){var t=nf();return t.copy=function(){return Ju(t,Xi())},Ie.apply(t,arguments),rf(t)}function q(t){return function(){return t}}var Yi=Math.abs,et=Math.atan2,Rt=Math.cos,of=Math.max,He=Math.min,xt=Math.sin,jt=Math.sqrt,lt=1e-12,an=Math.PI,Dn=an/2,Hn=2*an;function sf(t){return t>1?0:t<-1?an:Math.acos(t)}function ji(t){return t>=1?Dn:t<=-1?-Dn:Math.asin(t)}function af(t){return t.innerRadius}function lf(t){return t.outerRadius}function cf(t){return t.startAngle}function uf(t){return t.endAngle}function ff(t){return t&&t.padAngle}function hf(t,e,n,r,i,o,s,a){var c=n-t,u=r-e,h=s-i,d=a-o,m=d*c-h*u;if(!(m*m<lt))return m=(h*(e-o)-d*(t-i))/m,[t+m*c,e+m*u]}function zn(t,e,n,r,i,o,s){var a=t-n,c=e-r,u=(s?o:-o)/jt(a*a+c*c),h=u*c,d=-u*a,m=t+h,x=e+d,w=n+h,$=r+d,E=(m+w)/2,N=(x+$)/2,b=w-m,C=$-x,T=b*b+C*C,O=i-o,P=m*$-w*x,F=(C<0?-1:1)*jt(of(0,O*O*T-P*P)),z=(P*C-b*F)/T,I=(-P*b-C*F)/T,B=(P*C+b*F)/T,L=(-P*b+C*F)/T,M=z-E,R=I-N,Y=B-E,G=L-N;return M*M+R*R>Y*Y+G*G&&(z=B,I=L),{cx:z,cy:I,x01:-h,y01:-d,x11:z*(i/O-1),y11:I*(i/O-1)}}function pf(){var t=af,e=lf,n=q(0),r=null,i=cf,o=uf,s=ff,a=null;function c(){var u,h,d=+t.apply(this,arguments),m=+e.apply(this,arguments),x=i.apply(this,arguments)-Dn,w=o.apply(this,arguments)-Dn,$=Yi(w-x),E=w>x;if(a||(a=u=Sn()),m<d&&(h=m,m=d,d=h),!(m>lt))a.moveTo(0,0);else if($>Hn-lt)a.moveTo(m*Rt(x),m*xt(x)),a.arc(0,0,m,x,w,!E),d>lt&&(a.moveTo(d*Rt(w),d*xt(w)),a.arc(0,0,d,w,x,E));else{var N=x,b=w,C=x,T=w,O=$,P=$,F=s.apply(this,arguments)/2,z=F>lt&&(r?+r.apply(this,arguments):jt(d*d+m*m)),I=He(Yi(m-d)/2,+n.apply(this,arguments)),B=I,L=I,M,R;if(z>lt){var Y=ji(z/d*xt(F)),G=ji(z/m*xt(F));(O-=Y*2)>lt?(Y*=E?1:-1,C+=Y,T-=Y):(O=0,C=T=(x+w)/2),(P-=G*2)>lt?(G*=E?1:-1,N+=G,b-=G):(P=0,N=b=(x+w)/2)}var J=m*Rt(N),Z=m*xt(N),rt=d*Rt(T),k=d*xt(T);if(I>lt){var _=m*Rt(b),S=m*xt(b),H=d*Rt(C),X=d*xt(C),V;if($<an&&(V=hf(J,Z,H,X,_,S,rt,k))){var tt=J-V[0],it=Z-V[1],gt=_-V[0],_t=S-V[1],Wt=1/xt(sf((tt*gt+it*_t)/(jt(tt*tt+it*it)*jt(gt*gt+_t*_t)))/2),pn=jt(V[0]*V[0]+V[1]*V[1]);B=He(I,(d-pn)/(Wt-1)),L=He(I,(m-pn)/(Wt+1))}}P>lt?L>lt?(M=zn(H,X,J,Z,m,L,E),R=zn(_,S,rt,k,m,L,E),a.moveTo(M.cx+M.x01,M.cy+M.y01),L<I?a.arc(M.cx,M.cy,L,et(M.y01,M.x01),et(R.y01,R.x01),!E):(a.arc(M.cx,M.cy,L,et(M.y01,M.x01),et(M.y11,M.x11),!E),a.arc(0,0,m,et(M.cy+M.y11,M.cx+M.x11),et(R.cy+R.y11,R.cx+R.x11),!E),a.arc(R.cx,R.cy,L,et(R.y11,R.x11),et(R.y01,R.x01),!E))):(a.moveTo(J,Z),a.arc(0,0,m,N,b,!E)):a.moveTo(J,Z),!(d>lt)||!(O>lt)?a.lineTo(rt,k):B>lt?(M=zn(rt,k,_,S,d,-B,E),R=zn(J,Z,H,X,d,-B,E),a.lineTo(M.cx+M.x01,M.cy+M.y01),B<I?a.arc(M.cx,M.cy,B,et(M.y01,M.x01),et(R.y01,R.x01),!E):(a.arc(M.cx,M.cy,B,et(M.y01,M.x01),et(M.y11,M.x11),!E),a.arc(0,0,d,et(M.cy+M.y11,M.cx+M.x11),et(R.cy+R.y11,R.cx+R.x11),E),a.arc(R.cx,R.cy,B,et(R.y11,R.x11),et(R.y01,R.x01),!E))):a.arc(0,0,d,T,C,E)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-an/2;return[Rt(h)*u,xt(h)*u]},c.innerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:q(+u),c):t},c.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:q(+u),c):e},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:q(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:q(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:q(+u),c):i},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:q(+u),c):o},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:q(+u),c):s},c.context=function(u){return arguments.length?(a=u==null?null:u,c):a},c}function ze(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Gi(t){this._context=t}Gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vn(t){return new Gi(t)}function Wi(t){return t[0]}function Ui(t){return t[1]}function qn(t,e){var n=q(!0),r=null,i=Vn,o=null;t=typeof t=="function"?t:t===void 0?Wi:q(t),e=typeof e=="function"?e:e===void 0?Ui:q(e);function s(a){var c,u=(a=ze(a)).length,h,d=!1,m;for(r==null&&(o=i(m=Sn())),c=0;c<=u;++c)!(c<u&&n(h=a[c],c,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,c,a),+e(h,c,a));if(m)return o=null,m+""||null}return s.x=function(a){return arguments.length?(t=typeof a=="function"?a:q(+a),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:q(+a),s):e},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:q(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function Ve(t,e,n){var r=null,i=q(!0),o=null,s=Vn,a=null;t=typeof t=="function"?t:t===void 0?Wi:q(+t),e=typeof e=="function"?e:q(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Ui:q(+n);function c(h){var d,m,x,w=(h=ze(h)).length,$,E=!1,N,b=new Array(w),C=new Array(w);for(o==null&&(a=s(N=Sn())),d=0;d<=w;++d){if(!(d<w&&i($=h[d],d,h))===E)if(E=!E)m=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),x=d-1;x>=m;--x)a.point(b[x],C[x]);a.lineEnd(),a.areaEnd()}E&&(b[d]=+t($,d,h),C[d]=+e($,d,h),a.point(r?+r($,d,h):b[d],n?+n($,d,h):C[d]))}if(N)return a=null,N+""||null}function u(){return qn().defined(i).curve(s).context(o)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:q(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:q(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:q(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:q(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:q(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:q(+h),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:q(!!h),c):i},c.curve=function(h){return arguments.length?(s=h,o!=null&&(a=s(o)),c):s},c.context=function(h){return arguments.length?(h==null?o=a=null:a=s(o=h),c):o},c}function df(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function gf(t){return t}function mf(){var t=gf,e=df,n=null,r=q(0),i=q(Hn),o=q(0);function s(a){var c,u=(a=ze(a)).length,h,d,m=0,x=new Array(u),w=new Array(u),$=+r.apply(this,arguments),E=Math.min(Hn,Math.max(-Hn,i.apply(this,arguments)-$)),N,b=Math.min(Math.abs(E)/u,o.apply(this,arguments)),C=b*(E<0?-1:1),T;for(c=0;c<u;++c)(T=w[x[c]=c]=+t(a[c],c,a))>0&&(m+=T);for(e!=null?x.sort(function(O,P){return e(w[O],w[P])}):n!=null&&x.sort(function(O,P){return n(a[O],a[P])}),c=0,d=m?(E-u*C)/m:0;c<u;++c,$=N)h=x[c],T=w[h],N=$+(T>0?T*d:0)+C,w[h]={data:a[h],index:c,value:T,startAngle:$,endAngle:N,padAngle:b};return w}return s.value=function(a){return arguments.length?(t=typeof a=="function"?a:q(+a),s):t},s.sortValues=function(a){return arguments.length?(e=a,n=null,s):e},s.sort=function(a){return arguments.length?(n=a,e=null,s):n},s.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:q(+a),s):r},s.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:q(+a),s):i},s.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:q(+a),s):o},s}function Ki(t){return t<0?-1:1}function Zi(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Ki(o)+Ki(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Qi(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qe(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Bn(t){this._context=t}Bn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qe(this,this._t0,Qi(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qe(this,Qi(this,n=Zi(this,t,e)),n);break;default:qe(this,this._t0,n=Zi(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(Bn.prototype).point=function(t,e){Bn.prototype.point.call(this,e,t)};function Xn(t){return new Bn(t)}function yf({chart:t,set:e,xScale:n,yScale:r,colors:i,cols:o,labels:s,width:a,height:c,unit:u}){const h=On().duration(1e3),d=(k,_)=>500+_*100;Co(t,s,a,c,se(e.map(([,k])=>({values:[k]}))));const m=Ve().curve(Vn).x(([k])=>n(k)+n.bandwidth()/3*2).y1(([,k])=>r(k)).y0(()=>c),x=t.selectAll(".area").data([1]);x.exit().remove(),x.enter().append("path").attr("class","area").attr("fill",at.area).attr("opacity",.5).merge(x).transition(h).delay(2e3).attrTween("d",()=>{const k=An(e.map(()=>0),e.map(([,_])=>_));return _=>m(k(_).map((S,H)=>[e[H][0],S]))});const $=t.selectAll(".bar").data(e,([k])=>k);$.exit().remove();const E=$.enter().append("g").attr("font-family",At).attr("class","bar");$.merge(E);const N=([k,_],S)=>uh(n(k),S==="init"?c:r(_),n.bandwidth(),c),b=([k])=>{const _=o[k].colors,{end:S}=i[_],{r:H,g:X,b:V}=fr(S);return`rgb(${H}, ${X}, ${V})`};E.append("path").attr("class","bar__color").attr("fill",b).attr("d",k=>N(k,"init")).transition(h).delay(d).attr("d",N),E.merge($.select(".bar__color").attr("fill",b).transition(h).attr("d",N));const C=qn().curve(Vn).x(([k])=>n(k)+n.bandwidth()/3*2).y(([,k])=>r(k)),T=t.selectAll(".line").data([1]);T.exit().remove(),T.enter().append("path").attr("class","line").attr("fill","none").attr("stroke",at.line).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",2).merge(T).transition(h).delay(2e3).attrTween("d",()=>{const k=An(e.map(()=>0),e.map(([,_])=>_));return _=>C(k(_).map((S,H)=>[e[H][0],S]))});const P=([k,_],S)=>ch(n(k),S==="init"?c:r(_),n.bandwidth()),F=([k],_=!1)=>{const S=o[k].colors,{border:{r:H,g:X,b:V,a:tt}}=i[S];return _===!0?tt:`rgb(${H}, ${X}, ${V})`};E.append("path").attr("class","bar__symbol").attr("fill",k=>F(k)).attr("fill-opacity",k=>F(k,!0)).attr("d",k=>P(k,"init")).transition(h).delay(d).attr("d",P).attr("fill",F),E.merge($.select(".bar__symbol").transition(h).attr("d",P).attr("fill",F));const z=([k])=>n(k)+n.bandwidth()/2,I=()=>n.bandwidth()*Uo,B=()=>I()*-1/20,L=([,k])=>(k?r(k):c)-hh(n.bandwidth())+I()/5*2;E.append("text").attr("class","bar__text").attr("fill","white").attr("text-anchor","middle").attr("font-weight","bold").text(k=>Jn(k).value).attr("font-size",I).attr("letter-spacing",B).attr("font-family",At).attr("x",z).attr("y",()=>L([])).transition(h).delay(d).attr("y",L),E.merge($.select(".bar__text").text(k=>Jn(k).value).transition(h).attr("font-size",I).attr("x",z).attr("y",L));const M=()=>n.bandwidth()/4,R=([k])=>n(k)+n.bandwidth()/3*2,Y=([,k],_)=>(_==="init"?c:r(k))-n.bandwidth()*Wo+M()/5*3;E.append("text").attr("class","bar__units").attr("fill","white").attr("text-anchor","middle").attr("font-weight","bold").text(k=>u||Jn(k).unit).attr("font-size",M).attr("x",R).attr("y",k=>Y(k,"init")).transition(h).delay(d).attr("y",Y).attr("font-size",M),E.merge($.select(".bar__units").text(k=>u||Jn(k).unit).transition(h).attr("x",R).attr("y",Y).attr("font-size",M));const G=()=>n.bandwidth()*hr,J=([k])=>n(k)+n.bandwidth()*2/3-G()/2,Z=t.selectAll(".point").data(e,([k])=>k);Z.exit().remove(),Z.enter().append("circle").attr("class","point").attr("stroke-width",2).attr("stroke",at.line).attr("fill",at.point).merge(Z).transition(h).attr("cx",J).attr("r",()=>G()).attr("cy",([,k])=>r(k))}function ln(t){return t.split("-")[0]}function Yn(t){return t.split("-")[1]}function cn(t){return["top","bottom"].includes(ln(t))?"x":"y"}function Be(t){return t==="y"?"height":"width"}function Ji(t,e,n){let{reference:r,floating:i}=t;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=cn(e),c=Be(a),u=r[c]/2-i[c]/2,h=ln(e),d=a==="x";let m;switch(h){case"top":m={x:o,y:r.y-i.height};break;case"bottom":m={x:o,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:s};break;case"left":m={x:r.x-i.width,y:s};break;default:m={x:r.x,y:r.y}}switch(Yn(e)){case"start":m[a]-=u*(n&&d?-1:1);break;case"end":m[a]+=u*(n&&d?-1:1);break}return m}const vf=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=Ji(c,r,a),d=r,m={},x=0;for(let w=0;w<o.length;w++){const{name:$,fn:E}=o[w],{x:N,y:b,data:C,reset:T}=await E({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:t,floating:e}});if(u=N!=null?N:u,h=b!=null?b:h,m=ft(Q({},m),{[$]:Q(Q({},m[$]),C)}),T&&x<=50){x++,typeof T=="object"&&(T.placement&&(d=T.placement),T.rects&&(c=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:u,y:h}=Ji(c,d,a)),w=-1;continue}}return{x:u,y:h,placement:d,strategy:i,middlewareData:m}};function xf(t){return Q({top:0,right:0,bottom:0,left:0},t)}function to(t){return typeof t!="number"?xf(t):{top:t,right:t,bottom:t,left:t}}function jn(t){return ft(Q({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}async function no(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:m=!1,padding:x=0}=e,w=to(x),E=a[m?d==="floating"?"reference":"floating":d],N=jn(await o.getClippingRect({element:((n=await(o.isElement==null?void 0:o.isElement(E)))!=null?n:!0)?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:c})),b=jn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:d==="floating"?ft(Q({},s.floating),{x:r,y:i}):s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),strategy:c}):s[d]);return{top:N.top-b.top+w.top,bottom:b.bottom-N.bottom+w.bottom,left:N.left-b.left+w.left,right:b.right-N.right+w.right}}const wf=Math.min,_f=Math.max;function Xe(t,e,n){return _f(t,wf(e,n))}const bf=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=t!=null?t:{},{x:i,y:o,placement:s,rects:a,platform:c}=e;if(n==null)return{};const u=to(r),h={x:i,y:o},d=cn(s),m=Yn(s),x=Be(d),w=await c.getDimensions(n),$=d==="y"?"top":"left",E=d==="y"?"bottom":"right",N=a.reference[x]+a.reference[d]-h[d]-a.floating[x],b=h[d]-a.reference[d],C=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n));let T=C?d==="y"?C.clientHeight||0:C.clientWidth||0:0;T===0&&(T=a.floating[x]);const O=N/2-b/2,P=u[$],F=T-w[x]-u[E],z=T/2-w[x]/2+O,I=Xe(P,z,F),M=(m==="start"?u[$]:u[E])>0&&z!==I&&a.reference[x]<=a.floating[x]?z<P?P-z:F-z:0;return{[d]:h[d]-M,data:{[d]:I,centerOffset:z-I}}}}),Af={left:"right",right:"left",bottom:"top",top:"bottom"};function Gn(t){return t.replace(/left|right|bottom|top/g,e=>Af[e])}function $f(t,e,n){n===void 0&&(n=!1);const r=Yn(t),i=cn(t),o=Be(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Gn(s)),{main:s,cross:Gn(s)}}const Ef={start:"end",end:"start"};function eo(t){return t.replace(/start|end/g,e=>Ef[e])}function Cf(t){const e=Gn(t);return[eo(t),e,eo(e)]}const Mf=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:c}=e,I=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",flipAlignment:x=!0}=I,w=ur(I,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"]),$=ln(r),N=d||($===s||!x?[Gn(s)]:Cf(s)),b=[s,...N],C=await no(e,w),T=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&T.push(C[$]),h){const{main:B,cross:L}=$f(r,o,await(a.isRTL==null?void 0:a.isRTL(c.floating)));T.push(C[B],C[L])}if(O=[...O,{placement:r,overflows:T}],!T.every(B=>B<=0)){var P,F;const B=((P=(F=i.flip)==null?void 0:F.index)!=null?P:0)+1,L=b[B];if(L)return{data:{index:B,overflows:O},reset:{placement:L}};let M="bottom";switch(m){case"bestFit":{var z;const R=(z=O.map(Y=>[Y,Y.overflows.filter(G=>G>0).reduce((G,J)=>G+J,0)]).sort((Y,G)=>Y[1]-G[1])[0])==null?void 0:z[0].placement;R&&(M=R);break}case"initialPlacement":M=s;break}if(r!==M)return{reset:{placement:M}}}return{}}}};async function kf(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ln(n),a=Yn(n),c=cn(n)==="x",u=["left","top"].includes(s)?-1:1,h=o&&c?-1:1,d=typeof e=="function"?e(t):e;let{mainAxis:m,crossAxis:x,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:Q({mainAxis:0,crossAxis:0,alignmentAxis:null},d);return a&&typeof w=="number"&&(x=a==="end"?w*-1:w),c?{x:x*h,y:m*u}:{x:m*u,y:x*h}}const Tf=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await kf(e,t);return{x:n+i.x,y:r+i.y,data:i}}}};function Nf(t){return t==="x"?"y":"x"}const Lf=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,E=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:N=>{let{x:b,y:C}=N;return{x:b,y:C}}}}=E,c=ur(E,["mainAxis","crossAxis","limiter"]),u={x:n,y:r},h=await no(e,c),d=cn(ln(i)),m=Nf(d);let x=u[d],w=u[m];if(o){const N=d==="y"?"top":"left",b=d==="y"?"bottom":"right",C=x+h[N],T=x-h[b];x=Xe(C,x,T)}if(s){const N=m==="y"?"top":"left",b=m==="y"?"bottom":"right",C=w+h[N],T=w-h[b];w=Xe(C,w,T)}const $=a.fn(ft(Q({},e),{[d]:x,[m]:w}));return ft(Q({},$),{data:{x:$.x-n,y:$.y-r}})}}};function ro(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function Ct(t){if(t==null)return window;if(!ro(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function un(t){return Ct(t).getComputedStyle(t)}function Mt(t){return ro(t)?"":t?(t.nodeName||"").toLowerCase():""}function io(){const t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function wt(t){return t instanceof Ct(t).HTMLElement}function Gt(t){return t instanceof Ct(t).Element}function Rf(t){return t instanceof Ct(t).Node}function Ye(t){if(typeof ShadowRoot=="undefined")return!1;const e=Ct(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Wn(t){const{overflow:e,overflowX:n,overflowY:r}=un(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function Of(t){return["table","td","th"].includes(Mt(t))}function oo(t){const e=/firefox/i.test(io()),n=un(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)}function so(){return!/^((?!chrome|android).)*safari/i.test(io())}const ao=Math.min,fn=Math.max,Un=Math.round;function Ot(t,e,n){var r,i,o,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect();let c=1,u=1;e&&wt(t)&&(c=t.offsetWidth>0&&Un(a.width)/t.offsetWidth||1,u=t.offsetHeight>0&&Un(a.height)/t.offsetHeight||1);const h=Gt(t)?Ct(t):window,d=!so()&&n,m=(a.left+(d&&(r=(i=h.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/c,x=(a.top+(d&&(o=(s=h.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/u,w=a.width/c,$=a.height/u;return{width:w,height:$,top:x,right:m+w,bottom:x+$,left:m,x:m,y:x}}function kt(t){return((Rf(t)?t.ownerDocument:t.document)||window.document).documentElement}function Kn(t){return Gt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function lo(t){return Ot(kt(t)).left+Kn(t).scrollLeft}function Sf(t){const e=Ot(t);return Un(e.width)!==t.offsetWidth||Un(e.height)!==t.offsetHeight}function Pf(t,e,n){const r=wt(e),i=kt(e),o=Ot(t,r&&Sf(e),n==="fixed");let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((Mt(e)!=="body"||Wn(i))&&(s=Kn(e)),wt(e)){const c=Ot(e,!0);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else i&&(a.x=lo(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function co(t){return Mt(t)==="html"?t:t.assignedSlot||t.parentNode||(Ye(t)?t.host:null)||kt(t)}function uo(t){return!wt(t)||getComputedStyle(t).position==="fixed"?null:t.offsetParent}function Ff(t){let e=co(t);for(Ye(e)&&(e=e.host);wt(e)&&!["html","body"].includes(Mt(e));){if(oo(e))return e;e=e.parentNode}return null}function je(t){const e=Ct(t);let n=uo(t);for(;n&&Of(n)&&getComputedStyle(n).position==="static";)n=uo(n);return n&&(Mt(n)==="html"||Mt(n)==="body"&&getComputedStyle(n).position==="static"&&!oo(n))?e:n||Ff(t)||e}function fo(t){if(wt(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=Ot(t);return{width:e.width,height:e.height}}function If(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=wt(n),o=kt(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((Mt(n)!=="body"||Wn(o))&&(s=Kn(n)),wt(n))){const c=Ot(n,!0);a.x=c.x+n.clientLeft,a.y=c.y+n.clientTop}return ft(Q({},e),{x:e.x-s.scrollLeft+a.x,y:e.y-s.scrollTop+a.y})}function Df(t,e){const n=Ct(t),r=kt(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const u=so();(u||!u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function Hf(t){var e;const n=kt(t),r=Kn(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=fn(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=fn(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let a=-r.scrollLeft+lo(t);const c=-r.scrollTop;return un(i||n).direction==="rtl"&&(a+=fn(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:c}}function ho(t){const e=co(t);return["html","body","#document"].includes(Mt(e))?t.ownerDocument.body:wt(e)&&Wn(e)?e:ho(e)}function po(t,e){var n;e===void 0&&(e=[]);const r=ho(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Ct(r),s=i?[o].concat(o.visualViewport||[],Wn(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(po(s))}function zf(t,e){const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&Ye(n)){let r=e;do{if(r&&t===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function Vf(t,e){const n=Ot(t,!1,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft;return{top:r,left:i,x:i,y:r,right:i+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function go(t,e,n){return e==="viewport"?jn(Df(t,n)):Gt(e)?Vf(e,n):jn(Hf(kt(t)))}function qf(t){const e=po(t),r=["absolute","fixed"].includes(un(t).position)&&wt(t)?je(t):t;return Gt(r)?e.filter(i=>Gt(i)&&zf(i,r)&&Mt(i)!=="body"):[]}function Bf(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?qf(e):[].concat(n),r],a=s[0],c=s.reduce((u,h)=>{const d=go(e,h,i);return u.top=fn(d.top,u.top),u.right=ao(d.right,u.right),u.bottom=ao(d.bottom,u.bottom),u.left=fn(d.left,u.left),u},go(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}const Xf={getClippingRect:Bf,convertOffsetParentRelativeRectToViewportRelativeRect:If,isElement:Gt,getDimensions:fo,getOffsetParent:je,getDocumentElement:kt,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:Pf(e,je(n),r),floating:ft(Q({},fo(n)),{x:0,y:0})}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>un(t).direction==="rtl"},Yf=(t,e,n)=>vf(t,e,Q({platform:Xf},n));function jf({chart:t,colors:e,t:n,set:r,xScale:i,idPrefix:o}){const s=r.map(([,{colors:b}])=>[b,e[b]]),a=t.select("defs"),c=a.selectAll(".gradient").data(s,([b])=>b);c.exit().remove();const u=c.enter().append("linearGradient").attr("class","gradient").attr("gradientTransform",`rotate(${-15})`).attr("id",([b])=>`${o}-gradient-line-${b}`).attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");c.merge(u);const h=([,{start:{r:b,g:C,b:T}}])=>`rgb(${b}, ${C}, ${T})`,d=([,{end:{r:b,g:C,b:T}}])=>`rgb(${b}, ${C}, ${T})`,m=([,{start:{a:b}}])=>b,x=([,{end:{a:b}}])=>b;u.append("stop").attr("class","gradient__start").attr("offset","20%").attr("stop-color",h).attr("stop-opacity",m).transition(n).attr("stop-color",h).attr("stop-opacity",m),u.merge(c.select(".gradient__start").transition(n).attr("stop-color",h)).attr("stop-opacity",m),u.append("stop").attr("class","gradient__end").attr("offset","100%").attr("stop-color",d).attr("stop-opacity",x).transition(n).attr("stop-color",d).attr("stop-opacity",x),u.merge(c.select(".gradient__end").transition(n).attr("stop-color",d)).attr("stop-opacity",x);const w=a.selectAll(".clip").data(r,([b])=>b);w.exit().remove();const $=w.enter().append("clipPath").attr("class","clip").attr("id",([b])=>`${o}-clip${b}`);w.merge($);const E=([,{values:b}])=>mo(b,i).width,N=([,{values:b}])=>mo(b,i).x;$.append("rect").attr("class","clip__shape").attr("width",E).attr("x",N).attr("height",5e3).attr("y",0).transition(n).attr("width",E).attr("x",N),$.merge(w.select(".clip__shape").transition(n).attr("width",E).attr("x",N))}function mo(t,e){let n=0;const r={};for(const a in t){n+=1;const c=t[a];U(c)&&(r[n]=a)}const i=nt(Object.keys(r).map(parseFloat)),[o,s]=[i[0],i[i.length-1]];return i.length?{x:e(r[o])+e.bandwidth()/2,width:e(r[s])-e(r[o])}:{x:0,width:0}}function Gf({chart:t,set:e,xScale:n,yScale:r,colors:i,labels:o,height:s,width:a,locale:c,cols:u,decimalPlaces:h}){const d=Eo(h);Je(c);const m=jo(),x=e[0][1],w=_=>_==="1",$=Math.min(...e.reduce((_,[,{values:S}])=>_.concat(Object.values(S)),[]).filter(U)),E=On().duration(1e3);jf({chart:t,colors:i,t:E,set:e,xScale:n,idPrefix:m}),Co(t,o,a,s,se(e.map(([,_])=>_)));const N=t.select(".topLeftLabel").selectAll(".topLabels").data(e,([_])=>_);N.exit().remove(),N.enter().append("tspan").attr("class","topLabels").merge(N).html(([,{values:_,name:S,colors:H}])=>{const{border:{r:X,g:V,b:tt}}=i[H],it=`rgb(${X}, ${V}, ${tt})`;return S?`
                    <tspan y="10" fill="${it}" stroke="${it}" stroke-width="10" font-size="30">\u2022</tspan>
                    <tspan y="5" dx="10" font-size="12">${S}</tspan>
                    <tspan dx="5" font-weight="bold" font-size="12">${d(ht(_))}</tspan>
            `:""}).attr("dx",(_,S)=>S>0?20:-50);const C=Ve().curve(Xn).x(([_])=>n(_)+n.bandwidth()/2).y0(()=>r($)).y1(([,_])=>r(_)),T=Ve().curve(Xn).x(([_])=>n(_)+n.bandwidth()/2).y0(([_])=>r(x.values[_])).y1(([_,S])=>r(S||x.values[_])),O=t.selectAll(".area").data(e,([_])=>_);O.exit().remove(),O.enter().append("path").attr("class","area").attr("fill-opacity",0).merge(O).attr("fill",([,{colors:_}])=>`url(#${m}-gradient-line-${_})`).attr("clip-path",([_])=>!w(_)&&`url(#${m}-clip${_})`).transition(E).attrTween("d",([_,{values:S}])=>{const H=Dt(S),X=An(H.map(()=>0),H.map(([,V])=>V));return V=>(w(_)?C:T)(X(V).map((it,gt)=>[H[gt][0],it]))}).transition().attr("fill-opacity",1);const F=qn().curve(Xn).x(([_])=>n(_)+n.bandwidth()/2).y(([,_])=>r(_)),z=qn().curve(Xn).x(([_])=>n(_)+n.bandwidth()/2).y(([_,S])=>r(S||x.values[_])),I=t.selectAll(".line").data(e.sort(([_])=>w(_)?1:-1),([_])=>_);I.exit().remove(),I.enter().append("path").attr("class","line").attr("fill","none").attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke-width",2).merge(I).attr("clip-path",([_])=>!w(_)&&`url(#clip${_})`).transition(E).attr("stroke",([,{colors:_}])=>{const{border:{r:S,g:H,b:X}}=i[_];return`rgb(${S}, ${H}, ${X})`}).attrTween("d",([_,{values:S}])=>{const H=Dt(S),X=An(H.map(()=>$),H.map(([,V])=>V));return V=>(w(_)?F:z)(X(V).map((it,gt)=>[H[gt][0],it]))});const L=()=>n.bandwidth()*hr,M=([,_])=>n(_)+n.bandwidth()/2-L()/2+4,R=ri("body").append("div").attr("class","tooltip").style("position","absolute").style("left","0").style("top","0").style("opacity","0").style("pointer-events","none").style("z-index","500"),Y=Object.entries(u).filter(([,{annotation:_}])=>_).map(([_,{annotation:S,annotationWidth:H=2}])=>[_,S,Math.max(...e.map(([,{values:X}])=>X[_]).filter(X=>X)),H]),G=t.selectAll(".annotation").data(Y);G.exit().remove(),G.enter().append("line").attr("class","annotation").merge(G).transition(E).attr("x1",([_])=>M([0,_])).attr("y1",s).attr("x2",([_])=>M([0,_])).attr("y2",([,,_])=>r(_)+L()).attr("stroke",at.label).attr("stroke-width",([,,,_])=>_);const Z=e.sort(([_])=>w(_)?1:-1).reduce((_,[S,{values:H}])=>_.concat(Dt(H).map(X=>[S,...X])),[]).filter(([,,_])=>_),rt=t.selectAll(".point").data(Z,([_,S])=>_+S);rt.exit().remove(),rt.enter().append("circle").attr("class","point").attr("stroke-width",2).attr("fill",at.point).merge(rt).transition(E).attr("r",()=>L()).attr("cx",M).attr("cy",([,,_])=>r(_)).attr("stroke",([_])=>{const[,{colors:S}]=e.find(([tt])=>tt===_),{border:{r:H,g:X,b:V}}=i[S];return`rgb(${H}, ${X}, ${V})`}),t.selectAll(".annotation-area").data(Y).enter().append("rect").attr("class","annotation-area").attr("fill","transparent").attr("x",([_])=>n(_)+n.bandwidth()/2-14).attr("y",([,,_])=>r(_)-14).attr("width",28).attr("height",([,,_])=>s-r(_)+50).on("mouseover",(_,[S,[H,...X]])=>R.style("opacity","1").html(`
                    <table>
                        <caption>${u[S].value}</caption>
                        <thead>
                            <tr>
                                ${H.map(V=>`<th>${V}</th>`).join("")}
                            </tr>
                        </thead>
                        <tbody>
                            ${X.map(V=>`
                                <tr>${V.map(tt=>`<td data-value="${tt}">${tt}</td>`).join("")}</tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <div class="tooltip-arrow"></div>
                `)).on("mousemove",({clientX:_,clientY:S})=>{const H={getBoundingClientRect(){return{width:0,height:0,x:_,y:S,left:_,right:_,top:S,bottom:S}}},X=R.node(),V=X.lastElementChild;Yf(H,X,{placement:"top",middleware:[Tf(20),Mf(),Lf(),bf({element:V})]}).then(({x:tt,y:it,middlewareData:{arrow:gt},placement:_t})=>{Object.assign(X.style,{top:_t==="top"?`${it}px`:0,transform:_t==="bottom"?"translateY(100%)":"none",left:`${tt}px`}),Object.assign(V.style,{top:_t==="top"?"100%":0,transform:_t==="bottom"?"translateY(-100%) rotate(180deg)":"none",left:`${gt.x}px`})})}).on("mouseout",()=>R.style("opacity","0"))}function Wf({chart:t,set:e,colors:n,cols:r,width:i,sortDirection:o,sortType:s}){const a=On().duration(1e3).delay(1e3),c=mf().value(([,b])=>b).sort(null)(e.sort(Ao(s,o,r)).map(b=>b)),u=i/2,h=u*.55,d=pf().innerRadius(h).outerRadius(u),m=(b,C)=>{const T=ft(Q({},b),{data:[b.data[0],0],endAngle:0,padAngle:0,startAngle:0,value:0}),O=$n(T,b);return function(P){const F=O(P);return d(F,C)}},x=t.selectAll(".doughnut").data([1]).enter().append("g").attr("class","doughnut").attr("transform",`translate(${i/2}, ${i/2})`),w=t.select(".doughnut").selectAll(".arc").data(c,({data:[b]})=>b);w.exit().remove(),w.enter().append("path").attr("class","arc").merge(w).transition(a).attrTween("d",m).attr("fill",(b,C)=>{const[T]=e[C],{colors:O}=r[T],{border:{r:P,g:F,b:z}}=n[O];return`rgb(${P}, ${F}, ${z})`});const E=x.selectAll(".center").data([1]);E.enter().append("circle").attr("class","center").attr("stroke","white").attr("stroke-width",60).attr("stroke-opacity",.8).attr("cx",0).attr("cy",0).attr("fill","none").attr("r",0).merge(E).transition().duration(500).attr("r",h)}function yo(t,{cols:e,rows:n,colors:r,isTransposed:i}){const[o,s]=i?Uf(e,n):[e,n];Jf(t),Kf(t,o),Zf(t,s,o,r)}function Uf(t,e){const[[n,r],...i]=Object.entries(t),o=Q({0:r},Object.fromEntries(Object.entries(e).map(([a,{values:c,colors:u}])=>[a,{colors:u,value:c[n]}]))),s=Object.fromEntries(i.map(([a,{value:c,colors:u}])=>[a,{colors:u,values:Q({0:c},Object.fromEntries(Object.entries(e).map(([h,{values:d}])=>[h,d[a]])))}]));return[o,s]}function Kf(t,e){const n=document.createElement("thead"),r=document.createElement("tr");let i=0;for(const o in e){i+=1;const s=document.createElement("th");s.innerHTML=e[o].value.replace("|","<br>"),r.appendChild(s),i===1&&r.appendChild(s.cloneNode(!0))}n.appendChild(r),t.appendChild(n)}function Zf(t,e,n,r){const i=document.createElement("tbody"),o=Qf(r),s=Object.values(n);let a=0;for(const c in e){a+=1;const u=document.createElement("tr"),{values:h,colors:d}=e[c];if(Object.values(h).every(x=>!x))continue;let m=0;for(const x in h){const{colors:w}=s[m];m+=1;const $=document.createElement("td");o($,d,w,a%2==0),$.innerHTML=h[x].replace("|","<br>"),u.appendChild($),m===1&&u.appendChild($.cloneNode(!0))}i.appendChild(u)}t.appendChild(i)}function Qf(t){return t?(e,n,r,i)=>{const{start:o,border:s}=t[n]||gr,{start:a,end:c,border:u}=t[r]||gr;o.a&&(e.style.backgroundColor=`rgba(${o.r},${o.g},${o.b},${o.a})`),i&&c.a?e.style.backgroundColor=`rgba(${c.r},${c.g},${c.b},${c.a})`:a.a&&(e.style.backgroundColor=`rgba(${a.r},${a.g},${a.b},${a.a})`),s.a&&(e.style.color=`rgba(${s.r},${s.g},${s.b},${s.a})`),u.a&&(e.style.color=`rgba(${u.r},${u.g},${u.b},${u.a})`)}:()=>null}function Jf(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ge(t,e){const n=8,r=e.scrollLeft,i=e.scrollWidth-e.offsetWidth,o=t<0?0:t>i?i:t;if(Math.abs(r-o)>1){const s=Math.abs(r-o),a=r>o?-1:1;e.scrollLeft=e.scrollLeft+a*(s>n?s/n:1),window.requestAnimationFrame(()=>Ge(o,e)),window.canClick=!1}else window.canClick=!0}function th(t,e,n){e.scrollLeft=e.scrollWidth,window.canClick=!0;const r=document.createElement("div");r.className="table-header";const i=document.createElement("button");i.innerText="\u2190",i.className="hidden",i.addEventListener("click",()=>{window.canClick&&Ge(e.scrollLeft-n,e)});const o=document.createElement("button");o.innerText="\u2192",o.className="hidden",o.addEventListener("click",()=>{window.canClick&&Ge(e.scrollLeft+n,e)});const s=document.createElement("span");s.innerText=t,r.appendChild(i),r.appendChild(s),r.appendChild(o);const a=nh(i,o);return e.addEventListener("scroll",({target:c})=>a(c)),a(e),r}function nh(t,e){return n=>{t.classList.toggle("hidden",Math.abs(n.scrollLeft)<2),e.classList.toggle("hidden",Math.abs(n.scrollLeft+n.offsetWidth-n.scrollWidth)<2)}}function We(t){return t===vr}function St(t){return t===xr}function hn(t){return t===yr}function eh(t){return t===vr||t===xr||t===yr}function rh(t){return t===ns}function Ue(t){return t.width-vo(t)}function Zn(t){return t.height-oh(t)}function vo({rows:t,chartType:e,verticalLabel:n}){return St(e)?0:se(t)*Ft*pr+(n?ae:0)}function ih({chartType:t}){return St(t)?0:dr.top}function oh({chartType:t}){return St(t)?0:dr.bottom+ae}function Qn({chartType:t,rows:e},n=!0){if(hn(t)){if(!n)return Dt(e);const i={};return Object.keys(e).forEach(o=>{Object.keys(e[o].values).forEach(s=>{i[s]=parseInt(i[s],10)>e[o].values[s]?i[s]:e[o].values[s]})}),Dt(i)}const[r]=Object.keys(e);return Dt(e[r].values)}function sh(t,e){const n=Qn(e),r=xo(n,e),i=wo(n,e),s=t.append("svg").attr("viewBox",`0 0 ${e.width} ${e.height}`).attr("fontStyle","normal").attr("fontFamily",At).append("g").attr("transform",`translate(${vo(e)}, ${ih(e)})`);return s.append("g").attr("class","axis axis--y").call(i),s.append("g").attr("class","axis axis--x").attr("transform",`translate(0, ${Zn(e)})`).call(r),s.append("defs"),s}function xo(t,e){if(St(e.chartType))return()=>null;const n=Ze(t,e);return r=>{const i=_a(n).tickSize(0);r.call(i),r.select(".domain").remove();const o=r.selectAll(".tick text").attr("font-size",Ft).attr("font-family",At).attr("dy",16).attr("fill",at.label).text("");o.append("tspan").attr("dy","1.4em").attr("x","0").text(s=>Ke(e.cols[s].value,e.locale,0)),o.append("tspan").attr("dy","1.4em").attr("x","0").text(s=>Ke(e.cols[s].value,e.locale,1)),o.append("tspan").attr("dy","1.4em").attr("x","0").text(s=>Ke(e.cols[s].value,e.locale,2))}}function Ke(t,e,n){const[r,i,o,s]=t.split(/\.|\s|\.\s|\.&nbsp;|&nbsp;/).filter(Boolean);return[r,i,o].every(c=>parseInt(c,10))?(e==="cs"?[`${r}. ${i}.`,o,s]:[`${r}.${i}.`,o,s])[n]:[r,i,o,s][n]}function wo(t,e){if(Je(e.locale),St(e.chartType))return()=>null;const n=_o(t,e),r=Ue(e);return i=>{const o=wa(n).tickSize(r).tickPadding(0);i.call(o),i.select(".domain").remove(),i.selectAll(".tick line").attr("opacity",s=>s>Math.max(...t.map(([,a])=>a))?0:1).attr("stroke",at.tick),i.selectAll(".tick text").text(s=>Xt(",")(s)).attr("opacity",s=>s>Math.max(...t.map(([,a])=>a))?0:1).attr("font-size",Ft).attr("font-family",At).attr("fill",at.label).attr("x",-10).attr("dy",6).attr("text-anchor","end")}}function Ze(t,e){return qi().domain(t.map(([n])=>n)).rangeRound([0,Ue(e)]).padding(We(e.chartType)?.33:0)}function _o(t,e){const{rows:n,chartType:r}=e,i=Object.values(n).reduce((c,u)=>c.concat(Object.values(u.values)),[]).filter(U);let o=1;if(We(r)){const u=Ze(t,e).bandwidth()*Qt,h=Zn(e);o=(h+u)/h*1.1}else hn(r)&&(o=1.05);const s=hn(r)?Math.min(...i):0,a=Math.max(...i)*o;return Xi().domain([s,a]).range([Zn(e),0])}function bo(t,e,n){Je(e.locale);const{chartType:r,horizontalLabel:i,verticalLabel:o,sortDirection:s,sortType:a}=e,c={set:Qn(e,!hn(r)),height:Zn(e),width:Ue(e),xScale:Ze(t,e),yScale:_o(t,e),colors:e.colors,cols:e.cols,unit:e.unit,locale:e.locale,decimalPlaces:e.decimalPlaces,labels:{horizontalLabel:i,verticalLabel:o},sortDirection:s,sortType:a,chart:n};return We(r)?yf(c):hn(r)?Gf(c):St(r)?Wf(c):!0}function Qe({title:t,subtitle:e},n){if(!t&&!e)return;const r=document.createElement("header");r.className="header";const i=document.createElement("h1"),o=document.createElement("h2");i.innerHTML=t,e.split("|").forEach(s=>{const a=document.createElement("span");a.innerHTML=s.trim(),o.appendChild(a)}),r.appendChild(i),r.appendChild(o),n.insertAdjacentElement("afterbegin",r)}function Ao(t,e,n){const r=e===os;return([i,o],[s,a])=>t===es?r?-1:1:t===is?(o-a)*(r?-1:1):t===rs?(n[i].value>n[s].value?1:-1)*(r?-1:1):-1}function $o(t,{cols:e,colors:n,unit:r,displayLegend:i,sortType:o,sortDirection:s,locale:a,decimalPlaces:c},u){if(i===!1)return!1;const h=document.createElement("footer");h.className="footer";const d=Eo(c);return t.sort(Ao(o,s,e)).forEach(([m,x])=>{const{colors:w,value:$}=e[m],{border:{r:E,g:N,b}}=n[w],C=document.createElement("div");C.className="line";const T=document.createElement("div");T.className="color",T.style.backgroundColor=`rgb(${E}, ${N}, ${b})`;const O=document.createElement("div");O.className="value",O.innerHTML=`${d(x)}${r?`${r==="%"&&a==="en"?"":"&nbsp;"}${r}`:""}`;const P=document.createElement("div");P.className="label",P.innerHTML=$,C.appendChild(T),C.appendChild(P),C.appendChild(O),h.appendChild(C)}),u.insertAdjacentElement("beforeend",h),!0}function Eo(t){return Go(t)?Xt(`,.${t}f`):Xt(",")}function Jn([,t]){const[,e,n]=/([^a-zA-Z]*)([a-zA-Z]?)/g.exec(Xt("~s")(t)),r=t<0?"-":"+";return{value:e,unit:n,sign:r}}const ah="M9.2 5.3H6.6C6.5 5.1 6.5 4.9 6.4 4.8L3.8 0.3C3.5 -0.1 3.2 -0.1 3 0.3L0.4 4.8C0.2 5.2 0 5.8 0 6.2V11.4C0 11.8 0.3 12.2 0.8 12.2H3.4C3.5 12.4 3.5 12.6 3.6 12.7L6.2 17.2C6.4 17.6 6.7 17.6 7 17.2L9.6 12.7C9.8 12.3 10 11.7 10 11.3V6.1C10 5.7 9.7 5.3 9.2 5.3",lh=mr.makeAbsolute(mr.parseSVG(ah));function ch(t,e,n){return fh(lh,o=>o*n/10+t,o=>o*n/10+e-n*Qt).join("")}function uh(t,e,n,r){return[`M${t} ${e-n*Qt/2}`,`L${t} ${r}`,`L${t+n} ${r}`,`L${t+n} ${e-n*Qt/2}`,"Z"].join(" ")}function fh(t,e,n){return t.map(r=>{switch(r.code){case"M":return`M${e(r.x)} ${n(r.y)}`;case"C":return`C${e(r.x1)} ${n(r.y1)} ${e(r.x2)} ${n(r.y2)} ${e(r.x)} ${n(r.y)}`;case"L":return`L${e(r.x)} ${n(r.y)}`;case"V":return`V${n(r.y)}`;case"H":return`H${e(r.x)}`;default:return""}}).filter(r=>r)}function hh(t){return t*Qt/2}function Co(t,e,n,r,i){const o=t.selectAll(".verticalLabel").data([1]),s=-1*(i+1)*Ft*pr;o.enter().append("text").attr("class","verticalLabel").attr("x",s).attr("transform",`rotate(-90, ${s}, ${r})`).attr("y",r).attr("font-family",At).attr("fill",at.label).attr("fill-opacity",0).merge(o).text(e.verticalLabel).transition().duration(1e3).attr("fill-opacity",1),t.selectAll(".topLeftLabel").data([1]).enter().append("text").attr("class","topLeftLabel").attr("x",0).attr("y",0).attr("font-family",At).attr("fill",at.label),t.selectAll(".topRightLabel").data([1]).enter().append("text").attr("class","topRightLabel").attr("x",n-20).attr("y",0).attr("font-family",At).attr("fill",at.label).attr("fill-opacity",1).attr("text-anchor","end");const h=t.selectAll(".bottomRightLabel").data([1]);h.enter().append("text").attr("class","bottomRightLabel").attr("x",n-20).attr("y",r+ae*1.75).attr("font-family",At).attr("fill",at.label).attr("text-anchor","end").merge(h).text(e.horizontalLabel).transition().duration(1e3).attr("fill-opacity",.5)}function Je(t){const e={[wr]:{decimal:",",thousands:" ",grouping:[3],currency:[""," K\u010D"]},[ss]:{decimal:".",thousands:",",grouping:[3],currency:["\xA3",""]}};return Hi(e[t]||e[wr])}function ph(t,e){if(eh(e.chartType)){e.height=St(e.chartType)?e.width:e.height;const n=ri(t).attr("class",`renderer ${e.chartType}-chart ${e.orientation}`),r=sh(n,e),i=Qn(e);return bo(i,e,r),Qe(e,t),$o(i,e,t),o=>{const s=Qn(o);r.select(".axis--y").call(wo(s,o)),r.select(".axis--x").call(xo(s,o)),bo(s,o,r),t.querySelector("header")&&t.querySelector("header").remove(),Qe(o,t),t.querySelector("footer")&&t.querySelector("footer").remove(),$o(s,o,t)}}else if(rh(e.chartType)){t.classList.add("table");const n=document.createElement("table");n.className="table";const r=document.createElement("div");r.className="table-wrapper",Qe(e,t),yo(n,e),r.appendChild(n),t.appendChild(r);const i=.75*window.innerWidth,o=th(e.tableTitle,r,i);return t.insertBefore(o,r),[...n.querySelectorAll("tr")].forEach(a=>{const c=[...a.children].map(u=>u.getBoundingClientRect().height);a.style.setProperty("--cellHeight",`${Math.max(...c)}px`)}),a=>{yo(n,a)}}}var Gh="";j.colorSets=Ko,j.colors=at,j.default=ph,Object.defineProperty(j,"__esModule",{value:!0}),j[Symbol.toStringTag]="Module"});
